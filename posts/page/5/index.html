<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Posts | oopsmonk</title><meta name=keywords content><meta name=description content="Posts - oopsmonk"><meta name=author content="oopsmonk"><link rel=canonical href=https://oopsmonk.github.io/posts/><link crossorigin=anonymous href=/assets/css/stylesheet.min.c88963fe2d79462000fd0fb1b3737783c32855d340583e4523343f8735c787f0.css integrity="sha256-yIlj/i15RiAA/Q+xs3N3g8MoVdNAWD5FIzQ/hzXHh/A=" rel="preload stylesheet" as=style><link rel=preload href=/images/bio-oopsmonk.jpg as=image><link rel=icon href=https://oopsmonk.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://oopsmonk.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://oopsmonk.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://oopsmonk.github.io/apple-touch-icon.png><link rel=mask-icon href=https://oopsmonk.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.97.3"><link rel=alternate type=application/rss+xml href=https://oopsmonk.github.io/posts/index.xml><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,o,i,a,t,n,s){e.GoogleAnalyticsObject=t,e[t]=e[t]||function(){(e[t].q=e[t].q||[]).push(arguments)},e[t].l=1*new Date,n=o.createElement(i),s=o.getElementsByTagName(i)[0],n.async=1,n.src=a,s.parentNode.insertBefore(n,s)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-59507590-1","auto"),ga("send","pageview"))</script><meta property="og:title" content="Posts"><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:url" content="https://oopsmonk.github.io/posts/"><meta property="og:image" content="https://oopsmonk.github.io/images/bio-oopsmonk.jpg"><meta property="og:site_name" content="Viva La Vida"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://oopsmonk.github.io/images/bio-oopsmonk.jpg"><meta name=twitter:title content="Posts"><meta name=twitter:description content><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://oopsmonk.github.io/posts/"}]}</script></head><body class="list dark" id=top><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://oopsmonk.github.io/ accesskey=h title="Home (Alt + H)"><img src=https://oopsmonk.github.io/images/bio-oopsmonk.jpg alt=logo aria-label=logo height=35>Home</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://oopsmonk.github.io/posts/ title=Posts><span class=active>Posts</span></a></li><li><a href=https://oopsmonk.github.io/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://oopsmonk.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://oopsmonk.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://oopsmonk.github.io/>Home</a></div><h1>Posts</h1></header><article class=post-entry><header class=entry-header><h2>Android USB Media Transfer Protocol(MPT)</h2></header><section class=entry-content><p>Study USB MTP Device and Host mode in Android M.
Source Code Cross Reference: Android 6.0.1_r10
MTP Device Mode Enable device mode:
Settings -> Developer options -> Select USB Configuration -> MTP
UsbDeviceManager: Setting USB config to mtp
device/lge/hammerhead/init.hammerhead.usb.rc : on property:sys.usb.config=mtp
system/core/rootdir/init.usb.configfs.rc: on property:sys.usb.config=mtp && property:sys.usb.configfs=1
USB plug to PC:
MtpReceiver: listen to android.hardware.usb.action.USB_STATE and bring up MtpService
UsbDeviceManager: get uevent USB_STATE=CONFIGURED from kernel
MtpService: create MtpDatabase MtpDatabase: create volume and storage path...</p></section><footer class=entry-footer><span title="2017-04-18 11:55:32 +0800 +0800">April 18, 2017</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;oopsmonk</footer><a class=entry-link aria-label="post link to Android USB Media Transfer Protocol(MPT)" href=https://oopsmonk.github.io/posts/2017-04-18-android-usb-media-transfer-protocol/></a></article><article class=post-entry><header class=entry-header><h2>Slow and Fast</h2></header><section class=entry-content><p>以前球隊在回防時, 教練總會說"快跑! 別回頭, 到定點再休息".
關於人生, 喘息點在哪兒? 我想就在滴水穿石之間!
Week9 (03/03) 228的4天連假讓這週過的特別快.
網路文章 What Americans can learn from other food cultures Google breaks SHA-1 web crypto for good but Torvalds plays down impact on Git Announcing the first SHA1 collision
Google 公怖與CWI Amsterdam合作生出了第一個SHA-1 collision, 對於使用SHA-1的Git來說會有什麼影響?
目前看來是影響不大, 主因如下: Git remote 與 local 發生衝突時local並不會被override. 相較於Git, PDF檔是較容易被破解的. Git可能會計劃使用SHA3-256為新的hash algorithm.
為什麼不選SHA256? “SHA256 acceleration is mainly an ARM thing” - Torvalds 網路資源 Math is Fun: Common Core Standards: 基本數學....</p></section><footer class=entry-footer><span title="2017-03-31 13:21:57 +0800 +0800">March 31, 2017</span>&nbsp;·&nbsp;5 min&nbsp;·&nbsp;oopsmonk</footer><a class=entry-link aria-label="post link to Slow and Fast" href=https://oopsmonk.github.io/posts/2017-03-01-2017month3/></a></article><article class=post-entry><header class=entry-header><h2>在Shell使用vi-mode</h2></header><section class=entry-content><p>Vi用慣了, 那在shell也可以vi-style嗎? 答案是可以的!
這個方法可使用在常用的shell, 例如bash, ksh, zsh, mksh.
btw, mksh 是Android使用的shell, 但Ubuntu預設的dash 是不支援的.
在shell中執行set -o vi 後按’i’進入insert mode, ‘ESC’為normal mode.
回到原本的模式則是set -o emacs
如下圖:
Reference: Using vi-mode in your shell</p></section><footer class=entry-footer><span title="2017-03-28 15:36:08 +0800 +0800">March 28, 2017</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;oopsmonk</footer><a class=entry-link aria-label="post link to 在Shell使用vi-mode" href=https://oopsmonk.github.io/posts/2017-03-28-vi-mode-in-shell/></a></article><article class=post-entry><header class=entry-header><h2>The First SHA1 Collision</h2></header><section class=entry-content><p>CWI Institute in Amsterdam and Google genrate two PDF documents with the same SHA-1 digest.
Google security blog - Announcing the first SHA1 collision
SHA-1 collistion and Git If a file A with X hash in local repository and with X hash in remote (SHA-1 collistion between local and remote), would overwrite the local version? Nope. If it has the same SHA1, it means that when we receive the object from the other end, we will not overwrite the object we already have....</p></section><footer class=entry-footer><span title="2017-03-03 09:44:13 +0800 +0800">March 3, 2017</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;oopsmonk</footer><a class=entry-link aria-label="post link to The First SHA1 Collision" href=https://oopsmonk.github.io/posts/2017-03-03-the-first-sha1-collision/></a></article><article class=post-entry><header class=entry-header><h2>新章</h2></header><section class=entry-content><p>以前球隊在回防時, 教練總會說"快跑! 別回頭, 到定點再休息".
關於人生, 喘息點在哪兒? 我想就在滴水穿石之間!
Week7 (02/17) 發現minimal-mistakes上缺了繁中, 便開了個PR#838 沒想到很快就被merge, 效率真快.
試玩BeautifulSoup 寫了個簡單的ck101Comics.py用來下載卡提諾×揪漫畫.
網路文章 Diving Into Android ‘M’ Doze & Diving into Doze Mode for Developers
Android Doze在Nougat多了Light-Doze, Light-Doze的Maintenance Windows較短為了避免不同步問題, 當進入Deep-Doze(原本Marshmallow的Doze), Light-Doze會進入OVERRIDE不做任何事. 網路資源 E-book: Python for Informatics 讀書心得 Tuesdays with Morrie
讀完The Classroom, 直到這章節都是在講Mitch離開大學後的生活及偶然聽到電視上提到Morrie, 師生俩如何再度搭上線. Morrie對Mitch有很深的情感, Mitch稱他為’Coach’. “Dying,” Morrie suddenly said, “is only one thing to be sad over, Mitch. Living unhappily is something else....</p></section><footer class=entry-footer><span title="2017-02-16 15:48:32 +0800 +0800">February 16, 2017</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;oopsmonk</footer><a class=entry-link aria-label="post link to 新章" href=https://oopsmonk.github.io/posts/2017-02-28-2017month2/></a></article><article class=post-entry><header class=entry-header><h2>Android Adoptable Storage</h2></header><section class=entry-content><p>A study of adoptable storage in Android Marshmallow and Nougat.
How to Setup a Private Disk (External USB Storage) Android adoptable storage allow APP install to external storage that can reserve more internal space for other APPs.
Create Adoptable Storage Using Settings GUI Settings -> Storage & USB -> Portable storage -> Settings -> Format as internal
Use sm (Storage Manager) Command Find disk id # sm list-disks disk:8,16 disk:8,0 Format as internal # sm partition disk:8,0 private # sm list-volumes all public:8,17 mounted 629C-FBAF emulated:8,2 unmounted null private mounted null emulated mounted null private:8,2 mounted 3f538e6e-e6a9-4163-ac1e-e4c6602b3c34 Now, it’s a private storage in system....</p></section><footer class=entry-footer><span title="2017-02-13 10:08:28 +0800 +0800">February 13, 2017</span>&nbsp;·&nbsp;8 min&nbsp;·&nbsp;oopsmonk</footer><a class=entry-link aria-label="post link to Android Adoptable Storage" href=https://oopsmonk.github.io/posts/2017-02-13-android-adoptable-storage/></a></article><article class=post-entry><header class=entry-header><h2>Android Media Framework</h2></header><section class=entry-content><p>Android APIs for media playback: MediaPlayer and MediaCodec.
MediaPlayer mediaPlayer.setDataSource(path); //fd or url mediaPlayer.setDisplay(SurfaceHolder sh); //SurfaceView or VideoView mediaPlayer.prepare(); // MediaPlayer.start(); // MediaCodec /* init use MediaExtractor to get mime data create decoder by mime type configure decoder by video format and surface view */ MediaExtractor mExtractor; MediaCodec mDecoder; mExtractor = new MediaExtractor(); mExtractor.setDataSource(filePath); MediaFormat format = mExtractor.getTrackFormat(track_index); String mime = format.getString(MediaFormat.KEY_MIME); if mime.startsWith("video/") mExtractor....</p></section><footer class=entry-footer><span title="2016-06-16 15:45:54 +0800 +0800">June 16, 2016</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;oopsmonk</footer><a class=entry-link aria-label="post link to Android Media Framework" href=https://oopsmonk.github.io/posts/2016-06-16-android-media-framework/></a></article><footer class=page-footer><nav class=pagination><a class=prev href=https://oopsmonk.github.io/posts/page/4/>« Prev Page</a>
<a class=next href=https://oopsmonk.github.io/posts/page/6/>Next Page »</a></nav></footer></main><footer class=footer><span>&copy; 2022 <a href=https://oopsmonk.github.io/>oopsmonk</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(t){t.preventDefault();var e=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView({behavior:"smooth"}),e==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${e}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>