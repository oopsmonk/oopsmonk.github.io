[{"content":"Advanced Microcontroller Bus Architecture(AMBA) 2024-01-17 AMBA 5 is the latest generation of the freely available AMBA protocol specifications. It introduces the Coherent Hub Interface (CHI) architecture, which defines the interfaces to connect fully coherent processors and high-performance interconnects. AMBA 5 also introduces the AXI5, ACE5 and AHB5 protocols, which extend prior generations to include a number of performances and scalability features, and to align and complement CHI.\nAMBA 5 Protocols\nCoherent Hub Interface (CHI): defines the interfaces to connect fully coherent processors. Advanced eXtensible Interface (AXI) and AXI Coherency Extension (ACE): defines the protocols to implement high-frequency, high-bandwidth interconnect designs across a wide range of applications, including mobile, consumer, networking, automotive, and embedded. Advanced High-performance Bus (AHB): defines an interface protocol most widely used with Cortex-M processors, for embedded designs and other low latency SoCs. Advanced Peripheral Bus (APB): highly compact and low power, it allows configuration and low bandwidth traffic to be isolated from high-performance interconnects. APB supports the low-bandwidth transactions required to access configuration registers and low-bandwidth data traffic in peripherals. Advanced Trace Bus (ATB): a data-agnostic interface for transferring trace information between components in a trace system. AXI-Stream: defines an interface for unidirectional data transfers with greatly reduced signal routing. Credited eXtensible Stream (CXS): defines a credited, non-blocking streaming interface protocol, used in point-to-point packetized communications. Adaptive Traffic Profiles (ATP): a synthetic traffic framework capable of modeling systems\u0026rsquo; transmitter and receiver high-level memory access behavior in a concise, simple, and portable way. Distributed Translation Interface (DTI): aligns with the Arm System MMU architecture, to define a scalable, distributed messaging protocol for translation services. Local Translation Interface (LTI): aligns with the Arm System MMU architecture and complements AMBA DTI to improve performance and efficiency for translation services. LTI is a point-to-point protocol and defines the communication between an I/O device and a TBU. It enables devices to directly request a translation for each transaction, while leaving the TBU to manage the TLB. This enables translations to be requested before ordering requirements are met and avoids the need to pass transactions through the TBU. The result is improved performance and reduced silicon area. Low Power Interface (LPI): defines Q-Channel and P-Channel interfaces, designed to manage clock and power features of SoC components. Reference:\nWhat is AMBA, and why use it? AMBAåè®®- AXIåè®®æŒ‡å— ","permalink":"https://oopsmonk.github.io/posts/2024-01-17-arm-amba/","summary":"\u003ch2 id=\"advanced-microcontroller-bus-architectureambahttpswwwarmcomenarchitecturesystem-architecturesamba\"\u003eAdvanced Microcontroller Bus Architecture(\u003ca href=\"https://www.arm.com/en/architecture/system-architectures/amba\"\u003eAMBA\u003c/a\u003e)\u003c/h2\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003cstrong\u003e2024-01-17\u003c/strong\u003e\nAMBA 5 is the latest generation of the freely available \u003ccode\u003eAMBA protocol specifications\u003c/code\u003e. It introduces the \u003ccode\u003eCoherent Hub Interface\u003c/code\u003e (CHI) architecture, which defines the interfaces to connect fully coherent processors and high-performance interconnects. AMBA 5 also introduces the AXI5, ACE5 and AHB5 protocols, which extend prior generations to include a number of performances and scalability features, and to align and complement CHI.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003e\u003cimg loading=\"lazy\" src=\"/images/2024-01-17/AMBA-System-Diagram.png\"\u003e\u003c/p\u003e\n\u003cp\u003eAMBA 5 Protocols\u003c/p\u003e","title":"ARM AMBA"},{"content":"If we wanna extend the storage space of the computer, we need to shut the machine down then you are able to add another storage device for it.\nAdvantages of using Elastic Block Store(EBS) are\nreboot the instance is not needed. the space can be extended instead of adding a new device. Increase EBS volume size on EC2 is easy:\nModify the volume on AWS Console Extend the partition by growpart Extend the file system by resize2fs(ext4) or xfs_growfs(xfs) Step 1: Modify the volume on AWS Console Login to AWS Console and select a volume via the Volume ID then click the Modify button on the top right corner. It will bring you to the modify configuration page.\nChange the volume type or the size then click the Modify button again.\nThe Volume state column and the Volume state field in the Details tab contain information in the following format: volume-state - modification-state (progress%). Once you modify the volume, the modification-state could be modifying, optimizing, and completed. you can proceed when the modification-state changed to optimizing.\nStep 2: Extend The Partition by growpart Connect to the EC2 instance, find the partition name and number via lsblk command.\nubuntu@ip-xxx-xxx-xxx-xx:~$ sudo lsblk NAME MAJ:MIN RM SIZE RO TYPE MOUNTPOINTS loop0 7:0 0 24.4M 1 loop /snap/amazon-ssm-agent/6312 loop1 7:1 0 24.8M 1 loop /snap/amazon-ssm-agent/6563 ... loop8 7:8 0 63.4M 1 loop /snap/core20/1950 loop9 7:9 0 53.3M 1 loop /snap/snapd/19361 loop10 7:10 0 55.7M 1 loop /snap/core18/2785 nvme0n1 259:0 0 200G 0 disk â”œâ”€nvme0n1p1 259:1 0 99.9G 0 part / â”œâ”€nvme0n1p14 259:2 0 4M 0 part â””â”€nvme0n1p15 259:3 0 106M 0 part /boot/efi We are changing the root partition nvme0n1p1, where the partition name is nvme0n1 and partition number is 1.\nubuntu@ip-xxx-xxx-xxx-xx:~$ sudo growpart /dev/nvme0n1 1 CHANGED: partition=1 start=227328 old: size=209487839 end=209715167 new: size=419203039 end=419430367 Check the modification\nubuntu@ip-xxx-xxx-xxx-xx:~$ sudo lsblk NAME MAJ:MIN RM SIZE RO TYPE MOUNTPOINTS loop0 7:0 0 24.4M 1 loop /snap/amazon-ssm-agent/6312 ... loop10 7:10 0 55.7M 1 loop /snap/core18/2785 nvme0n1 259:0 0 200G 0 disk â”œâ”€nvme0n1p1 259:1 0 199.9G 0 part / â”œâ”€nvme0n1p14 259:2 0 4M 0 part â””â”€nvme0n1p15 259:3 0 106M 0 part /boot/efi ubuntu@ip-xxx-xxx-xxx-xx:~$ Step 3: Extend The File System by resize2fs or xfs_growfs The size of file system is remain the same after we changed the partition size, here my file system type is etx4.\nubuntu@ip-xxx-xxx-xxx-xx:~$ df -hT Filesystem Type Size Used Avail Use% Mounted on /dev/root ext4 97G 92G 5.4G 95% / tmpfs tmpfs 3.8G 0 3.8G 0% /dev/shm tmpfs tmpfs 1.6G 996K 1.6G 1% /run tmpfs tmpfs 5.0M 0 5.0M 0% /run/lock /dev/nvme0n1p15 vfat 105M 6.1M 99M 6% /boot/efi tmpfs tmpfs 777M 4.0K 777M 1% /run/user/1000 We are able to extend the ext4 via resize2fs\nubuntu@ip-xxx-xxx-xxx-xx:~$ sudo resize2fs /dev/nvme0n1p1 resize2fs 1.46.5 (30-Dec-2021) Filesystem at /dev/nvme0n1p1 is mounted on /; on-line resizing required old_desc_blocks = 13, new_desc_blocks = 25 The filesystem on /dev/nvme0n1p1 is now 52400379 (4k) blocks long. Using xfs_growfs for xfs file system, like\nsudo xfs_growfs -d / Double check!\nubuntu@ip-xxx-xxx-xxx-xx:~$ df -hT Filesystem Type Size Used Avail Use% Mounted on /dev/root ext4 194G 92G 103G 48% / tmpfs tmpfs 3.8G 0 3.8G 0% /dev/shm tmpfs tmpfs 1.6G 996K 1.6G 1% /run tmpfs tmpfs 5.0M 0 5.0M 0% /run/lock /dev/nvme0n1p15 vfat 105M 6.1M 99M 6% /boot/efi tmpfs tmpfs 777M 4.0K 777M 1% /run/user/1000 Troubleshooting resize2fs: Bad magic number in super-block while trying to open /dev/nvme0n1p1:\nit\u0026rsquo;s not an ext4 file system, check the file system type with df -hT\nopen: No such file or directory while opening /dev/nvme0n1p1:\nwrong partition name, check the name with df -hT\nThe filesystem is already 52400379 (4k) blocks long. Nothing to do!:\nmake sure the Step 2 was succeeded.\n","permalink":"https://oopsmonk.github.io/posts/2023-08-11-ec2-extend-volume-size/","summary":"\u003cp\u003eIf we wanna extend the storage space of the computer, we need to shut the machine down then you are able to add another storage device for it.\u003c/p\u003e\n\u003cp\u003eAdvantages of using Elastic Block Store(EBS) are\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003ereboot the instance is not needed.\u003c/li\u003e\n\u003cli\u003ethe space can be extended instead of adding a new device.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eIncrease EBS volume size on EC2 is easy:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eModify the volume on AWS Console\u003c/li\u003e\n\u003cli\u003eExtend the partition by \u003ccode\u003egrowpart\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eExtend the file system by \u003ccode\u003eresize2fs\u003c/code\u003e(ext4) or \u003ccode\u003exfs_growfs\u003c/code\u003e(xfs)\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch2 id=\"step-1-modify-the-volume-on-aws-console\"\u003eStep 1: Modify the volume on AWS Console\u003c/h2\u003e\n\u003cp\u003eLogin to \u003ca href=\"https://aws.amazon.com/console/\"\u003eAWS Console\u003c/a\u003e and select a volume via the \u003ccode\u003eVolume ID\u003c/code\u003e then click the \u003ccode\u003eModify\u003c/code\u003e button on the top right corner. It will bring you to the modify configuration page.\u003c/p\u003e","title":"Extend Volume Size on AWS EC2"},{"content":"Since an Ubuntu update on 2023-05-24, graphics seem to be broken on Chrome and Microsoft Edge browsers.\nMethod 1 A workaround is to remove the GPUCache folder in .config\nGoogle Chrome\nrm -rf ~/.config/google-chrome/Default/GPUCache Microsoft Edge\nrm -rf ~/.config/microsoft-edge/Default/GPUCache Method 2 If the browser still act weirdly, just remove all configuration and caches in the local.\nYou will need to start from fresh, make sure you keep or sync bookmarks\nGoogle Chrome\nrm -rf ~/.cache/google-chrome rm -rf ~/.config/google-chrome Microsoft Edge\nrm -rf ~/.cache/microsoft-edge rm -rf ~/.config/microsoft-edge Reference:\nSince 23 May 2023 Ubuntu 22.04 Mesa updates, Chrome won\u0026rsquo;t display website graphics After mesa upgrades, Chrome won\u0026rsquo;t show graphics ","permalink":"https://oopsmonk.github.io/posts/2023-05-25-browser-graphics-are-broken/","summary":"\u003cp\u003eSince an Ubuntu update on 2023-05-24, graphics seem to be broken on Chrome and Microsoft Edge browsers.\u003c/p\u003e\n\u003cp\u003e\u003cimg loading=\"lazy\" src=\"/images/2023-05-25/Ubuntu-browser-1.png\"\u003e\u003c/p\u003e\n\u003ch2 id=\"method-1\"\u003eMethod 1\u003c/h2\u003e\n\u003cp\u003eA workaround is to remove the \u003ccode\u003eGPUCache\u003c/code\u003e folder in \u003ccode\u003e.config\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003eGoogle Chrome\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-shell\" data-lang=\"shell\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003erm -rf ~/.config/google-chrome/Default/GPUCache\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eMicrosoft Edge\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-shell\" data-lang=\"shell\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003erm -rf ~/.config/microsoft-edge/Default/GPUCache\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch2 id=\"method-2\"\u003eMethod 2\u003c/h2\u003e\n\u003cp\u003eIf the browser still act weirdly, just remove all configuration and caches in the local.\u003c/p\u003e\n\u003cp\u003e\u003cimg loading=\"lazy\" src=\"/images/2023-05-25/Ubuntu-browser-2.png\"\u003e\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eYou will need to start from fresh, make sure you keep or sync bookmarks\u003c/strong\u003e\u003c/p\u003e","title":"Browser Graphics Are Broken"},{"content":"When I was switching from Vim to Neovim, I use The 300 line init.lua challenge and wbthomason/packer.nvim for the configuration. the Packer is working fine and has no big problems.\nRecently, I switched to folke/lazy.nvim because it has some features that saving a lot of time for users frequently working on a new environment, like me.\nBetter TUI design Automatically install missing plugins before starting up Uses lazy-lock.json to track and restore plugins Compilation is no needed after plugins changes Packer and Lazy.nvim both are great plugin managers, and Packer is planning for big improvements on user experience and performance in Roadmap for Packer v2.\nif you are new to Neovim:\nnvim-lua/kickstart.nvim LazyVim if you don\u0026rsquo;t know which plugin manager to use, the creator of packer.nvim has moved to lazy.nvim at the moment\nScreenshots Packer Status Lazy Home Packer Profiling Lazy Profiling ","permalink":"https://oopsmonk.github.io/posts/2023-05-06-lazy-nvim/","summary":"\u003cp\u003eWhen I was switching from Vim to Neovim, I use \u003ca href=\"https://neovim.discourse.group/t/the-300-line-init-lua-challenge/227\"\u003eThe 300 line init.lua challenge\u003c/a\u003e and \u003ca href=\"https://github.com/wbthomason/packer.nvim\"\u003ewbthomason/packer.nvim\u003c/a\u003e for the configuration. the Packer is working fine and has no big problems.\u003c/p\u003e\n\u003cp\u003eRecently, I switched to \u003ca href=\"https://github.com/folke/lazy.nvim\"\u003efolke/lazy.nvim\u003c/a\u003e because it has some features that saving a lot of time for users frequently working on a new environment, like me.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eBetter TUI design\u003c/li\u003e\n\u003cli\u003eAutomatically install missing plugins before starting up\u003c/li\u003e\n\u003cli\u003eUses \u003ccode\u003elazy-lock.json\u003c/code\u003e to track and restore plugins\u003c/li\u003e\n\u003cli\u003eCompilation is no needed after plugins changes\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003cstrong\u003ePacker\u003c/strong\u003e and \u003cstrong\u003eLazy.nvim\u003c/strong\u003e both are great plugin managers, and \u003cstrong\u003ePacker\u003c/strong\u003e is planning for big improvements on user experience and performance in \u003ca href=\"https://github.com/wbthomason/packer.nvim/blob/refactor/packer-v2/ROADMAP.md\"\u003eRoadmap for Packer v2\u003c/a\u003e.\u003c/p\u003e","title":"Lazy.nvim"},{"content":"Fcitx5çš„ç¹é«”å€‰é ¡æ˜¯åœ¨fcitx5-table-extraè£¡, ä½†è¢«æ²’æœ‰æ‰“åŒ…æˆdebain packageç„¡æ³•ç›´æ¥ä½¿ç”¨aptå®‰è£.\næˆ‘å€‘è¦è‡ªå·±ç·¨è­¯ä¸¦å®‰è£åœ¨ç³»çµ±ä¸Š, é¦–å…ˆå®‰è£å¿…è¦çš„packagesåŠfcitx5\n$ sudo apt-get install fcitx5 fcitx5-chinese-addons git build-essential \\ cmake extra-cmake-modules libboost-dev libimecore-dev libimetable-dev \\ libfcitx5core-dev libfcitx5utils-dev ç·¨è­¯åŠå®‰è£fcitx5-table-extra\n$ git clone https://github.com/fcitx/fcitx5-table-extra.git $ cd fcitx5-table-extra \u0026amp;\u0026amp; mkdir build \u0026amp;\u0026amp; cd build $ cmake -DCMAKE_INSTALL_PREFIX=/usr -DCMAKE_INSTALL_LIBDIR=/usr/lib .. $ make -j8 \u0026amp;\u0026amp; sudo make install é‡å•Ÿfcitx5å°±å¯ä»¥çœ‹åˆ°ä¸€äº›å€‰é ¡è¼¸å…¥æ³•, åƒæ˜¯CangJie5, SmartCangJie6\u0026hellip;\nPS.\næª¢æŸ¥ç³»çµ±æ˜¯å¦ä½¿ç”¨æ­£ç¢ºçš„è¼¸å…¥æ³•æ¡†æ¶å¯ä½¿ç”¨im-configæŒ‡ä»¤ æ³¨éŸ³è¼¸å…¥æ³•åªè¦å®‰è£fcitx5-chewingå³å¯ ","permalink":"https://oopsmonk.github.io/posts/2022-12-19-fcitx5/","summary":"\u003cp\u003eFcitx5çš„ç¹é«”å€‰é ¡æ˜¯åœ¨\u003ccode\u003efcitx5-table-extra\u003c/code\u003eè£¡, ä½†è¢«æ²’æœ‰æ‰“åŒ…æˆdebain packageç„¡æ³•ç›´æ¥ä½¿ç”¨aptå®‰è£.\u003c/p\u003e\n\u003cp\u003eæˆ‘å€‘è¦è‡ªå·±ç·¨è­¯ä¸¦å®‰è£åœ¨ç³»çµ±ä¸Š, é¦–å…ˆå®‰è£å¿…è¦çš„packagesåŠfcitx5\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e$ sudo apt-get install fcitx5 fcitx5-chinese-addons git build-essential \u003cspan style=\"color:#ae81ff\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#ae81ff\"\u003e\u003c/span\u003e  cmake extra-cmake-modules libboost-dev libimecore-dev libimetable-dev \u003cspan style=\"color:#ae81ff\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#ae81ff\"\u003e\u003c/span\u003e  libfcitx5core-dev libfcitx5utils-dev\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eç·¨è­¯åŠå®‰è£\u003ccode\u003efcitx5-table-extra\u003c/code\u003e\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e$ git clone https://github.com/fcitx/fcitx5-table-extra.git\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e$ cd fcitx5-table-extra \u003cspan style=\"color:#f92672\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e mkdir build \u003cspan style=\"color:#f92672\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e cd build\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e$ cmake -DCMAKE_INSTALL_PREFIX\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e/usr -DCMAKE_INSTALL_LIBDIR\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e/usr/lib ..\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e$ make -j8 \u003cspan style=\"color:#f92672\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e sudo make install\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eé‡å•Ÿfcitx5å°±å¯ä»¥çœ‹åˆ°ä¸€äº›å€‰é ¡è¼¸å…¥æ³•, åƒæ˜¯CangJie5, SmartCangJie6\u0026hellip;\u003c/p\u003e\n\u003cp\u003e\u003cimg loading=\"lazy\" src=\"/images/2022-12-19/fcitx5-config.png\"\u003e\u003c/p\u003e\n\u003cp\u003ePS.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eæª¢æŸ¥ç³»çµ±æ˜¯å¦ä½¿ç”¨æ­£ç¢ºçš„è¼¸å…¥æ³•æ¡†æ¶å¯ä½¿ç”¨\u003ccode\u003eim-config\u003c/code\u003eæŒ‡ä»¤\u003c/li\u003e\n\u003cli\u003eæ³¨éŸ³è¼¸å…¥æ³•åªè¦å®‰è£\u003ccode\u003efcitx5-chewing\u003c/code\u003eå³å¯\u003c/li\u003e\n\u003c/ul\u003e","title":"Fcitx5 å€‰é ¡è¼¸å…¥æ³• on Ubuntu 22.04"},{"content":"You can find many note-taking services, like, Evernote, Google Keep, Notion, Obsidian and online storage services such as, Dropbox, Google Drive, OneDrive, iCloud. They are easy to use and secure. But, secure is not equal to private! A way to keep privacy is host private services by self.\nEdward Snowdenâ€™s Privacy Tips: â€œGet Rid Of Dropbox,â€ Avoid Facebook And Google\nThis is how I share/edit notes and files with different devices which service providers are unable to peek and analyze my private contents. Joplin and Syncthing in grey are optional in the diagram, for example notes can be written on the Raspberry Pi through the terminal Joplin application, files can share between the Phone and the PC directly but my Raspberry Pi is online 24/7.\nAt least two devices is needed, here shows how to install Syncthing and Joplin on an Ubuntu PC and a Raspberry Pi. Steps are described briefly and details in the following sections\nBasic setup:\nInstall Syncthing on Raspberry Pi and Ubuntu PC Share the joplin-sync folder by Syncthing between Raspberry Pi and PC Install Joplin on Ubuntu Set synchronization target to File system Once 2 devices are setup and in sync for adding a new device:\nInstall Syncthing on the new device Add remote device by Syncthing on Raspberry Pi Share the joplin-sync folder to the new device Install Joplin on the new device Set synchronization target to File system on the new device Installing Syncthing on Ubuntu First, installing Syncthing on a local device which is Raspberry Pi in this example.\nAdding Syncthing to The Package Manager $ sudo curl -o /usr/share/keyrings/syncthing-archive-keyring.gpg https://syncthing.net/release-key.gpg $ echo \u0026#34;deb [signed-by=/usr/share/keyrings/syncthing-archive-keyring.gpg] https://apt.syncthing.net/ syncthing stable\u0026#34; | sudo tee /etc/apt/sources.list.d/syncthing.list $ sudo apt-get update $ sudo apt install syncthing Starting Syncthing Service $ syncthing [start] 2022/06/02 17:20:14 INFO: syncthing v1.20.1 \u0026#34;Fermium Flea\u0026#34; (go1.18.1 linux-amd64) deb@build.syncthing.net 2022-05-04 16:17:03 UTC [noupgrade] [start] 2022/06/02 17:20:14 INFO: Generating ECDSA key and certificate for syncthing... [start] 2022/06/02 17:20:14 INFO: Default folder created and/or linked to new config [start] 2022/06/02 17:20:15 INFO: Default config saved. Edit /home/sam/.config/syncthing/config.xml to taste (with Syncthing stopped) or use the GUI ... [K6V4V] 2022/06/02 17:20:16 INFO: GUI and API listening on 127.0.0.1:8384 Now, you can access the service by http://localhost:8384 and set username/password. Device ID could be found at Show ID in Actions menu, copy or write it down for later use.\nEnabling Syncthing Automatically You can start Syncthing automatically by 2 ways on Unix-like systems, a system service or an user service.\nFor Raspberry Pi, I would setup a system service since it runs as a server role, somehow the service has been setup after installation, I found syncthing.service under /.config/systemd/user/default.target.wants. I\u0026rsquo;d recommend to restart the Raspberry Pi for checking if Syncthing is shown in the process status(ps -axf), if it\u0026rsquo;s not there you can follow How to set up a system service\nFor Ubuntu PC, I setup the Desktop Entry, just simply copy script into ~/.config/autostart/ folder. see Using the Desktop Environment\n$ wget https://raw.githubusercontent.com/syncthing/syncthing/main/etc/linux-desktop/syncthing-start.desktop -O .config/autostart/syncthing-start.desktop Adding A Remote Device Second, Repeat previous to install Syncthing on the remote device which is an Ubuntu PC. After installing Syncthing on both Raspberry Pi and PC, you are ready to create a sync folder via the Syncthing service. Access the service of Raspberry Pi and click Add Remote Device and past PC\u0026rsquo;s Device ID\nClick Add Folder and fill in Folder Label and Folder Path as you preferred.\nSelect the Sharing tab to setup the remote device\nOnce Save is clicked, an notification will be popped up on the PC\u0026rsquo;s web-page asking to accept the invitation from the remote device(Raspberry Pi)\nInstall Joplin The recommended way to install Joplin Desktop application is from the installing script which it can create desktop icon and keep application up-to-date.\nwget -O - https://raw.githubusercontent.com/laurent22/joplin/dev/Joplin_install_and_update.sh | bash After installation, the script created $HOME/.joplin and $HOME/.config/joplin-desktop directories on the system.\nThe Joplin application version can be checked by\n$ cat $HOME/.joplin/VERSION 2.7.15 Database is stored in\n$ ls $HOME/.config/joplin-desktop cache database.sqlite log.txt resources settings.json tmp Therefore, if you would like to remove Joplin Desktop\n$ rm -rf $HOME/.joplin \u0026amp;\u0026amp; $HOME/.config/joplin-desktop Additionally, Joplin support external editor to edit Markdown files, the way to use vim/nvim is through gnome-terminal\nsudo apt install gnome-terminal Conclusion It is a way to keep sensitive contents in private and share them with different devices through Internet without worry about 3rd-parties controlling your data. The drawbacks are services maintenance is on yourself and troubleshooting is not easy if you have no basic understanding about how these tools work. Initial setup is kind of complicated and not handy for adding new devices but these services have run on my 4 devices for almost one year without problems.\nBy the way, I have been using Raspberry Pi to provide microservices for 9 years.\nNotice There is an Joplin issue on mobile devices, the workaround is downgrade the app to v2.5.5 at the moment, see:\nOperation Not Permitted On Android 12 #5691 Android filesystem sync is broken after 2.6.3 update #5779 References Syncthing Getting Start Syncthing Debian/Ubuntu Packages Joplin Joplin Desktop Application Joplin use Vim editor ","permalink":"https://oopsmonk.github.io/posts/2022-06-05-syncthin-joplin/","summary":"\u003cp\u003eYou can find many note-taking services, like, Evernote, Google Keep, Notion, Obsidian and online storage services such as, Dropbox, Google Drive, OneDrive, iCloud. They are easy to use and secure. But, secure is not equal to private! A way to keep privacy is host private services by self.\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://techcrunch.com/2014/10/11/edward-snowden-new-yorker-festival/\"\u003eEdward Snowdenâ€™s Privacy Tips: â€œGet Rid Of Dropbox,â€ Avoid Facebook And Google\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg loading=\"lazy\" src=\"/images/2022-06-05/Syncthing-Joplin-Setup.jpg\"\u003e\u003c/p\u003e\n\u003cp\u003eThis is how I share/edit notes and files with different devices which \u003cstrong\u003eservice providers are unable to peek and analyze my private contents\u003c/strong\u003e. Joplin and Syncthing in grey are optional in the diagram, for example notes can be written on the Raspberry Pi through \u003ca href=\"https://joplinapp.org/terminal/\"\u003ethe terminal Joplin application\u003c/a\u003e, files can share between the Phone and the PC directly but my Raspberry Pi is online 24/7.\u003c/p\u003e","title":"Note-taking and file sharing with Syncthing and Joplin"},{"content":"What is Perf? Perf or perf-event is a Linux profiler and is part of the Linux Kernel which can help you solve advanced performance and troubleshooting functions. It covers hardware level (CPU/PMU, Performance Monitoring Unit) features and software features (software counters, tracepoints) as well.\nInstall on Ubuntu If perf has not installed on the system\n$ perf WARNING: perf not found for kernel 5.4.0-109 You may need to install the following packages for this specific kernel: linux-tools-5.4.0-109-generic linux-cloud-tools-5.4.0-109-generic You may also want to install one of the following packages to keep up to date: linux-tools-generic linux-cloud-tools-generic $ The perf is part of linux-tools-generic package on Ubuntu:\n$ sudo apt install linux-tools-generic The following additional packages will be installed: linux-tools-5.4.0-109 linux-tools-5.4.0-109-generic The following NEW packages will be installed: linux-tools-5.4.0-109 linux-tools-5.4.0-109-generic linux-tools-generic 0 upgraded, 3 newly installed, 0 to remove and 0 not upgraded. Need to get 5,597 kB of archives. After this operation, 25.9 MB of additional disk space will be used. Do you want to continue? [Y/n] .... $ perf -v perf version 5.4.178 $ There was a warning when running the perf on the terminal\n\u0026ldquo;Cannot load tips.txt file, please install perf!\u0026rdquo;\nTo solve this warning: copy tips.txt from https://github.com/torvalds/linux/blob/master/tools/perf/Documentation/tips.txt to /usr/share/doc/perf-tip/tips.txt\nPerf with GUI hotspot: a standalone GUI for performance data\nOther profilers OProfile GProf References https://www.brendangregg.com/perf.html\nhttp://wiki.csie.ncku.edu.tw/embedded/perf-tutorial\nhttps://blog.csdn.net/z1026544682/article/details/115329534\nhttps://xiaoyanzhuo.github.io/2019/01/18/Perf-Tool.html\n","permalink":"https://oopsmonk.github.io/posts/2022-04-28-perf/","summary":"\u003ch1 id=\"what-is-perf\"\u003eWhat is Perf?\u003c/h1\u003e\n\u003cp\u003ePerf or perf-event is a Linux profiler and is part of the Linux Kernel which can help you solve advanced performance and troubleshooting functions. It covers hardware level (CPU/PMU, Performance Monitoring Unit) features and software features (software counters, tracepoints) as well.\u003c/p\u003e\n\u003ch1 id=\"install-on-ubuntu\"\u003eInstall on Ubuntu\u003c/h1\u003e\n\u003cp\u003eIf perf has not installed on the system\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e$ perf\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eWARNING: perf not found \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e kernel 5.4.0-109\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  You may need to install the following packages \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e this specific kernel:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    linux-tools-5.4.0-109-generic\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    linux-cloud-tools-5.4.0-109-generic\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  You may also want to install one of the following packages to keep up to date:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    linux-tools-generic\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    linux-cloud-tools-generic\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e$\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eThe perf is part of \u003ccode\u003elinux-tools-generic\u003c/code\u003e package on Ubuntu:\u003c/p\u003e","title":"Install Perf on Ubuntu 20.04"},{"content":"utarray benchmarking\nWeek48~52 å°ç­†è¨˜ bazel installation on Raspberry Pi Issue#1308\n$ sudo apt-get install build-essential openjdk-8-jdk python zip unzip $ wget https://github.com/bazelbuild/bazel/releases/download/0.19.2/bazel-0.19.2-dist.zip $ mkdir bazel-0.19.2 \u0026amp;\u0026amp; unzip ./bazel-0.19.2-dist.zip -d bazel-0.19.2 $ cd bazel-0.19.2 $ env BAZEL_JAVAC_OPTS=\u0026#34;-J-Xms384m -J-Xmx512m\u0026#34; bash ./compile.sh ğŸƒ Building Bazel from scratch...... ğŸƒ Building Bazel with Bazel. .WARNING: --batch mode is deprecated. Please instead explicitly shut down your Bazel server using the command \u0026#34;bazel shutdown\u0026#34;. INFO: Analysed target //src:bazel_nojdk (233 packages loaded, 10401 targets configured). Workaround for VS Code middle click paste. VS Codeåœ¨Ubuntuè£¡æ»‘é¼ ä¸­éµçš„è¤‡è£½è²¼ä¸ŠåŠŸèƒ½æœƒé€ æˆçœ‹ç¨‹å¼æ™‚çš„å›°æ“¾\nIssue#49305\nIt cause a problem when browsing source code in VS code, here is an alternative solution. Disable middle paste on Xubuntu 18.04\nsam@sam-T480s:~$ xinput list â¡ Virtual core pointer id=2 [master pointer (3)] âœ â†³ Virtual core XTEST pointer id=4 [slave pointer (2)] âœ â†³ ETPS/2 Elantech TrackPoint id=12 [slave pointer (2)] âœ â†³ ETPS/2 Elantech Touchpad id=11 [slave pointer (2)] â£ Virtual core keyboard id=3 [master keyboard (2)] â†³ Virtual core XTEST keyboard id=5 [slave keyboard (3)] â†³ Power Button id=6 [slave keyboard (3)] â†³ Video Bus id=7 [slave keyboard (3)] â†³ Sleep Button id=8 [slave keyboard (3)] â†³ Integrated Camera: Integrated C id=9 [slave keyboard (3)] â†³ AT Translated Set 2 keyboard id=10 [slave keyboard (3)] â†³ ThinkPad Extra Buttons id=13 [slave keyboard (3)] sam@sam-T480s:~$ xinput get-button-map 12 1 2 3 4 5 6 7 sam@sam-T480s:~$ xinput set-button-map 12 1 0 3 4 5 6 7 Run it on boot\n$ cat \u0026lt;\u0026lt;EOT \u0026gt; ~/bin/mouse_middle_disable.sh #!/bin/bash xinput set-button-map 12 1 0 3 4 5 6 7 exit 0 EOT $ chmode a+x ~/bin/mouse_middle_disable.sh // add the script to startup session. $ xfce4-session-settings utarray benchmarking Raspberry Pi 2 Model B\n(Quad-core Cortex-A7 32bits, 976MB memory, CPU clock is between 600/900MHz)\nIntel i5-8250U, Octa-core 64bits 24GB memory, CPU clock is between 400/3400MHz\nElement size = 27 bytes\n","permalink":"https://oopsmonk.github.io/posts/2018-12-01-month12/","summary":"\u003cp\u003eutarray benchmarking\u003c/p\u003e\n\u003ch1 id=\"week4852\"\u003eWeek48~52\u003c/h1\u003e\n\u003ch2 id=\"å°ç­†è¨˜\"\u003eå°ç­†è¨˜\u003c/h2\u003e\n\u003ch3 id=\"bazel-installation-on-raspberry-pi\"\u003ebazel installation on Raspberry Pi\u003c/h3\u003e\n\u003cp\u003e\u003ca href=\"https://github.com/bazelbuild/bazel/issues/1308#issuecomment-221405546\"\u003eIssue#1308\u003c/a\u003e\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003e$ sudo apt-get install build-essential openjdk-8-jdk python zip unzip\n$ wget https://github.com/bazelbuild/bazel/releases/download/0.19.2/bazel-0.19.2-dist.zip \n$ mkdir bazel-0.19.2 \u0026amp;\u0026amp; unzip ./bazel-0.19.2-dist.zip -d bazel-0.19.2\n$ cd bazel-0.19.2\n$ env BAZEL_JAVAC_OPTS=\u0026#34;-J-Xms384m -J-Xmx512m\u0026#34; bash ./compile.sh\nğŸƒ  Building Bazel from scratch......\nğŸƒ  Building Bazel with Bazel.\n.WARNING: --batch mode is deprecated. Please instead explicitly shut down your Bazel server using the command \u0026#34;bazel shutdown\u0026#34;.\nINFO: Analysed target //src:bazel_nojdk (233 packages loaded, 10401 targets configured).\n\u003c/code\u003e\u003c/pre\u003e\u003ch3 id=\"workaround-for-vs-code-middle-click-paste\"\u003eWorkaround for VS Code middle click paste.\u003c/h3\u003e\n\u003cp\u003eVS Codeåœ¨Ubuntuè£¡æ»‘é¼ ä¸­éµçš„è¤‡è£½è²¼ä¸ŠåŠŸèƒ½æœƒé€ æˆçœ‹ç¨‹å¼æ™‚çš„å›°æ“¾\u003cbr\u003e\n\u003ca href=\"https://github.com/Microsoft/vscode/issues/49305\"\u003eIssue#49305\u003c/a\u003e\u003cbr\u003e\nIt cause a problem when browsing source code in VS code, here is an alternative solution.\n\u003ca href=\"https://wiki.ubuntu.com/X/Config/Input#Example%3a_Disabling_middle-mouse_button_paste_on_a_scrollwheel_mouse\"\u003e\u003cstrong\u003eDisable middle paste on Xubuntu 18.04\u003c/strong\u003e\u003c/a\u003e\u003c/p\u003e","title":"RPi vs i5-8250U"},{"content":"Test Google Asistant on Raspberry Pi.\nWeek4044 (10/0110/31) ç¶²è·¯æ–‡ç«  Wi-Fi 6: Whatâ€™s Different, and Why it Matters\nç¶²è·¯è³‡æº Raspberry Pi BT setup\nTurn your Raspberry Pi into homemade Google Home\nGoogle Asistant SDK\nGoogle Asistant SDK C++ ä½¿ç”¨Python libå¸¸å¸¸æœƒç•¶æ©Ÿæ”¹ç”¨C++æ¯”è¼ƒæ²’å•é¡Œ, ä½†C++ç‰ˆæœ¬æœ‰é™åˆ¶APIä½¿ç”¨çš„æ¬¡æ•¸, ç„¡æ³•é•·æœŸä½¿ç”¨.\n","permalink":"https://oopsmonk.github.io/posts/2018-10-14-2018month10/","summary":"\u003cp\u003eTest Google Asistant on Raspberry Pi.\u003c/p\u003e\n\u003ch1 id=\"week4044-10011031\"\u003eWeek40\u003cdel\u003e44 (10/01\u003c/del\u003e10/31)\u003c/h1\u003e\n\u003ch2 id=\"ç¶²è·¯æ–‡ç« \"\u003eç¶²è·¯æ–‡ç« \u003c/h2\u003e\n\u003cp\u003e\u003ca href=\"https://www.howtogeek.com/368332/wi-fi-6-what%E2%80%99s-different-and-why-it-matters/\"\u003eWi-Fi 6: Whatâ€™s Different, and Why it Matters\u003c/a\u003e\u003c/p\u003e\n\u003ch2 id=\"ç¶²è·¯è³‡æº\"\u003eç¶²è·¯è³‡æº\u003c/h2\u003e\n\u003cp\u003e\u003ca href=\"https://ma-za.blogspot.com/2018/01/raspberry-bluetooth-pulseaudio-and-alexa.html\"\u003eRaspberry Pi BT setup\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://medium.com/@kevalpatel2106/turn-your-raspberry-pi-into-homemade-google-home-9e29ad220075\"\u003eTurn your Raspberry Pi into homemade Google Home\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://developers.google.com/assistant/sdk/overview\"\u003eGoogle Asistant SDK\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://github.com/googlesamples/assistant-sdk-cpp\"\u003eGoogle Asistant SDK C++\u003c/a\u003e\nä½¿ç”¨Python libå¸¸å¸¸æœƒç•¶æ©Ÿæ”¹ç”¨C++æ¯”è¼ƒæ²’å•é¡Œ, ä½†C++ç‰ˆæœ¬æœ‰é™åˆ¶APIä½¿ç”¨çš„æ¬¡æ•¸, ç„¡æ³•é•·æœŸä½¿ç”¨.\u003c/p\u003e","title":"RPi Home"},{"content":"Pointers, again\u0026hellip;\nHow many pointers you can have?\nC89: 12\nWeek3135 (07/2908/31) ç¶²è·¯æ–‡ç«  What is the difference between const int*, const int * const, and int const *?\nRead it backwards (as driven by Clockwise/Spiral Rule):\nint* - pointer to int\nint const * - pointer to const int\nint * const - const pointer to int\nint const * const - const pointer to const int\nNow the first const can be on either side of the type so:\nconst int * == int const *\nconst int * const == int const * const\nIf you want to go really crazy you can do things like this:\nint ** - pointer to pointer to int\nint ** const - a const pointer to a pointer to an int\nint * const * - a pointer to a const pointer to an int\nint const ** - a pointer to a pointer to a const int\nint * const * const - a const pointer to a const pointer to an int\nconst X* p means \u0026ldquo;p points to an X that is const\u0026rdquo;: the X object can\u0026rsquo;t be changed via p.\nX* const p means \u0026ldquo;p is a const pointer to an X that is non-const\u0026rdquo;: you can\u0026rsquo;t change the pointer p itself, but you can change the X object via p.\nconst X* const p means \u0026ldquo;p is a const pointer to an X that is const\u0026rdquo;: you can\u0026rsquo;t change the pointer p itself, nor can you change the X object via p.\nç¶²è·¯è³‡æº Stanford CS143: Compilers\n","permalink":"https://oopsmonk.github.io/posts/2018-08-22-2018month8/","summary":"\u003cp\u003ePointers, again\u0026hellip;\u003cbr\u003e\nHow many pointers you can have?\u003cbr\u003e\nC89: 12\u003c/p\u003e\n\u003ch1 id=\"week3135-07290831\"\u003eWeek31\u003cdel\u003e35 (07/29\u003c/del\u003e08/31)\u003c/h1\u003e\n\u003ch2 id=\"ç¶²è·¯æ–‡ç« \"\u003eç¶²è·¯æ–‡ç« \u003c/h2\u003e\n\u003cp\u003e\u003ca href=\"https://stackoverflow.com/questions/1143262/what-is-the-difference-between-const-int-const-int-const-and-int-const\"\u003eWhat is the difference between const int*, const int * const, and int const *?\u003c/a\u003e\u003cbr\u003e\nRead it backwards (as driven by \u003ca href=\"http://c-faq.com/decl/spiral.anderson.html\"\u003eClockwise/Spiral Rule\u003c/a\u003e):\u003cbr\u003e\n\u003ccode\u003eint*\u003c/code\u003e - pointer to int\u003cbr\u003e\n\u003ccode\u003eint const *\u003c/code\u003e - pointer to const int\u003cbr\u003e\n\u003ccode\u003eint * const\u003c/code\u003e - const pointer to int\u003cbr\u003e\n\u003ccode\u003eint const *\u003c/code\u003e const - const pointer to const int\u003c/p\u003e\n\u003cp\u003eNow the first const can be on either side of the type so:\u003cbr\u003e\n\u003ccode\u003econst int *\u003c/code\u003e == \u003ccode\u003eint const *\u003c/code\u003e\u003cbr\u003e\n\u003ccode\u003econst int * const\u003c/code\u003e == \u003ccode\u003eint const * const\u003c/code\u003e\u003c/p\u003e","title":"How many pointers you can have?"},{"content":"It\u0026rsquo;s blocks and no chain, keep fighting!\nWeek2730 (07/0127) ç¶²è·¯æ–‡ç«  IOTA Summer Summit 2018\n","permalink":"https://oopsmonk.github.io/posts/2018-06-30-2018month7/","summary":"\u003cp\u003eIt\u0026rsquo;s blocks and no chain, keep fighting!\u003c/p\u003e\n\u003ch1 id=\"week2730-070127\"\u003eWeek27\u003cdel\u003e30 (07/01\u003c/del\u003e27)\u003c/h1\u003e\n\u003ch2 id=\"ç¶²è·¯æ–‡ç« \"\u003eç¶²è·¯æ–‡ç« \u003c/h2\u003e\n\u003cp\u003e\u003ca href=\"https://blog.iota.org/iota-summer-summit-2018-9f9ced6ec1fe\"\u003eIOTA Summer Summit 2018\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg loading=\"lazy\" src=\"/images/2018-Month7/DSCF8012_re.JPG\"\u003e\u003c/p\u003e","title":"Energetic People!"},{"content":"More bad ideas + Generosity = Good ideas\nWeek2226 (06/0129) ç¶²è·¯æ–‡ç«  Elon Musk emails employees about \u0026rsquo;extensive and damaging sabotage\u0026rsquo; by employee\næ¨¹å¤§æ‹›é¢¨\u0026hellip;.ä½†å…§éƒ¨ç®¡ç†æ˜¯å¦æœ‰å•é¡Œ?\næºé€šä¸€ç›´æ˜¯æœ€é›£è™•ç†çš„å•é¡Œä¹‹ä¸€, å°¤å…¶æ˜¯è³‡è¨Šä¸å°ç­‰çš„æƒ…æ³ä¸‹.\nç¶²è·¯è³‡æº esp32-websocket\nwebsocket component for esp-idf.\nè®€æ›¸å¿ƒå¾— è«–æ–‡å­¸ç¿’ ","permalink":"https://oopsmonk.github.io/posts/2018-05-29-2018month6/","summary":"\u003cp\u003e\u003ca href=\"https://seths.blog/2018/06/the-two-simple-secrets-to-good-ideas/\"\u003eMore bad ideas + Generosity = Good ideas\u003c/a\u003e\u003c/p\u003e\n\u003ch1 id=\"week2226-060129\"\u003eWeek22\u003cdel\u003e26 (06/01\u003c/del\u003e29)\u003c/h1\u003e\n\u003ch2 id=\"ç¶²è·¯æ–‡ç« \"\u003eç¶²è·¯æ–‡ç« \u003c/h2\u003e\n\u003cp\u003e\u003ca href=\"https://www.cnbc.com/2018/06/18/elon-musk-email-employee-conducted-extensive-and-damaging-sabotage.html\"\u003eElon Musk emails employees about \u0026rsquo;extensive and damaging sabotage\u0026rsquo; by employee\u003c/a\u003e\u003cbr\u003e\næ¨¹å¤§æ‹›é¢¨\u0026hellip;.ä½†å…§éƒ¨ç®¡ç†æ˜¯å¦æœ‰å•é¡Œ?\u003cbr\u003e\næºé€šä¸€ç›´æ˜¯æœ€é›£è™•ç†çš„å•é¡Œä¹‹ä¸€, å°¤å…¶æ˜¯è³‡è¨Šä¸å°ç­‰çš„æƒ…æ³ä¸‹.\u003c/p\u003e\n\u003ch2 id=\"ç¶²è·¯è³‡æº\"\u003eç¶²è·¯è³‡æº\u003c/h2\u003e\n\u003cp\u003e\u003ca href=\"https://github.com/Molorius/esp32-websocket\"\u003eesp32-websocket\u003c/a\u003e\u003cbr\u003e\nwebsocket component for esp-idf.\u003c/p\u003e\n\u003ch2 id=\"è®€æ›¸å¿ƒå¾—\"\u003eè®€æ›¸å¿ƒå¾—\u003c/h2\u003e\n\u003ch2 id=\"è«–æ–‡å­¸ç¿’\"\u003eè«–æ–‡å­¸ç¿’\u003c/h2\u003e","title":"Hell Yeah! Keep Fighting"},{"content":"Okinawa Churaumi Aquarium\nKouri Bridge - The Longest Bridge in Okinawa\nWeek1821 (05/0425) ç¶²è·¯æ–‡ç«  Students are being prepared for jobs that no longer exist. Here\u0026rsquo;s how that could change.\nNBCé—œæ–¼ç¾åœ‹é«˜ä¸­æ•™è‚²çš„æ·±å…¥å ±å°, æåˆ°ç¾åœ¨çš„æ•™è‚²æ–¹å¼å·²ç¶“ç„¡æ³•ä¿è­‰è®“å­¸ç”Ÿæ‰¾åˆ°ç†æƒ³çš„å·¥ä½œï¼Œå°¤å…¶æ˜¯æŠ€è·ç”Ÿ. æ–‡ä¸­æåˆ°å‡ å€‹é»:\né«˜ä¸­æº–æ™‚ç•¢æ¥­çš„äººæœ‰84%, å¾Œä¾†70%ç›´å‡å¤§å­¸. é›–ç„¶å­¸æ ¡ç›¡åŠ›æ•™å°è®“å­¸ç”Ÿé¢å°æœªä¾†, ä½†å­¸æ ¡ä¹Ÿä¸çŸ¥å°‡ä¾†æœƒæ˜¯å¦‚ä½•, å› ç‚ºè¨ˆåŠƒè·Ÿä¸ä¸Šè®ŠåŒ–. â€œWeâ€™re preparing kids for these jobs of tomorrow, but we really donâ€™t even know what they are,â€ 2016å¹´çš„èª¿æŸ¥, åªæœ‰34%çš„é«˜ä¸­ç”Ÿ(12th-graders) å°å­¸ç¿’æ„Ÿåˆ°èˆˆè¶£. å…¬ç«‹å¤§å­¸(University of Massachusetts Lowell)1å¹´çš„å­¸è²»å¤§ç´„37è¬å°å¹£($12,496USD), ç§ç«‹å¤§å­¸(Elmhurst College)å­¸è²»ç´„140è¬å°å¹£($47,121USD), å¦ä¸€æ‰€å…¬ç«‹å¤§å­¸(University of Minnesota)å­¸è²»ç´„91è¬å°å¹£($30,514USD). å¦å¤–è‡ªå·±æŸ¥äº†ä¸€ä¸‹å“ˆä½›å¤§å­¸æ¯å¹´å­¸è²»138è¬å°å¹£(46,340USD), ä»¥ä¸Šéƒ½æ˜¯åªæœ‰å­¸è²», å¦‚æœåŠ ä¸Šå®¿èˆåŠé›œè²»å¤§ç´„æ˜¯202è¬å°å¹£($67,580USD). è‡³2017å¹´åº•ç¾åœ‹çš„å­¸è²¸å·²é«˜é”1.38å…†ç¾å…ƒ, æˆ¿è²¸8.88å…†ç¾å…ƒ, ä¿¡ç”¨å¡å‚µ8340å„„ç¾å…ƒ. 53%å¤§å­¸ç”Ÿæœ‰å­¸è²¸. Ref: https://www.newyorkfed.org/newsevents/news/research/2018/rp180213 é†«è­·åŠ©ç†å¹³å‡å¹´è–ª67è¬å°å¹£($22,600USD), 2017å¹´é‡‘èä¿éšªæ¥­å¹´è–ªä¸­ä½æ•¸ç´„306è¬å°å¹£($102ï¼Œ510), ç§‘æŠ€æ¥­ç´„303è¬å°å¹£($101ï¼Œ430), æ”¿åºœå–®ä½ç´„295è¬å°å¹£($98,830), æ‰€æœ‰è·æ¥­ä¸­ä½æ•¸ç´„113è¬å°å¹£($37,690). Ref: https://www.bls.gov/ooh/math/actuaries.htm#tab-5 ç¶²è·¯è³‡æº Linux Syscall Reference\nè®€æ›¸å¿ƒå¾— å¦‚å°‡mali gup dirverç·¨æˆkernel module, gatorç„¡æ³•æ”¯æ´gpu profiling, æ˜¯å› ç‚ºkernel 3.15-rc1å¾Œfor_each_kernel_tracepoint åªèƒ½æ‰¾åˆ°built-in tracepoints. å¦‚è¦æ‰¾moduleè£¡çš„tracepoints éœ€è¦ä½¿ç”¨register_tracepoint_module_notifier åŠ unregister_tracepoint_module_notifier, é€™æ¨£çš„å¥½è™•æ˜¯ç¸®å°kernel image size, åŠmodule loadedå¾Œæ‰æœƒåšprofile. é€™å€‹å•é¡Œå­˜åœ¨gator 5.xç‰ˆ, å¾Œä¾†åœ¨v6.1(Dec. 2016)å·²ä¿®æ­£å•é¡Œ\nkernel-4.1, gatorv5.22 (2016/1/19) #if LINUX_VERSION_CODE \u0026gt;= KERNEL_VERSION(3, 15, 0) /* scan kernel built in tracepoints */ for_each_kernel_tracepoint(gator_save_tracepoint, NULL); /* register for notification of new tracepoint modules */ register_tracepoint_module_notifier(\u0026amp;tracepoint_notifier_block); #endif kernel tracepoints have become unregisterable from modules as of 3.15-rc1\n","permalink":"https://oopsmonk.github.io/posts/2018-04-30-2018month5/","summary":"\u003cp\u003e\u003cstrong\u003eOkinawa Churaumi Aquarium\u003c/strong\u003e\u003cbr\u003e\n\u003cimg loading=\"lazy\" src=\"/images/2018-Month5/20180521_OkinawaChuraumiAquarium.png\"\u003e\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eKouri Bridge - The Longest Bridge in Okinawa\u003c/strong\u003e\u003cbr\u003e\n\u003cimg loading=\"lazy\" src=\"/images/2018-Month5/20180521_KouriBridge.png\"\u003e\u003c/p\u003e\n\u003ch1 id=\"week1821-050425\"\u003eWeek18\u003cdel\u003e21 (05/04\u003c/del\u003e25)\u003c/h1\u003e\n\u003ch2 id=\"ç¶²è·¯æ–‡ç« \"\u003eç¶²è·¯æ–‡ç« \u003c/h2\u003e\n\u003cp\u003e\u003ca href=\"https://www.nbcnews.com/news/us-news/students-are-being-prepared-jobs-no-longer-exist-here-s-n865096\"\u003eStudents are being prepared for jobs that no longer exist. Here\u0026rsquo;s how that could change.\u003c/a\u003e\u003cbr\u003e\nNBCé—œæ–¼ç¾åœ‹é«˜ä¸­æ•™è‚²çš„æ·±å…¥å ±å°, æåˆ°ç¾åœ¨çš„æ•™è‚²æ–¹å¼å·²ç¶“ç„¡æ³•ä¿è­‰è®“å­¸ç”Ÿæ‰¾åˆ°ç†æƒ³çš„å·¥ä½œï¼Œå°¤å…¶æ˜¯æŠ€è·ç”Ÿ.\næ–‡ä¸­æåˆ°å‡ å€‹é»:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eé«˜ä¸­æº–æ™‚ç•¢æ¥­çš„äººæœ‰84%, å¾Œä¾†70%ç›´å‡å¤§å­¸.\u003c/li\u003e\n\u003cli\u003eé›–ç„¶å­¸æ ¡ç›¡åŠ›æ•™å°è®“å­¸ç”Ÿé¢å°æœªä¾†, ä½†å­¸æ ¡ä¹Ÿä¸çŸ¥å°‡ä¾†æœƒæ˜¯å¦‚ä½•, å› ç‚ºè¨ˆåŠƒè·Ÿä¸ä¸Šè®ŠåŒ–. â€œWeâ€™re preparing kids for these jobs of tomorrow, but we really donâ€™t even know what they are,â€\u003c/li\u003e\n\u003cli\u003e2016å¹´çš„èª¿æŸ¥, åªæœ‰34%çš„é«˜ä¸­ç”Ÿ(12th-graders) å°å­¸ç¿’æ„Ÿåˆ°èˆˆè¶£.\u003c/li\u003e\n\u003cli\u003eå…¬ç«‹å¤§å­¸(University of Massachusetts Lowell)1å¹´çš„å­¸è²»å¤§ç´„37è¬å°å¹£($12,496USD), ç§ç«‹å¤§å­¸(Elmhurst College)å­¸è²»ç´„140è¬å°å¹£($47,121USD), å¦ä¸€æ‰€å…¬ç«‹å¤§å­¸(University of Minnesota)å­¸è²»ç´„91è¬å°å¹£($30,514USD). å¦å¤–è‡ªå·±æŸ¥äº†ä¸€ä¸‹å“ˆä½›å¤§å­¸æ¯å¹´å­¸è²»138è¬å°å¹£(46,340USD), ä»¥ä¸Šéƒ½æ˜¯åªæœ‰å­¸è²», å¦‚æœåŠ ä¸Šå®¿èˆåŠé›œè²»å¤§ç´„æ˜¯202è¬å°å¹£($67,580USD).\u003c/li\u003e\n\u003cli\u003eè‡³2017å¹´åº•ç¾åœ‹çš„å­¸è²¸å·²é«˜é”1.38å…†ç¾å…ƒ, æˆ¿è²¸8.88å…†ç¾å…ƒ, ä¿¡ç”¨å¡å‚µ8340å„„ç¾å…ƒ. 53%å¤§å­¸ç”Ÿæœ‰å­¸è²¸. Ref: \u003ca href=\"https://www.newyorkfed.org/newsevents/news/research/2018/rp180213\"\u003ehttps://www.newyorkfed.org/newsevents/news/research/2018/rp180213\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eé†«è­·åŠ©ç†å¹³å‡å¹´è–ª67è¬å°å¹£($22,600USD), 2017å¹´é‡‘èä¿éšªæ¥­å¹´è–ªä¸­ä½æ•¸ç´„306è¬å°å¹£($102ï¼Œ510), ç§‘æŠ€æ¥­ç´„303è¬å°å¹£($101ï¼Œ430), æ”¿åºœå–®ä½ç´„295è¬å°å¹£($98,830), æ‰€æœ‰è·æ¥­ä¸­ä½æ•¸ç´„113è¬å°å¹£($37,690). Ref: \u003ca href=\"https://www.bls.gov/ooh/math/actuaries.htm#tab-5\"\u003ehttps://www.bls.gov/ooh/math/actuaries.htm#tab-5\u003c/a\u003e\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch2 id=\"ç¶²è·¯è³‡æº\"\u003eç¶²è·¯è³‡æº\u003c/h2\u003e\n\u003cp\u003e\u003ca href=\"https://syscalls.kernelgrok.com/\"\u003eLinux Syscall Reference\u003c/a\u003e\u003c/p\u003e","title":"What Does The Fox Say?"},{"content":"Algorithm, Blockchain, Coursera\nçœŸå¿ƒæ¨Courseraä¸Šçš„Data Structures and Algorithms Specialization, æŒ‘æœ‰èˆˆè¶£çš„å°±å¥½.\n2017å¹´åº•è‡³ä»Šæ‹¿äº†4å¼µCertifications, Algorithms on Graphsæ˜¯æ¯”è¼ƒæœ‰è¶£çš„èª²ç¨‹.\nå…¶å®ƒ3å¼µæ˜¯Algorithmic Toolbox, Data Structures, Algorithms on Strings\nWeek14 (04/06) è®€æ›¸å¿ƒå¾— Burrows-Wheeler Transform - data compression\nCyclic rotation Sorting Last column Inverting Burrows-wheeler transform\nMark the occurrence of characters Putting sorted bwt string to frist column Knuthâ€“Morrisâ€“Pratt - string searching algorithm (or KMP algorithm)\nSuffix array - a sorted array of all suffixes of a string.\nWeek15 (04/13) Week16 (04/20) Week17 (04/27) ç¶²è·¯æ–‡ç«  Worldâ€™s first IOTA Smart Charging Station\nå“¦å“¦å“¦ï¼M2M.\nç¶²è·¯è³‡æº IOTA Doc\nIOTA Transactions, Confirmation and Consensus\nè®€æ›¸å¿ƒå¾— åˆæ­¥ç†è§£The Tangle, é›–IOTAå¼·èª¿æ˜¯æ‡‰ç”¨åœ¨IoT, ä½†ä»¥æˆ‘ç›®å‰çš„ç†è§£è¦èƒ½æ‡‰ç”¨åœ¨IoT deviceä¼¼ä¹é‚„æœ‰é»è·é›¢, åƒarduinoæˆ–raspberry pié€™é¡çš„è·‘full nodeæ ¹æœ¬ç„¡æ³•è·‘æˆ–å¾ˆåƒåŠ›, éœ€è¦å†æ·±å…¥ç ”ç©¶swarm/sensor nodeåœ¨åšäº›ä»€éº¼.\n","permalink":"https://oopsmonk.github.io/posts/2018-04-02-2018month4/","summary":"\u003cp\u003eAlgorithm, Blockchain, Coursera\u003c/p\u003e\n\u003cp\u003eçœŸå¿ƒæ¨Courseraä¸Šçš„\u003ca href=\"https://www.coursera.org/specializations/data-structures-algorithms\"\u003eData Structures and Algorithms Specialization\u003c/a\u003e, æŒ‘æœ‰èˆˆè¶£çš„å°±å¥½.\u003cbr\u003e\n2017å¹´åº•è‡³ä»Šæ‹¿äº†4å¼µCertifications, \u003ca href=\"https://www.coursera.org/account/accomplishments/verify/77SDSNEQDSYP\"\u003eAlgorithms on Graphs\u003c/a\u003eæ˜¯æ¯”è¼ƒæœ‰è¶£çš„èª²ç¨‹.\u003cbr\u003e\nå…¶å®ƒ3å¼µæ˜¯\u003ca href=\"https://www.coursera.org/account/accomplishments/verify/BCQY4DC476JA\"\u003eAlgorithmic Toolbox\u003c/a\u003e, \u003ca href=\"https://www.coursera.org/account/accomplishments/verify/22F5PWDGVM72\"\u003eData Structures\u003c/a\u003e, \u003ca href=\"https://www.coursera.org/account/accomplishments/verify/4HRLWX5A8HFV\"\u003eAlgorithms on Strings\u003c/a\u003e\u003c/p\u003e\n\u003ch1 id=\"week14-0406\"\u003eWeek14 (04/06)\u003c/h1\u003e\n\u003ch2 id=\"è®€æ›¸å¿ƒå¾—\"\u003eè®€æ›¸å¿ƒå¾—\u003c/h2\u003e\n\u003cp\u003e\u003ca href=\"https://en.wikipedia.org/wiki/Burrows%E2%80%93Wheeler_transform\"\u003eBurrows-Wheeler Transform\u003c/a\u003e - data compression\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eCyclic rotation\u003c/li\u003e\n\u003cli\u003eSorting\u003c/li\u003e\n\u003cli\u003eLast column\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003cimg loading=\"lazy\" src=\"/images/2018-Month4/bwt.png\"\u003e\u003c/p\u003e\n\u003cp\u003eInverting Burrows-wheeler transform\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eMark the occurrence of characters\u003c/li\u003e\n\u003cli\u003ePutting sorted bwt string to frist column\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003cimg loading=\"lazy\" src=\"/images/2018-Month4/ibwt.png\"\u003e\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://en.wikipedia.org/wiki/Knuth%E2%80%93Morris%E2%80%93Pratt_algorithm\"\u003eKnuthâ€“Morrisâ€“Pratt\u003c/a\u003e - string searching algorithm (or KMP algorithm)\u003c/p\u003e\n\u003cp\u003e\u003cimg loading=\"lazy\" src=\"/images/2018-Month4/kmp.png\"\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg loading=\"lazy\" src=\"/images/2018-Month4/kmp1.png\"\u003e\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://en.wikipedia.org/wiki/Suffix_array\"\u003eSuffix array\u003c/a\u003e - a sorted array of all suffixes of a string.\u003c/p\u003e\n\u003ch1 id=\"week15-0413\"\u003eWeek15 (04/13)\u003c/h1\u003e\n\u003ch1 id=\"week16-0420\"\u003eWeek16 (04/20)\u003c/h1\u003e\n\u003ch1 id=\"week17-0427\"\u003eWeek17 (04/27)\u003c/h1\u003e\n\u003ch2 id=\"ç¶²è·¯æ–‡ç« \"\u003eç¶²è·¯æ–‡ç« \u003c/h2\u003e\n\u003cp\u003e\u003ca href=\"https://blog.iota.org/worlds-first-iota-smart-charging-station-52f9024db788\"\u003eWorldâ€™s first IOTA Smart Charging Station\u003c/a\u003e\u003cbr\u003e\nå“¦å“¦å“¦ï¼M2M.\u003c/p\u003e","title":"Tangled"},{"content":"Debug, Debug, Debug\u0026hellip;, Muscle Up Tips\nWeek9 (03/02) è®€æ›¸å¿ƒå¾— FBIè«‡åˆ¤å”å•†è¡“\nç©æ¥µè†è½, é¡åƒæ¨¡ä»¿, æ¥µç«¯éŒ¨é», é–‹æ”¾å‹/æ¸¬è©¦å‹/æ ¡æº–å‹å•é¡Œ, å°äº‹ä¸å°äºº, æ¯å€‹äººéƒ½æ€•å¤±å», æˆè¦‹ä½¿äººç›²ç›®, å‡è¨­æä¾›æŒ‡å¼•.\nThe power of \u0026ldquo;No\u0026rdquo;, Three types of \u0026ldquo;Yes\u0026rdquo;, The power of \u0026ldquo;Right\u0026rdquo;, Emotion is one of the keys, Be Honest.\nThinking fast and slow.\nWeek10 (03/09) ç¶²è·¯è³‡æº Chris Voss: Never Split the Difference\nWeek11 (03/16) ç¶²è·¯æ–‡ç«  Android Treble: blessing or trouble?\nDiving into SDCardFS: How Googleâ€™s FUSE Replacement Will Reduce I/O Overhead\nWeek12 (03/23) ç¶²è·¯æ–‡ç«  How to Perform Muscle Ups Without Wrecking Your Shoulders\nRotated Grip and Grip Width Pull Up Behind the Bar, Not Under It Use Your Legs As Counterbalance Keep Your Elbows from Lifting Up and Out Week13 (03/30) ç¶²è·¯è³‡æº RIOT- The friendly OS for IoT\nRIOT provides multiple network stacks, including IPv6, 6LoWPAN, or Content centric networking and standard protocols such as RPL, User Datagram Protocol (UDP), Transmission Control Protocol (TCP), and CoAP.\nArduinoé€™é¡çš„æ‡‰ç”¨æœƒéœ€è¦OSå—?\n","permalink":"https://oopsmonk.github.io/posts/2018-03-01-2018month3/","summary":"\u003cp\u003eDebug, Debug, Debug\u0026hellip;, Muscle Up Tips\u003c/p\u003e\n\u003ch1 id=\"week9-0302\"\u003eWeek9 (03/02)\u003c/h1\u003e\n\u003ch2 id=\"è®€æ›¸å¿ƒå¾—\"\u003eè®€æ›¸å¿ƒå¾—\u003c/h2\u003e\n\u003cp\u003e\u003ca href=\"http://www.books.com.tw/products/0010725672\"\u003eFBIè«‡åˆ¤å”å•†è¡“\u003c/a\u003e\u003cbr\u003e\nç©æ¥µè†è½, é¡åƒæ¨¡ä»¿, æ¥µç«¯éŒ¨é», é–‹æ”¾å‹/æ¸¬è©¦å‹/æ ¡æº–å‹å•é¡Œ, å°äº‹ä¸å°äºº, æ¯å€‹äººéƒ½æ€•å¤±å», æˆè¦‹ä½¿äººç›²ç›®, å‡è¨­æä¾›æŒ‡å¼•.\u003cbr\u003e\nThe power of \u0026ldquo;No\u0026rdquo;, Three types of \u0026ldquo;Yes\u0026rdquo;, The power of \u0026ldquo;Right\u0026rdquo;, Emotion is one of the keys, Be Honest.\u003cbr\u003e\nThinking fast and slow.\u003c/p\u003e\n\u003ch1 id=\"week10-0309\"\u003eWeek10 (03/09)\u003c/h1\u003e\n\u003ch2 id=\"ç¶²è·¯è³‡æº\"\u003eç¶²è·¯è³‡æº\u003c/h2\u003e\n\u003cp\u003e\u003ca href=\"https://www.youtube.com/watch?v=guZa7mQV1l0\"\u003eChris Voss: Never Split the Difference\u003c/a\u003e\u003c/p\u003e\n\u003ch1 id=\"week11-0316\"\u003eWeek11 (03/16)\u003c/h1\u003e\n\u003ch2 id=\"ç¶²è·¯æ–‡ç« \"\u003eç¶²è·¯æ–‡ç« \u003c/h2\u003e\n\u003cp\u003e\u003ca href=\"http://www.hatchmfg.com/android-treble-blessing-or-trouble-part-iv/\"\u003eAndroid Treble: blessing or trouble?\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://www.xda-developers.com/diving-into-sdcardfs-how-googles-fuse-replacement-will-reduce-io-overhead/\"\u003eDiving into SDCardFS: How Googleâ€™s FUSE Replacement Will Reduce I/O Overhead\u003c/a\u003e\u003c/p\u003e","title":"Never Split the Difference"},{"content":"Android, Chinese New Year, blockchain, Cache miss\nWeek5 (02/02) é€™å€‹æœˆé›–ç„¶æœ‰å¹´å‡ä½†æ¯”å¹³å¸¸æ›´å¿™ï¼ çµè«–: æ”¾å‡ä¸ä¸€å®šæ”¾é¬†, æƒ³å°ˆå¿ƒåšäº‹ :-)\nç¶²è·¯æ–‡ç«  Processor Pipeline\nGallery of Processor Cache Effects\nUsing Streamline to Guide Cache Optimization\nåƒè€ƒé€™ç¯‡åˆ†æKodi17.6å½±ç‰‡æ’­æ”¾æ™‚çš„L1/L2 cache accessæƒ…æ³, æ’­æ”¾2160på½±ç‰‡æ™‚L1/L2 data ratiosä¸é«˜åˆ†åˆ¥åœ¨0.046/0.18, ä½¿ç”¨Kodi18æ›´å°‘åˆ†åˆ¥ç‚º0.041/0.16.\nå¦å¤–Kodi18åœ¨è¨˜æ†¶é«”ä½¿ç”¨ä¸Šæ¯”17.6æ¸›å°‘3.6%, cache miss æ¸›å°‘47~55%. Cache Refill Ratiosç®—æ³•\nL1 data ratio: $CacheDataRefill/$CacheDataAccess\nL2 data ratio: $CacheL2DataRefill/$CacheL2DataAccess\nç¶²è·¯è³‡æº Blockchain Demo\nå¤§ç•¥çš„ä»‹ç´¹blockchain, ç°¡å–®æ˜ç­.\n","permalink":"https://oopsmonk.github.io/posts/2018-01-26-2018month2/","summary":"\u003cp\u003eAndroid, Chinese New Year, blockchain, Cache miss\u003c/p\u003e\n\u003ch1 id=\"week5-0202\"\u003eWeek5 (02/02)\u003c/h1\u003e\n\u003cp\u003eé€™å€‹æœˆé›–ç„¶æœ‰å¹´å‡ä½†æ¯”å¹³å¸¸æ›´å¿™ï¼ çµè«–: æ”¾å‡ä¸ä¸€å®šæ”¾é¬†, æƒ³å°ˆå¿ƒåšäº‹ :-)\u003c/p\u003e\n\u003ch2 id=\"ç¶²è·¯æ–‡ç« \"\u003eç¶²è·¯æ–‡ç« \u003c/h2\u003e\n\u003cp\u003e\u003ca href=\"https://www.slideshare.net/siddiqueibrahim37/pipelining-41608675\"\u003eProcessor Pipeline\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"http://igoro.com/archive/gallery-of-processor-cache-effects/\"\u003eGallery of Processor Cache Effects\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://community.arm.com/tools/b/blog/posts/using-streamline-to-guide-cache-optimization\"\u003eUsing Streamline to Guide Cache Optimization\u003c/a\u003e\u003cbr\u003e\nåƒè€ƒé€™ç¯‡åˆ†æKodi17.6å½±ç‰‡æ’­æ”¾æ™‚çš„L1/L2 cache accessæƒ…æ³, æ’­æ”¾2160på½±ç‰‡æ™‚L1/L2 data ratiosä¸é«˜åˆ†åˆ¥åœ¨0.046/0.18, ä½¿ç”¨Kodi18æ›´å°‘åˆ†åˆ¥ç‚º0.041/0.16.\u003cbr\u003e\nå¦å¤–Kodi18åœ¨è¨˜æ†¶é«”ä½¿ç”¨ä¸Šæ¯”17.6æ¸›å°‘3.6%, cache miss æ¸›å°‘47~55%.\nCache Refill Ratiosç®—æ³•\u003cbr\u003e\nL1 data ratio: $CacheDataRefill/$CacheDataAccess\u003cbr\u003e\nL2 data ratio: $CacheL2DataRefill/$CacheL2DataAccess\u003c/p\u003e\n\u003ch2 id=\"ç¶²è·¯è³‡æº\"\u003eç¶²è·¯è³‡æº\u003c/h2\u003e\n\u003cp\u003e\u003ca href=\"https://anders.com/blockchain/\"\u003eBlockchain Demo\u003c/a\u003e\u003cbr\u003e\nå¤§ç•¥çš„ä»‹ç´¹blockchain, ç°¡å–®æ˜ç­.\u003c/p\u003e","title":"cache not cash..."},{"content":"Android, Algorithms\nWeek1 (01/05) è®€æ›¸å¿ƒå¾— Algorithms on Graphs - Week5 çµ¦å‡ºåº§æ¨™ä¸Šnå€‹é»:\næ‰¾å‡ºæœ€çŸ­è·¯å¾‘(the shortest path) åˆ†ç¾¤(Clustering) ç‚ºMinimun Spanning Treeç›¸é—œå•é¡Œ, å¯ä»¥ä½¿ç”¨Kruskalâ€™s MST Algorithm åŠDisjoint-set ä¾†è§£.\nfor all u âˆˆ V : MakeSet(v ) X â† empty set // a set with solution edges sort the edges E by weight for all {u, v } âˆˆ E in non-decreasing weight order: if Find(u) != Find(v): add {u, v } to X Union(u, v ) return X Week2 (01/12) ç¶²è·¯æ–‡ç«  Androidç¼–è¯‘ç³»ç»Ÿä¸­çš„Android.bpã€Blueprintä¸Soong\nWeek3 (01/19) Vim tip: file encryption\nUsage :help 'cm' Set default encrypt method: :set cm=zip, :set cm=blowfish or :set cm=blowfish2\nç¶²è·¯æ–‡ç«  Preventing burnout for programmers\nTurning Design Mockups Into Code With Deep Learning\nç¶²è·¯è³‡æº jq is a lightweight and flexible command-line JSON processor.\nJSON filter in command-line.\nHow can I handle command-line options and arguments in my script easily?\nParsing optional arguments in bash: \u0026lsquo;shift\u0026rsquo; and \u0026lsquo;getopts\u0026rsquo;.\nè®€æ›¸å¿ƒå¾— Deep Learning: A Critical Appraisal PFD\nWeek4 (01/26) None\n","permalink":"https://oopsmonk.github.io/posts/2018-01-02-2018month1/","summary":"\u003cp\u003eAndroid, Algorithms\u003c/p\u003e\n\u003ch1 id=\"week1-0105\"\u003eWeek1 (01/05)\u003c/h1\u003e\n\u003ch2 id=\"è®€æ›¸å¿ƒå¾—\"\u003eè®€æ›¸å¿ƒå¾—\u003c/h2\u003e\n\u003ch3 id=\"algorithms-on-graphs---week5httpswwwcourseraorglearnalgorithms-on-graphs\"\u003e\u003ca href=\"https://www.coursera.org/learn/algorithms-on-graphs\"\u003eAlgorithms on Graphs - Week5\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eçµ¦å‡ºåº§æ¨™ä¸Šnå€‹é»:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eæ‰¾å‡ºæœ€çŸ­è·¯å¾‘(the shortest path)\u003c/li\u003e\n\u003cli\u003eåˆ†ç¾¤(Clustering)\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eç‚ºMinimun Spanning Treeç›¸é—œå•é¡Œ, å¯ä»¥ä½¿ç”¨Kruskalâ€™s MST Algorithm åŠ\u003ca href=\"https://en.wikipedia.org/wiki/Disjoint-set_data_structure\"\u003eDisjoint-set\u003c/a\u003e ä¾†è§£.\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003efor all u âˆˆ V :\n    MakeSet(v )\nX â† empty set \t// a set with solution edges\nsort the edges E by weight\nfor all {u, v } âˆˆ E in non-decreasing\n    weight order:\n    if Find(u) != Find(v):\n\tadd {u, v } to X\n\tUnion(u, v )\nreturn X\n\u003c/code\u003e\u003c/pre\u003e\u003ch1 id=\"week2-0112\"\u003eWeek2 (01/12)\u003c/h1\u003e\n\u003ch2 id=\"ç¶²è·¯æ–‡ç« \"\u003eç¶²è·¯æ–‡ç« \u003c/h2\u003e\n\u003cp\u003e\u003ca href=\"http://note.qidong.name/2017/08/android-blueprint/\"\u003eAndroidç¼–è¯‘ç³»ç»Ÿä¸­çš„Android.bpã€Blueprintä¸Soong\u003c/a\u003e\u003c/p\u003e","title":"Is there a shortcut?"},{"content":"SEAndroid, Algorithms, Numpy\nAndroid N -\u0026gt; O è¢«è‡ªå·±çš„çŸ³é ­ç ¸åˆ°è…³ å°æ–¼æ™¶ç‰‡å» ä¾†èªªAndroidæ±ºè§£äº†è»Ÿé«”é–‹ç™¼çš„å•é¡Œ, ä¹ŸåŠ é€Ÿäº†ODM/OEMçš„é–‹ç™¼æ™‚ç¨‹.\næ²’éŒ¯\u0026hellip;ä½†å°æ–¼æ‰‹æ©Ÿ/é›»è¦–ä¹‹å¤–çš„æ‡‰ç”¨..å­˜åœ¨äº›å•é¡Œ.\nå¦å¤–å·®ç•°åŒ–åŠå®¢åˆ¶å¸¶ä¾†äº›ä¸å®šæ™‚ç‚¸å½ˆ.\nSepolicy for Android Treble ä½¿ç”¨numpy arrayä¿®æ”¹pixel values. ç¶²è·¯è³‡æº Machine Learning 101 - Jason Mayes\nNew year\u0026rsquo;s resolutions IELTS overall 6.5 Data Structures and Algorithms Specialization Master of Computer Science in Data Science ","permalink":"https://oopsmonk.github.io/posts/2017-11-24-2017month12/","summary":"\u003cp\u003eSEAndroid, Algorithms, Numpy\u003c/p\u003e\n\u003ch2 id=\"android-n---o-è¢«è‡ªå·±çš„çŸ³é ­ç ¸åˆ°è…³\"\u003eAndroid N -\u0026gt; O è¢«è‡ªå·±çš„çŸ³é ­ç ¸åˆ°è…³\u003c/h2\u003e\n\u003cp\u003eå°æ–¼æ™¶ç‰‡å» ä¾†èªªAndroidæ±ºè§£äº†è»Ÿé«”é–‹ç™¼çš„å•é¡Œ, ä¹ŸåŠ é€Ÿäº†ODM/OEMçš„é–‹ç™¼æ™‚ç¨‹.\u003cbr\u003e\næ²’éŒ¯\u0026hellip;ä½†å°æ–¼æ‰‹æ©Ÿ/é›»è¦–ä¹‹å¤–çš„æ‡‰ç”¨..å­˜åœ¨äº›å•é¡Œ.\u003cbr\u003e\nå¦å¤–å·®ç•°åŒ–åŠå®¢åˆ¶å¸¶ä¾†äº›ä¸å®šæ™‚ç‚¸å½ˆ.\u003c/p\u003e\n\u003ch2 id=\"sepolicy-for-android-trebleblog20171220sepolicy-for-android-treble\"\u003e\u003ca href=\"/blog/2017/12/20/sepolicy-for-android-treble\"\u003eSepolicy for Android Treble\u003c/a\u003e\u003c/h2\u003e\n\u003ch2 id=\"ä½¿ç”¨numpy-arrayä¿®æ”¹pixel-values\"\u003eä½¿ç”¨numpy arrayä¿®æ”¹pixel values.\u003c/h2\u003e\n\u003cscript src=\"https://gist.github.com/oopsmonk/8da2a513882b4f9a8ce9cbffbc63193a.js\"\u003e\u003c/script\u003e\n\u003ch2 id=\"ç¶²è·¯è³‡æº\"\u003eç¶²è·¯è³‡æº\u003c/h2\u003e\n\u003cp\u003e\u003ca href=\"https://docs.google.com/presentation/d/1kSuQyW5DTnkVaZEjGYCkfOxvzCqGEFzWBy4e9Uedd9k/preview?slide=id.g168a3288f7_0_58\"\u003eMachine Learning 101 - Jason Mayes\u003c/a\u003e\u003c/p\u003e\n\u003ch2 id=\"new-years-resolutions\"\u003eNew year\u0026rsquo;s resolutions\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eIELTS overall 6.5\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://www.coursera.org/specializations/data-structures-algorithms\"\u003eData Structures and Algorithms Specialization\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://www.coursera.org/degrees/masters-in-computer-data-science\"\u003eMaster of Computer Science in Data Science\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e","title":"Resolution and Revolution! "},{"content":"A Note about sepolicy in Android Oreo.\nFirst thing first SELinux documents:\nSELinux for Android 8.0 What is SELinux? What is SEAndroid? SELinux Policy Concepts and Overview Android sepolicy files Policy path: /system/sepolicy BOARD_SEPOLICY_DIR (device/$VENDOR/$DEVICE/sepolicy/, device/$VENDOR/$DEVICE/common/sepolicy/) Policy Macros: system/sepolicy/public/te_macros system/sepolicy/public/global_macros system/sepolicy/public/ioctl_macros system/sepolicy/public/neverallow_macros system/sepolicy/private/mls_macros system/sepolicy/reqd_mask/mls_macros Security Context: file_contexts, labeling files infilesystem. property_contexts, labeling android system/vendor properties genfs_contexts, Pre-file labeling for /proc files, generic filesystem security contexts. seapp_contexts, used by zygote and installd via libselinux, mapping app UID andseinfofor /data/data directory hwservice_contexts, for hwservice manager to check vndservice_contestx, for vndservice manager to check service_contexts, for service manager to check Type Enforcement *.te Composing Policy for Android trebel Add domains for a service\nAdd security context depend on service type:\nHardware service\nDefine service type in hwservice.te\ntype vnd_foo_hwservice, hwservice_manager_type;\nLabeling hwservice in hwservice_contexts\nvendor.realtek.foo::IfooAPI u:object_r:vnd_foo_hwservice:s0 Vendor service Define service type in vndservice.te\ntype foo_service, vndservice_manager_type; Labeling vndservice in vndservice_contexts\nfooservice u:object_r:foo_service:s0 System service Define service type in service.te\ntype foo_service, service_manager_type; Labeling system service in service_contexts\nfooservice u:object_r:foo_service:s0 Add domain and type enforcement configuration\nCreate new foo.te file\nDefine service doamin and file attributes\ntype foo, domain; type foo_exec, exec_type, vendor_file_type, file_type; init_daemon_domain(foo) Add file security context in file_contexts\n/vendor/bin/foo u:object_r:foo_exec:s0 Building policy files There are typically seven SELinux related files under an Android device (see more details here):\nselinux_version sepolicy: binary output after combining policy files (security_classes, initial_sids, *.te, etc) file_contexts property_contexts seapp_contexts service_contexts system/etc/mac_permissions.xml Building file_contexts.bin find file_contexts in /system/sepolicy and BOARD_SEPOLICY_DIR\noutput files:\nout/target/product/$DEVICE/obj/ETC/nonplat_file_contexts_intermediates/nonplat_file_contexts\nout/target/product/$DEVICE/obj/ETC/plat_file_contexts_intermediates/plat_file_contexts\nbinary file:\nout/target/product/$DEVICE/obj/ETC/file_contexts.bin_intermediates/file_contexts.bin\ninstall to root/file_contexts.bin\nBuilding policy configuration find security_classes, initial_sids, *.te, genfs_contexts, and port_contexts in /system/sepolicy and BOARD_SEPOLICY_DIR\nconfigure file:\nout/target/product/$DEVICE/obj/ETC/plat_sepolicy.cil_intermediates/plat_policy.conf\nout/target/product/$DEVICE/obj/ETC/nonplat_sepolicy.cil_intermediates/nonplat_policy.conf\nout/target/product/$DEVICE/obj/ETC/general_sepolicy.conf_intermediates/general_sepolicy.conf\ninstall to /root/sepolicy\n","permalink":"https://oopsmonk.github.io/posts/2017-12-20-sepolicy-for-android-treble/","summary":"\u003cp\u003eA Note about sepolicy in Android Oreo.\u003c/p\u003e\n\u003ch1 id=\"first-thing-first\"\u003eFirst thing first\u003c/h1\u003e\n\u003cp\u003eSELinux documents:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://source.android.com/security/selinux/images/SELinux_Treble.pdf\"\u003eSELinux for Android 8.0\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/6/html/security-enhanced_linux/\"\u003eWhat is SELinux?\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://source.android.com/security/selinux/\"\u003eWhat is SEAndroid?\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"http://www.cse.psu.edu/~trj1/cse543-f07/slides/03-PolicyConcepts.pdf\"\u003eSELinux Policy Concepts and Overview\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch1 id=\"android-sepolicy-files\"\u003eAndroid sepolicy files\u003c/h1\u003e\n\u003ch2 id=\"policy-path\"\u003ePolicy path:\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e/system/sepolicy\u003c/li\u003e\n\u003cli\u003eBOARD_SEPOLICY_DIR (device/$VENDOR/$DEVICE/sepolicy/, device/$VENDOR/$DEVICE/common/sepolicy/)\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"policy-macros\"\u003ePolicy Macros:\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003esystem/sepolicy/public/te_macros\u003c/li\u003e\n\u003cli\u003esystem/sepolicy/public/global_macros\u003c/li\u003e\n\u003cli\u003esystem/sepolicy/public/ioctl_macros\u003c/li\u003e\n\u003cli\u003esystem/sepolicy/public/neverallow_macros\u003c/li\u003e\n\u003cli\u003esystem/sepolicy/private/mls_macros\u003c/li\u003e\n\u003cli\u003esystem/sepolicy/reqd_mask/mls_macros\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"security-context\"\u003eSecurity Context:\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003efile_contexts, labeling files infilesystem.\u003c/li\u003e\n\u003cli\u003eproperty_contexts, labeling android system/vendor properties\u003c/li\u003e\n\u003cli\u003egenfs_contexts, Pre-file labeling for /proc files, generic filesystem security contexts.\u003c/li\u003e\n\u003cli\u003eseapp_contexts, used by zygote and installd via libselinux, mapping app UID andseinfofor /data/data directory\u003c/li\u003e\n\u003cli\u003ehwservice_contexts, for hwservice manager to check\u003c/li\u003e\n\u003cli\u003evndservice_contestx, for vndservice manager to check\u003c/li\u003e\n\u003cli\u003eservice_contexts, for service manager to check\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"type-enforcement\"\u003eType Enforcement\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e*.te\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch1 id=\"composing-policy-for-android-trebel\"\u003eComposing Policy for Android trebel\u003c/h1\u003e\n\u003col\u003e\n\u003cli\u003e\n\u003cp\u003eAdd domains for a service\u003c/p\u003e","title":"Sepolicy for Android Treble"},{"content":"SELinux, Arm Tech Symposia 2017 Taiwan, golang, IoT\nWeek44 (11/03) ç¶²è·¯è³‡æº Firmware Updates over Low-Power Wide Area Networks\nEnabling firmware updates over LPWAN\nARMmbed/lorawan-fota-demo\næ»¿æœ‰è¶£çš„å•é¡Œ, IoTå»ºç½®æœƒé æœŸdeviceè¦èƒ½é•·é”10å¹´çš„å£½å‘½, ä½†10å¹´é–“çš„è®ŠåŒ–æ˜¯å¾ˆå¤§çš„.\nWeek45 (11/10) ç¶²è·¯æ–‡ç«  Android SELinux Treble\nAndroid O ç‚ºäº†åŠ é€Ÿç”¢å“é–‹ç™¼, åœ¨frameworkä¸Šæœ‰é‡å¤§çš„æ”¹è®Š, ä½¿ç”¨äº†Treble.\nVender, ODM, OEMæœ‰å„è‡ªéœ€è¦ç¶­è­·çš„partitions.\nWeek46 (11/17) ç¶²è·¯æ–‡ç«  Neural fuzzing: applying DNN to software security testing\nå¥½å¥‡å…¶å®ƒçš„nural networksçš„æ‡‰ç”¨, å¸¸çœ‹åˆ°CNN.\nç¶²è·¯è³‡æº hacdias/filemanager\næ„Ÿè¦ºä¸éŒ¯ç”¨çš„web filemanager, ç›®å‰å¾ˆæœ‰æ´»åŠ›, é€äº†ä¸€å€‹PRä¸åˆ°1å¤©å°±è¢«mergeäº†.\nè®€æ›¸å¿ƒå¾— å› ç‚ºæŠŠç©hacdias/filemanagerçœ‹äº†ä¸€ä¸‹A Tour of Goåœ¨èªæ³•ä¸Šé‚„ä¸å¤ªèƒ½é©æ‡‰, ä¸éé‚„æ»¿å®¹æ˜“ä¸Šæ‰‹çš„, Methodè·ŸInterfaceçš„ç”¨æ³•é‚„è¦å†ç ”ç©¶ä¸€ä¸‹, Concurrencyä¹Ÿè¦èŠ±ä¸€é»æ™‚é–“äº†è§£, å¿…ç«Ÿconcurrencyæ˜¯æœ€å¤§çš„è³£é»å§!\né‚„æœ‰pythonä½¿ç”¨ä¸Šæœƒæœ‰package dependencyå•é¡Œæœ‰é»é ­ç—›, golangç·¨æˆbinrayçš„æ–¹å¼å¯ä»¥çœæ‰é€™å€‹éº»ç…©, but è¦å¦‚ä½•æ–¹ä¾¿çš„debug web front-end? é€™å¯èƒ½è¦çœ‹ä¸€ä¸‹go.rice.\nä½†é­šèˆ‡ç†ŠæŒä»ä¸å¯å…¼å¾—\u0026hellip;package dependency, cross-platform, realtime debug.\nPolicy Configuration of SELinux and SEAndroid\nWeek47 (11/24) ç¶²è·¯æ–‡ç«  Bundle HTML, CSS, And JavaScript To Be Served In A Golang Application\nThe 6 Simple Steps Elon Musk Uses to Solve Any Problem\nAsk a question. Gather as much evidence as possible about it. Develop hypotheses based on the evidence. Draw a conclusion. Attempt to disprove the conclusion. If nobody can invalidate your conclusion, then you\u0026rsquo;re probably right. è®€æ›¸å¿ƒå¾— What is domain transitions? SELinux/Tutorials/How does a process get into a certain context\nSELinux by default inherits contexts, be it from processes (on fork) or parent files/directories\nContexts of processes can change on execute of a command from that process\u0026rsquo; context, but only under the conditions that\nthe target file context is executable for the source domain the target file context is marked as an entrypoint for the target domain the source domain is allowed to transition to the target domain What are xxx_contexts?? securty context file. file_contexts, labeling files in filesystem. property_contexts, labeling android system/vendor properties\ngenfs_contexts, Pre-file labeling for /proc files, generic filesystem security contexts.\nseapp_contexts, used by zygote and installd via libselinux, mapping app UID and seinfo for /data/data directory\nhwservice_contexts, for hwservicemanager to check\nvndservice_contestx, for vndservicemanager to check\n*.te, Type Enforcement configuration, define policy for file type, process domain\n","permalink":"https://oopsmonk.github.io/posts/2017-10-27-2017month11/","summary":"\u003cp\u003eSELinux, Arm Tech Symposia 2017 Taiwan, golang, IoT\u003c/p\u003e\n\u003ch1 id=\"week44-1103\"\u003eWeek44 (11/03)\u003c/h1\u003e\n\u003ch2 id=\"ç¶²è·¯è³‡æº\"\u003eç¶²è·¯è³‡æº\u003c/h2\u003e\n\u003cp\u003e\u003ca href=\"https://www.thethingsnetwork.org/article/firmware-updates-over-low-power-wide-area-networks\"\u003eFirmware Updates over Low-Power Wide Area Networks\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://www.slideshare.net/janjongboom/enabling-firmware-updates-over-lpwan-tech-symposia-2017-taiwan\"\u003eEnabling firmware updates over LPWAN\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://github.com/ARMmbed/lorawan-fota-demo\"\u003eARMmbed/lorawan-fota-demo\u003c/a\u003e\u003cbr\u003e\næ»¿æœ‰è¶£çš„å•é¡Œ, IoTå»ºç½®æœƒé æœŸdeviceè¦èƒ½é•·é”10å¹´çš„å£½å‘½, ä½†10å¹´é–“çš„è®ŠåŒ–æ˜¯å¾ˆå¤§çš„.\u003c/p\u003e\n\u003ch1 id=\"week45-1110\"\u003eWeek45 (11/10)\u003c/h1\u003e\n\u003ch2 id=\"ç¶²è·¯æ–‡ç« \"\u003eç¶²è·¯æ–‡ç« \u003c/h2\u003e\n\u003cp\u003e\u003ca href=\"https://source.android.com/security/selinux/images/SELinux_Treble.pdf\"\u003eAndroid SELinux Treble\u003c/a\u003e\u003cbr\u003e\nAndroid O ç‚ºäº†åŠ é€Ÿç”¢å“é–‹ç™¼, åœ¨frameworkä¸Šæœ‰é‡å¤§çš„æ”¹è®Š, ä½¿ç”¨äº†Treble.\u003cbr\u003e\nVender, ODM, OEMæœ‰å„è‡ªéœ€è¦ç¶­è­·çš„partitions.\u003cbr\u003e\n\u003cimg loading=\"lazy\" src=\"/images/2017-Month11/AndroidO_partitions.png\"\u003e\u003c/p\u003e\n\u003ch1 id=\"week46-1117\"\u003eWeek46 (11/17)\u003c/h1\u003e\n\u003ch2 id=\"ç¶²è·¯æ–‡ç« -1\"\u003eç¶²è·¯æ–‡ç« \u003c/h2\u003e\n\u003cp\u003e\u003ca href=\"https://www.microsoft.com/en-us/research/blog/neural-fuzzing/\"\u003eNeural fuzzing: applying DNN to software security testing\u003c/a\u003e\u003cbr\u003e\nå¥½å¥‡å…¶å®ƒçš„nural networksçš„æ‡‰ç”¨, å¸¸çœ‹åˆ°CNN.\u003c/p\u003e\n\u003ch2 id=\"ç¶²è·¯è³‡æº-1\"\u003eç¶²è·¯è³‡æº\u003c/h2\u003e\n\u003cp\u003e\u003ca href=\"https://github.com/hacdias/filemanager\"\u003ehacdias/filemanager\u003c/a\u003e\u003cbr\u003e\næ„Ÿè¦ºä¸éŒ¯ç”¨çš„web filemanager, ç›®å‰å¾ˆæœ‰æ´»åŠ›, é€äº†ä¸€å€‹PRä¸åˆ°1å¤©å°±è¢«mergeäº†.\u003c/p\u003e\n\u003ch2 id=\"è®€æ›¸å¿ƒå¾—\"\u003eè®€æ›¸å¿ƒå¾—\u003c/h2\u003e\n\u003cp\u003eå› ç‚ºæŠŠç©\u003ca href=\"https://github.com/hacdias/filemanager\"\u003ehacdias/filemanager\u003c/a\u003eçœ‹äº†ä¸€ä¸‹\u003ca href=\"https://tour.golang.org\"\u003eA Tour of Go\u003c/a\u003eåœ¨èªæ³•ä¸Šé‚„ä¸å¤ªèƒ½é©æ‡‰, ä¸éé‚„æ»¿å®¹æ˜“ä¸Šæ‰‹çš„, Methodè·ŸInterfaceçš„ç”¨æ³•é‚„è¦å†ç ”ç©¶ä¸€ä¸‹, Concurrencyä¹Ÿè¦èŠ±ä¸€é»æ™‚é–“äº†è§£, å¿…ç«Ÿconcurrencyæ˜¯æœ€å¤§çš„è³£é»å§!\u003cbr\u003e\né‚„æœ‰pythonä½¿ç”¨ä¸Šæœƒæœ‰package dependencyå•é¡Œæœ‰é»é ­ç—›, golangç·¨æˆbinrayçš„æ–¹å¼å¯ä»¥çœæ‰é€™å€‹éº»ç…©, but è¦å¦‚ä½•æ–¹ä¾¿çš„debug web front-end? é€™å¯èƒ½è¦çœ‹ä¸€ä¸‹\u003ca href=\"https://github.com/GeertJohan/go.rice\"\u003ego.rice\u003c/a\u003e.\u003cbr\u003e\nä½†é­šèˆ‡ç†ŠæŒä»ä¸å¯å…¼å¾—\u0026hellip;package dependency, cross-platform, realtime debug.\u003c/p\u003e","title":"Preparing a preparation?! It's nonsense..."},{"content":"A Note for SELinux and SEAndroid policy configuration.\nSEAndroid Security-Enhanced Linux in Android\nSELinux for Android 8 - Treble mode\nSEAndroidå®‰å…¨æ©Ÿåˆ¶ä¸­çš„æ–‡ä»¶å®‰å…¨ä¸Šä¸‹æ–‡é—œè¯åˆ†æ - file_context\nSEAndroidå®‰å…¨æ©Ÿåˆ¶ä¸­çš„é€²ç¨‹å®‰å…¨ä¸Šä¸‹æ–‡é—œè¯åˆ†æ - process\nAndroid 8 Treble mode: Kernel early mount PRODUCT_FULL_TREBLE, PRODUCT_FULL_TREBLE_OVERRIDE, BOARD_SEPOLICY_DIRS Android 4.3 ~ 6 TE macro define: external/sepolicy/te_macros\nAndroid 8 TE macro define: system/sepolicy/te_macros\n##################################### # domain_trans(olddomain, type, newdomain) # Allow a transition from olddomain to newdomain # upon executing a file labeled with type. # This only allows the transition; it does not # cause it to occur automatically - use domain_auto_trans # if that is what you want. # define(`domain_trans\u0026#39;, ` # Old domain may exec the file and transition to the new domain. allow $1 $2:file { getattr open read execute }; allow $1 $3:process transition; # New domain is entered by executing the file. allow $3 $2:file { entrypoint open read execute getattr }; # New domain can send SIGCHLD to its caller. ifelse($1, `init\u0026#39;, `\u0026#39;, `allow $3 $1:process sigchld;\u0026#39;) # Enable AT_SECURE, i.e. libc secure mode. dontaudit $1 $3:process noatsecure; # XXX dontaudit candidate but requires further study. allow $1 $3:process { siginh rlimitinh }; \u0026#39;) ##################################### # domain_auto_trans(olddomain, type, newdomain) # Automatically transition from olddomain to newdomain # upon executing a file labeled with type. # define(`domain_auto_trans\u0026#39;, ` # Allow the necessary permissions. domain_trans($1,$2,$3) # Make the transition occur by default. type_transition $1 $2:process $3; \u0026#39;) ##################################### # tmpfs_domain(domain) # Define and allow access to a unique type for # this domain when creating tmpfs / shmem / ashmem files. define(`tmpfs_domain\u0026#39;, ` type $1_tmpfs, file_type; type_transition $1 tmpfs:file $1_tmpfs; allow $1 $1_tmpfs:file { read write getattr }; allow $1 tmpfs:dir { getattr search }; \u0026#39;) ##################################### # init_daemon_domain(domain) # Set up a transition from init to the daemon domain # upon executing its binary. define(`init_daemon_domain\u0026#39;, ` domain_auto_trans(init, $1_exec, $1) tmpfs_domain($1) \u0026#39;) apol - SELinux policy analysis tool sudo apt install setools-gui SELinux Configuring the SELinux Policy\nSecurity context: subject(process) and object(file, socket, IPC object\u0026hellip;) in the system is assigned a collection of security attributes.\nSecurity identifiers (SIDs): an integer that is mapped by the security server to a security context at runtime.\nThe policy configuration sources must be compiled into a binary representation before it can be read by the kernel.\nThe policy compilation involves three steps:\nall configuration files are concatenated together. m4 marco processor is applied to the resulting concatenation to expand macros. checkpolicy policy compiler run to generate the binary representation. Applying the File Contexts, restorecon utility can be run to restore a specific list of files to their original settings from the file contexts configuration.\nThe chcon utility is used to set the security context of a file to a specified value. The usage is similar to the chown or chmod\naudit: type=1400 audit(1388534435.223:4): avc: denied { read } for pid=1643 comm=\u0026#34;resize2fs\u0026#34; name=\u0026#34;__properties__\u0026#34; dev=\u0026#34;tmpfs\u0026#34; ino=1078 scontext=u:r:init_resize:s0 tcontext=u:object_r:properties_device:s0 tclass=dir permissive=0 // The init_resize domain is being denied permissions to read with the properties_device type. audit: type=1400 audit(1388534435.223:5): avc: denied { open } for pid=1643 comm=\u0026#34;resize2fs\u0026#34; path=\u0026#34;/proc/stat\u0026#34; dev=\u0026#34;proc\u0026#34; ino=4026532361 scontext=u:r:init_resize:s0 tcontext=u:object_r:proc_stat:s0 tclass=file permissive=0 // The init_resize domain is being denied permissions to open with the proc_stat type. type=1400 audit(1388534436.507:69): avc: denied { read write } for pid=1771 comm=\u0026#34;android.hardwar\u0026#34; name=\u0026#34;vndbinder\u0026#34; dev=\u0026#34;tmpfs\u0026#34; ino=2351 scontext=u:r:hal_graphics_composer_default:s0 tcontext=u:object_r:vndbinder_device:s0 tclass=chr_file permissive=0 // The hal_graphics_composer_default domain is being denied permissions to read and write with the vndbinder_device type. type=1400 audit(1388534436.571:70): avc: denied { execute } for pid=1778 comm=\u0026#34;surfaceflinger\u0026#34; path=\u0026#34;/vendor/lib/hw/android.hardware.graphics.allocator@2.0-impl.so\u0026#34; dev=\u0026#34;mmcblk0p17\u0026#34; ino=388 scontext=u:r:surfaceflinger:s0 tcontext=u:object_r:vendor_file:s0 tclass=file permissive=0 // The surfaceflinger domain is being denied permissions to execute with the vendor_file type. scontext: the source security context\ntcontext: the target security context\ntclass: the target security class\nTE Statements Attribute Declarations\nA type attribute is a name that can be used to identify a set of types with a similar property.\nattribute domain; attribute privuser; attribute privrole; Type Declarations\nThe TE configuration language requires that every type be declared.\nEach type declaration specifies a primary name for the type, an optional set of aliases for the type, and an optional set of attributes for the type.\nDuring runtime, the example security server always uses the primary name to identify the type when it returns the security context for a SID.\nAliases can be used to provide shorthand forms or synonyms for a type, but have no significance from a security perspective. Primary names and alias names exist in a single type name space and must all be unique.\ntype sshd_t, domain, privuser, privrole, privlog, privowner; type sshd_exec_t, file_type, exec_type, sysadmfile; type sshd_tmp_t, file_type, sysadmfile, tmpfile; type sshd_var_run_t, file_type, sysadmfile, pidfile; The sshd_t type is the domain of the daemon process. The sshd_exec_t type is the type of the sshd executable.\nThe sshd_tmp_t and sshd_var_run_t types are the types for temporary files and PID files, respectively, that are created by the daemon process.\nEach of these types has a set of associated attributes that are used in rules within the TE configuration.\nTE Transition Rules\nTE transition rules specify the new domain for a process or the new type for an object.\nCreate new domain\nCreate new xxx.te file for the process Add TE declaration and rules Ex:\n# file name: logrotate.te # new type declaration type logrotate_t, domain, privowner; type logrotate_exec_t, file_type, sysadmfile, exec_type; # grant new domain via macro general_domain_access(logrotate_t) app_domain(logrotate_t) init_daemon_domain(logrotate_t) # permission rules allow logrotate_t var_log_t:dir rw_dir_perms; allow logrotate_t var_log_t:file create_file_perms; Case study on Android Oreo Computing context error: invalid_context\ninit: Context getfilecon init: security_compute_create type=1401 audit(1388534436.075:60): op=security_compute_sid invalid_context=u:r:vendor:s0 scontext=u:r:init:s0 tcontext=u:object_r:vendor_exec:s0 tclass=process init: mycon u:r:init:s0 , filecon u:object_r:vendor_exec:s0 , Context rc = -1 init: could not get context while starting \u0026#39;seserver\u0026#39; Solution:\nCreate TE configuration file and new domain for seserver\n# file name: seserver.te type seserver, domain; type seserver_exec, exec_type, vendor_file_type, file_type; init_daemon_domain(seserver) allow seserver vndbinder_device:chr_file ioctl; ","permalink":"https://oopsmonk.github.io/posts/2017-11-17-policy-configuration-of-selinux-and-seandroid/","summary":"\u003cp\u003eA Note for SELinux and SEAndroid policy configuration.\u003c/p\u003e\n\u003ch2 id=\"seandroid\"\u003eSEAndroid\u003c/h2\u003e\n\u003cp\u003e\u003ca href=\"https://source.android.com/security/selinux/\"\u003eSecurity-Enhanced Linux in Android\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://source.android.com/security/selinux/images/SELinux_Treble.pdf\"\u003eSELinux for Android 8 - Treble mode\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"http://blog.csdn.net/luoshengyang/article/details/37749383\"\u003eSEAndroidå®‰å…¨æ©Ÿåˆ¶ä¸­çš„æ–‡ä»¶å®‰å…¨ä¸Šä¸‹æ–‡é—œè¯åˆ†æ\u003c/a\u003e - file_context\u003cbr\u003e\n\u003ca href=\"http://blog.csdn.net/luoshengyang/article/details/38054645\"\u003eSEAndroidå®‰å…¨æ©Ÿåˆ¶ä¸­çš„é€²ç¨‹å®‰å…¨ä¸Šä¸‹æ–‡é—œè¯åˆ†æ\u003c/a\u003e - process\u003c/p\u003e\n\u003ch3 id=\"android-8-treble-mode\"\u003eAndroid 8 Treble mode:\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eKernel early mount\u003c/li\u003e\n\u003cli\u003ePRODUCT_FULL_TREBLE, PRODUCT_FULL_TREBLE_OVERRIDE, BOARD_SEPOLICY_DIRS\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eAndroid 4.3 ~ 6 TE macro define: external/sepolicy/te_macros\u003cbr\u003e\nAndroid 8 TE macro define: system/sepolicy/te_macros\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003e#####################################                                                                                            \n# domain_trans(olddomain, type, newdomain)\n# Allow a transition from olddomain to newdomain\n# upon executing a file labeled with type.\n# This only allows the transition; it does not\n# cause it to occur automatically - use domain_auto_trans\n# if that is what you want.\n#\ndefine(`domain_trans\u0026#39;, `\n# Old domain may exec the file and transition to the new domain.\nallow $1 $2:file { getattr open read execute };\nallow $1 $3:process transition;\n# New domain is entered by executing the file.\nallow $3 $2:file { entrypoint open read execute getattr };\n# New domain can send SIGCHLD to its caller.\nifelse($1, `init\u0026#39;, `\u0026#39;, `allow $3 $1:process sigchld;\u0026#39;)\n# Enable AT_SECURE, i.e. libc secure mode.\ndontaudit $1 $3:process noatsecure;\n# XXX dontaudit candidate but requires further study.\nallow $1 $3:process { siginh rlimitinh };\n\u0026#39;)\n\n#####################################\n# domain_auto_trans(olddomain, type, newdomain)\n# Automatically transition from olddomain to newdomain\n# upon executing a file labeled with type.\n#\ndefine(`domain_auto_trans\u0026#39;, `\n# Allow the necessary permissions.\ndomain_trans($1,$2,$3)\n# Make the transition occur by default.\ntype_transition $1 $2:process $3;\n\u0026#39;)\n\n#####################################\n# tmpfs_domain(domain)                                                                                                           \n# Define and allow access to a unique type for\n# this domain when creating tmpfs / shmem / ashmem files.\ndefine(`tmpfs_domain\u0026#39;, `\ntype $1_tmpfs, file_type;\ntype_transition $1 tmpfs:file $1_tmpfs;\nallow $1 $1_tmpfs:file { read write getattr };\nallow $1 tmpfs:dir { getattr search };\n\u0026#39;)\n\n#####################################\n# init_daemon_domain(domain)\n# Set up a transition from init to the daemon domain\n# upon executing its binary.\ndefine(`init_daemon_domain\u0026#39;, `                                                                                                   \ndomain_auto_trans(init, $1_exec, $1)\ntmpfs_domain($1)\n\u0026#39;)\n\u003c/code\u003e\u003c/pre\u003e\u003ch3 id=\"apol---selinux-policy-analysis-tool\"\u003eapol - SELinux policy analysis tool\u003c/h3\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003esudo apt install setools-gui\n\u003c/code\u003e\u003c/pre\u003e\u003ch2 id=\"selinux\"\u003eSELinux\u003c/h2\u003e\n\u003cp\u003e\u003ca href=\"https://www.nsa.gov/resources/everyone/digital-media-center/publications/research-papers/assets/files/configuring-selinux-policy-report.pdf\"\u003eConfiguring the SELinux Policy\u003c/a\u003e\u003c/p\u003e","title":"Policy Configuration of SELinux and SEAndroid"},{"content":"Some metrics for ARM Mali performance analysis in DS-5 Streamline or MGD.\nDS-5 Streamline Mali-470 (Utgard) GPU Bandwidth = (Words read, master + Words written, master) * Bus Width\nOverdraw = Fragments Passed Z/stencil count * Number of Cores / Resolution * FPS\nGPU Bandwidth = (38342943+38661456) * (128/8) = 1232070384 bytes/s = 1174.99 MB/s Overdraw = (79194586+79152584+79112550+79117609)/(1920x1080) = 152.67\nMali-T820 (Midgard) Job Slots\nJS0: fragment shading. JS1: vertex, geometry, compute, and tiling. JS2: vertex, geometry, and compute. Fragment Percentage = (JS0 Active / GPU frequency) * 100\nVertex percentage = (JS1 Active / Frequency) * 100\nLoad Store CPI = Full Pipeline issues / Load Store Instruction Words Completed\nGPU Bandwidth = (External read beats + External write beats) * Bus Width\nOverdraw = Fragment Threads Started * Number of Cores/ Resolution * FPS\nGPU Bandwidth = (35942654+29615172) * (128/8) = 1048925216 bytes/s = 1000.33 MB/s\nFragment Percentage = (10347901 / 10351030) * 100 = 99.96%\nVertex percentage = ( 1635340 / 10351030) * 100 = 15.79%\nMali Graphic Debugger(MGD) GPU Budget\nTotal vertex cycle count/frame/pixel = vertex cycles / frame buffer pixels\nTotal fragment cycle count/frame/pixel = fragment cycles / frame buffer pixels\nTotal cycle count/frame/pixel = fragment cycle + vertex cycle\nMali-470 (Utgard) T470MP4@750MHz with 1920x1080 resolution, application rendering framebuffer 512x512.\nTotal vertex cycle count/frame/pixel = 1224001 / (512 * 512) ~= 4.66 cycles/frame/pixel\nTotal fragment cycle count/frame/pixel = 6429459 / (512 * 512) = 24.52 cycles/frame/pixel\nTotal cycle count/frame/pixel = 24.52+4.66 = 29.18 cycles/frame/pixel\nvertexCycleBudget = (750M cycles/sec) / (60 frames/sec * 108926) = 114.75 cycles/frame/vertex\nMali-T820 (Midgard) T820MP3@620MHz with 1920x1080 resolution, application rendering framebuffer 512x512.\nTotal vertex cycle count/frame/pixel = 919273 / (512 * 512) = 3.5 cycles/frame/pixel\nTotal fragment cycle count/frame/pixel = 6713456 / (512 * 512) = 25.6 cycles/frame/pixel\nTotal cycle count/frame/pixel = 29.1 cycles/frame/pixel\nvertexCycleBudget = (620M * 3 cycles/sec) / (60 frames/sec * 92141) = 672.88 cycles/frame/vertex\nReferences:\nGPU Processing Budget Approach to Game Development\nMali Midgard Family Performance Counters\nUsing Streamline to Guide Cache Optimization\nMali GPU Tools: A Case Study, Part 1\nUsing Streamline to Optimize Applications for Mali GPUs\nPerformance Analysis and Debugging with Mali.pdf\n","permalink":"https://oopsmonk.github.io/posts/2017-11-01-arm-mali-profiling-metrics/","summary":"\u003cp\u003eSome metrics for ARM Mali performance analysis in DS-5 Streamline or MGD.\u003c/p\u003e\n\u003ch1 id=\"ds-5-streamline\"\u003eDS-5 Streamline\u003c/h1\u003e\n\u003ch2 id=\"mali-470-utgard\"\u003eMali-470 (Utgard)\u003c/h2\u003e\n\u003cp\u003eGPU Bandwidth = (Words read, master + Words written, master) * Bus Width\u003cbr\u003e\nOverdraw = Fragments Passed Z/stencil count * Number of Cores / Resolution * FPS\u003c/p\u003e\n\u003cp\u003e\u003cimg loading=\"lazy\" src=\"/images/2017-11-01/Mali470MP4_750MHz_DS5.png\"\u003e\u003c/p\u003e\n\u003cp\u003eGPU Bandwidth = (38342943+38661456) * (128/8) = 1232070384 bytes/s = 1174.99 MB/s\nOverdraw = (79194586+79152584+79112550+79117609)/(1920x1080) = 152.67\u003c/p\u003e\n\u003ch2 id=\"mali-t820-midgard\"\u003eMali-T820 (Midgard)\u003c/h2\u003e\n\u003cp\u003eJob Slots\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eJS0: fragment shading.\u003c/li\u003e\n\u003cli\u003eJS1: vertex, geometry, compute, and tiling.\u003c/li\u003e\n\u003cli\u003eJS2: vertex, geometry, and compute.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eFragment Percentage = (JS0 Active / GPU frequency) * 100\u003cbr\u003e\nVertex percentage = (JS1 Active / Frequency) * 100\u003cbr\u003e\nLoad Store CPI = Full Pipeline issues / Load Store Instruction Words Completed\u003cbr\u003e\nGPU Bandwidth  = (External read beats + External write beats) * Bus Width\u003cbr\u003e\nOverdraw = Fragment Threads Started * Number of Cores/ Resolution * FPS\u003c/p\u003e","title":"ARM Mali Profiling Metrics"},{"content":"ARM performance, Algorithms\nIn fact, there is no universal benchmark tool.\nWeek40 (10/06) ç¶²è·¯æ–‡ç«  Why do we learn algorithms?\nWhy do we need so many sorting algorithms?\nWhy do we need to learn different sorting algorithms when the STL sort function is already available to us in C++?\nç¶²è·¯è³‡æº The Algorithms\nä¸åŒç¨‹å¼èªè¨€æ¼”ç®—æ³•çš„å¯¦ç¾.\nevery-programmer-should-know\nData Structure Visualizations\næ¼”ç®—æ³•è¦–è¦ºåŒ–\nWeek41 (10/13) ç¶²è·¯æ–‡ç«  GPU Processing Budget Approach to Game Development\nGPU budgetæ˜¯ä¼°ç®—è™•ç†1 pixelçš„cycle cost, å–®ä½æ˜¯cycles/frame/pixel\nå…ˆä¼°ç®—fragment/vertex budgetç†è«–å€¼å†é€éMGDåˆ†æç•¶ä¸‹çš„budgetåšæ¯”è¼ƒ, å¦‚MGDç®—å‡ºä¾†çš„budgetè¼ƒé«˜, è¡¨ç¤ºGPU loadingéé‡.\nWeek42 (10/20) ç¶²è·¯æ–‡ç«  Analyzing Performance of Mobile Games\né€éDS-5 Streamlineåˆ†æGUP/CPU/Bandwidth bound, GPUåœ¨ä¸åŒçš„æ¶æ§‹(Utgard, Midgard)ä¸‹éœ€è¦ä½¿ç”¨ä¸åŒçš„ç®—æ³•.\nWeek43 (10/27) ç¶²è·¯æ–‡ç«  Regular Expressions in Programming Languages: The Story of C++\n","permalink":"https://oopsmonk.github.io/posts/2017-09-29-2017month10/","summary":"\u003cp\u003eARM performance,  Algorithms\u003c/p\u003e\n\u003cp\u003eIn fact, there is no universal benchmark tool.\u003c/p\u003e\n\u003ch1 id=\"week40-1006\"\u003eWeek40 (10/06)\u003c/h1\u003e\n\u003ch2 id=\"ç¶²è·¯æ–‡ç« \"\u003eç¶²è·¯æ–‡ç« \u003c/h2\u003e\n\u003cp\u003e\u003cstrong\u003eWhy do we learn algorithms?\u003c/strong\u003e\u003cbr\u003e\n\u003ca href=\"https://www.quora.com/Why-do-we-need-so-many-sorting-algorithms\"\u003eWhy do we need so many sorting algorithms?\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://www.quora.com/Why-do-we-need-to-learn-different-sorting-algorithms-when-the-STL-sort-function-is-already-available-to-us-in-C++\"\u003eWhy do we need to learn different sorting algorithms when the STL sort function is already available to us in C++?\u003c/a\u003e\u003c/p\u003e\n\u003ch2 id=\"ç¶²è·¯è³‡æº\"\u003eç¶²è·¯è³‡æº\u003c/h2\u003e\n\u003cp\u003e\u003cstrong\u003e\u003ca href=\"https://github.com/TheAlgorithms\"\u003eThe Algorithms\u003c/a\u003e\u003c/strong\u003e\u003cbr\u003e\nä¸åŒç¨‹å¼èªè¨€æ¼”ç®—æ³•çš„å¯¦ç¾.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003e\u003ca href=\"https://github.com/mr-mig/every-programmer-should-know\"\u003eevery-programmer-should-know\u003c/a\u003e\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003e\u003ca href=\"http://www.cs.usfca.edu/~galles/visualization/Algorithms.html\"\u003eData Structure Visualizations\u003c/a\u003e\u003c/strong\u003e\u003cbr\u003e\næ¼”ç®—æ³•è¦–è¦ºåŒ–\u003c/p\u003e\n\u003ch1 id=\"week41-1013\"\u003eWeek41 (10/13)\u003c/h1\u003e\n\u003ch2 id=\"ç¶²è·¯æ–‡ç« -1\"\u003eç¶²è·¯æ–‡ç« \u003c/h2\u003e\n\u003cp\u003e\u003cstrong\u003e\u003ca href=\"https://community.arm.com/graphics/b/blog/posts/gpu-processing-budget-approach-to-game-development\"\u003eGPU Processing Budget Approach to Game Development\u003c/a\u003e\u003c/strong\u003e\u003cbr\u003e\nGPU budgetæ˜¯ä¼°ç®—è™•ç†1 pixelçš„cycle cost, å–®ä½æ˜¯cycles/frame/pixel\u003cbr\u003e\nå…ˆä¼°ç®—fragment/vertex budgetç†è«–å€¼å†é€éMGDåˆ†æç•¶ä¸‹çš„budgetåšæ¯”è¼ƒ, å¦‚MGDç®—å‡ºä¾†çš„budgetè¼ƒé«˜, è¡¨ç¤ºGPU loadingéé‡.\u003c/p\u003e","title":"What's wrong with benchmarks?"},{"content":"I have a build environment with make4.1 and JDK8 for Android N/O, but JDK6 and make3.81 are required by Android KitKat.\nHere is a way to create a clean environment for Android KK.\nCreate a new environment in current Ubuntu 16.04 install schroot and debootstrap\nsudo apt install schroot debootstrap\nif xenial no exist, update to latest version of debootstrap\nls -l /usr/share/debootstrap/scripts/xenial\nConfigure new environment edit /etc/schroot/schroot.conf\n[Build_KK] description=ubuntu16.04 Android_KK type=directory directory=/srv/chroot/Build_KK users=oopsmonk groups=oopsmonk root-groups=root profile=default Adding Mount points edit /etc/schroot/default/fstab\n/opt /opt none rw,bind\t0 0 /home/oopsmonk/2t /home/oopsmonk/2t none rw,bind 0\t0 Installing new system $ mkdir -p /srv/chroot/Build_KK $ sudo debootstrap --arch amd64 xenial /srv/chroot/Build_KK/ http://archive.ubuntu.com/ubuntu Using new environment Login to new environment\n$ schroot -c Build_KK -u oopsmonk Install packages edit /etc/apt/sources.list\ndeb http://archive.ubuntu.com/ubuntu xenial main\nchange to\ndeb http://archive.ubuntu.com/ubuntu xenial main restricted universe\n$ sudo apt update $ sudo apt install curl git subversion python wget xz-utils vim make ccache cmake lsof unzip u-boot-tools zip m4 bison $ sudo apt install g++-multilib gcc-multilib lib32ncurses5-dev lib32readline-dev lib32z1-dev libxml2-utils bc $ sudo apt install xsltproc flex gperf $ wget https://bootstrap.pypa.io/get-pip.py $ sudo python get-pip.py JDK6 for Android KK Put JDKs in /opt that we can share with the original env or the third env and it can reduce HDD space for creating new envs.\nunzip sun-jdk-1.6.0.37.tgz to /opt/\n$ sudo update-alternatives --install /usr/bin/javac javac /opt/sun-jdk-1.6.0.37/bin/javac 0 $ sudo update-alternatives --install /usr/bin/java java /opt/sun-jdk-1.6.0.37/bin/java 0 $ sudo update-alternatives --install /usr/bin/javaws javaws /opt/sun-jdk-1.6.0.37/bin/javaws 0 Make 3.81 for Android KK $ wget \u0026#34;http://ftp.gnu.org/gnu/make/make-3.81.tar.bz2\u0026#34; $ tar xjf make-3.81.tar.bz2 $ cd make-3.81 $ ./configure \u0026amp;\u0026amp; make $ sudo make install $ hash -r make $ make --version GNU Make 3.81 Copyright (C) 2006 Free Software Foundation, Inc. This is free software; see the source for copying conditions. There is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. Ready to build!\nIn this case, 881MB is used by the new environment, so we should reserve 1GB space or more for creating a new environment.\n$ sudo du -hs /srv/chroot/Build_KK 881M /srv/chroot/Build_KK ","permalink":"https://oopsmonk.github.io/posts/2017-10-24-building-different-android-version/","summary":"\u003cp\u003eI have a build environment with make4.1 and JDK8 for Android N/O, but JDK6 and make3.81 are required by Android KitKat.\u003cbr\u003e\nHere is a way to create a clean environment for Android KK.\u003c/p\u003e\n\u003ch2 id=\"create-a-new-environment-in-current-ubuntu-1604\"\u003eCreate a new environment in current Ubuntu 16.04\u003c/h2\u003e\n\u003cp\u003einstall schroot and debootstrap\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003esudo apt install schroot debootstrap\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003eif xenial no exist, update to latest version of debootstrap\u003cbr\u003e\n\u003ccode\u003els -l /usr/share/debootstrap/scripts/xenial\u003c/code\u003e\u003c/p\u003e\n\u003ch3 id=\"configure-new-environment\"\u003eConfigure new environment\u003c/h3\u003e\n\u003cp\u003eedit \u003ccode\u003e/etc/schroot/schroot.conf\u003c/code\u003e\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003e[Build_KK]\ndescription=ubuntu16.04 Android_KK\ntype=directory\ndirectory=/srv/chroot/Build_KK\nusers=oopsmonk\ngroups=oopsmonk\nroot-groups=root\nprofile=default\n\u003c/code\u003e\u003c/pre\u003e\u003ch3 id=\"adding-mount-points\"\u003eAdding Mount points\u003c/h3\u003e\n\u003cp\u003eedit \u003ccode\u003e/etc/schroot/default/fstab\u003c/code\u003e\u003c/p\u003e","title":"Building Different Android Version Using schroot"},{"content":"Jigsaw Puzzle, Hidden layers, New SoC, Algorithm basics, HTC\nWeek35 (09/01) ç¬¬ä¸€æ¬¡å®Œæˆ520ç‰‡çš„æ‹¼åœ–, èŠ±äº†4å€‹æ™šä¸Šçš„æ™‚é–“, å¤§ç´„12å°æ™‚å§?!\nä¸‹æ¬¡è¨˜å¾—é¡è‰²é®®æ˜çš„åœ–æœƒæ¯”è¼ƒæ„œæ„äº›.\nWeek36 (09/08) ç¶²è·¯æ–‡ç«  Credit firm Equifax says 143m Americans\u0026rsquo; social security numbers exposed in hack\nåœ¨æ–°èå…¬é–‹å‰é«˜å±¤å°±å·±è³£æ‰å¸‚å€¼1.8mçš„è‚¡ç¥¨!!\nç¶²è·¯è³‡æº Google Developer Documentation Style Guide\nGoogleå…¬ä½ˆäº†å…§éƒ¨æ–‡ä»¶æ’°å¯«çš„æ ¼å¼åŠæ³¨æ„äº‹é ….\nNeural Networks and Deep Learning - Week 3 Tuning hidden layer size\niterations: 5000\nlearning_rate: 1.2\nactivation: sigmoid\nAccuracy for 1 hidden units: 67.5 % Accuracy for 2 hidden units: 67.25 % Accuracy for 3 hidden units: 90.75 % Accuracy for 4 hidden units: 90.5 % Accuracy for 5 hidden units: 91.25 % Accuracy for 20 hidden units: 90.0 % Accuracy for 50 hidden units: 90.25 % Interpretation:\nThe larger models (with more hidden units) are able to fit the training set better, until eventually the largest models overfit the data. The best hidden layer size seems to be around n_h = 5. Indeed, a value around here seems to fits the data well without also incurring noticable overfitting. You will also learn later about regularization, which lets you use very large models (such as n_h = 50) without much overfitting. Optional questions:\nWhat happens when you change the tanh activation for a sigmoid activation or a ReLU activation? Play with the learning_rate. What happens? What if we change the dataset? é€™å€‹caseåœ¨hidden layersç‚º3,4,5æ™‚çœ‹èµ·ä¾†å·®ç•°ä¸å¤§, 15å±¤æ™‚å°±æœ‰overfitç™¼ç”Ÿ. Week37 (09/15) æ¯æ¬¡æœ‰æ–°çš„ICå‡ºä¾†æš«å­˜å™¨å¤šå°‘æœƒæœ‰äº›æ”¹å‹•, è®“toolé€échip idå»è§£æ±ºç›¸å®¹æ€§å•é¡Œ, åˆ°æœ€å¾Œå¤šå°‘æœƒæœ‰äº›æ­·å²çš„åŒ…è¢±.\nä¹‹å¾Œå†å¤šå‡ºå€‹å‡ é¡†å°±éœ€è¦é‡æ§‹, å¦å‰‡çˆ¾å¾Œè§£æ±ºç›¸å®¹æ€§çš„å•é¡Œæœƒè¶Šä¾†è¶ŠèŠ±æ™‚é–“.\nC -\u0026gt; python -\u0026gt; javascript -\u0026gt; HTML é€™ä¹‹é–“è³‡æ–™çš„è™•ç†æ˜¯å€‹é ­ç—›çš„å•é¡Œ.\né€™é€±å°±åœ¨çœ‹spec, é–‹ç™¼æ–°åŠŸèƒ½åŠç›¸å®¹æ€§ä¸Šæ¸¡éäº†, è™•ç†ç›¸å®¹æ€§çš„æ™‚é–“ä½”äº†10%å·¦å³, å¯å–œå¯è³€.\nWeek38 (09/22) ç¶²è·¯æ–‡ç«  The definitive guide on how to use static, class or abstract methods in Python\nWhat is the unbound method in python2 and python3?? decorators for method: static, abstract, class.\nç¶²è·¯è³‡æº Sketchpad å¯ä»¥åœ¨browserä¸Šç›´æ¥ç•«åœ–çš„å·¥å…·, å¾ˆå¤šç­†åˆ·å¯ä»¥é¸.\nç›®å‰æ˜¯4.1ç‰ˆ, exportå‡ºä¾†çš„Drawing.shetchpad ä¼¼ä¹ä¸èƒ½å†importå›å», é€™æª”unzipå¾Œæ˜¯sketch.jsonçœ‹èµ·ä¾†åƒæ˜¯è¨˜éŒ„åº§æ¨™åŠåŠŸèƒ½, upload sketch.jsonä¹Ÿæ²’æœ‰åæ‡‰. è®€æ›¸å¿ƒå¾— ä¸€èˆ¬åœ¨å­¸ç¿’æ¼”ç®—æ³•æœƒç”¨åˆ°çš„:\nMathematics\nAlgebra: linear equations, invert a matrix, find the rank of a matrix, compute the determinat of a matrix, all of the above can be done with Gaussian elimination. Number Theory: Greatest Common Divisor(GCD), Euclidean Algorithm, Congruence \u0026amp; Modulo Operation, Multiplicative Inverse, Chinese Remainder Theorem Combinatorics: Binomial Coefficients, Fibonacci Sequence, Closed Form Geometry: 2D Vector Operations, Line-Line Intersection, Circumcircle of a Triangle, Area of a Triangle, Area of a Simple Polygon Data Structures\nQueue \u0026amp; Stack Heap \u0026amp; Priority Queue Union-Find Structure (Disjoint-set data structure) Binary Search Tree (BST) Fenwick Tree Lowest Common Ancestor (LCA) Reference: CS 97SI: Introduction to Programming Contests\nWeek35 (09/29) ç¶²è·¯æ–‡ç«  Google signs agreement with HTC, continuing our big bet on hardware\nMotorola redux? Google appears set to buy HTC\nHTCå“¡å·¥å»Googleè–ªæ°´å¤š50è¬ï¼Ÿè˜æ›¸æ´©åº•\nOops\u0026hellip;.Google might buy a dying Android OEM again.\nç¸½ä¹‹çœ‹å¥½å”±è¡°çš„éƒ½æœ‰\u0026hellip;Googleä¹Ÿä¸æ˜¯ç¬¬ä¸€æ¬¡è²·ç¡¬é«”äº†, é€™æ¬¡å‘\u0026quot;ä¸–ç•Œå·¥å» \u0026quot;åˆé‚äº†ä¸€å¤§æ­¥.\nä¹‹å‰Må…¬å¸12.5Bè½‰æ‰‹åƒ¹2.9Bçµ¦Lå…¬å¸.\né€™æ¬¡Hå…¥æ‰‹åƒ¹1.1B, èªªå¥½ä¸æ˜¯\u0026rsquo;acquisition\u0026rsquo;, è²·äººä¸è²·æŠ€è¡“??\nè®€æ›¸å¿ƒå¾— Power Verbs in English\nPower Verbs for Resume Writing\nDROVE, LAUNCHED, JUMP-STARTED, PIONEERED, EXECUTED\nSPEARHEADED, CREATED, INITIATED, ACCELERATED, CONSOLIDATED\nAction Verbs\nPower/Action verbs è¦æœ‰åŸºæœ¬çš„äº†è§£\n","permalink":"https://oopsmonk.github.io/posts/2017-08-29-2017month9/","summary":"\u003cp\u003eJigsaw Puzzle, Hidden layers, New SoC, Algorithm basics, HTC\u003c/p\u003e\n\u003ch1 id=\"week35-0901\"\u003eWeek35 (09/01)\u003c/h1\u003e\n\u003cp\u003e\u003cimg loading=\"lazy\" src=\"/images/2017-Month9/jigsaw_puzzle_520pieces.jpg\"\u003e\u003cbr\u003e\nç¬¬ä¸€æ¬¡å®Œæˆ520ç‰‡çš„æ‹¼åœ–, èŠ±äº†4å€‹æ™šä¸Šçš„æ™‚é–“, å¤§ç´„12å°æ™‚å§?!\u003cbr\u003e\nä¸‹æ¬¡è¨˜å¾—é¡è‰²é®®æ˜çš„åœ–æœƒæ¯”è¼ƒæ„œæ„äº›.\u003c/p\u003e\n\u003ch1 id=\"week36-0908\"\u003eWeek36 (09/08)\u003c/h1\u003e\n\u003ch2 id=\"ç¶²è·¯æ–‡ç« \"\u003eç¶²è·¯æ–‡ç« \u003c/h2\u003e\n\u003cp\u003e\u003ca href=\"https://www.theguardian.com/us-news/2017/sep/07/equifax-credit-breach-hack-social-security\"\u003eCredit firm Equifax says 143m Americans\u0026rsquo; social security numbers exposed in hack\u003c/a\u003e\u003cbr\u003e\nåœ¨æ–°èå…¬é–‹å‰é«˜å±¤å°±å·±è³£æ‰å¸‚å€¼1.8mçš„è‚¡ç¥¨!!\u003c/p\u003e\n\u003ch2 id=\"ç¶²è·¯è³‡æº\"\u003eç¶²è·¯è³‡æº\u003c/h2\u003e\n\u003cp\u003e\u003ca href=\"https://developers.google.com/style/\"\u003eGoogle Developer Documentation Style Guide\u003c/a\u003e\u003cbr\u003e\nGoogleå…¬ä½ˆäº†å…§éƒ¨æ–‡ä»¶æ’°å¯«çš„æ ¼å¼åŠæ³¨æ„äº‹é ….\u003c/p\u003e\n\u003ch3 id=\"neural-networks-and-deep-learning---week-3\"\u003eNeural Networks and Deep Learning - Week 3\u003c/h3\u003e\n\u003cp\u003eTuning hidden layer size\u003cbr\u003e\n\u003cstrong\u003eiterations\u003c/strong\u003e: 5000\u003cbr\u003e\n\u003cstrong\u003elearning_rate\u003c/strong\u003e: 1.2\u003cbr\u003e\n\u003cstrong\u003eactivation\u003c/strong\u003e: sigmoid\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003eAccuracy for 1 hidden units: 67.5 %\nAccuracy for 2 hidden units: 67.25 %\nAccuracy for 3 hidden units: 90.75 %\nAccuracy for 4 hidden units: 90.5 %\nAccuracy for 5 hidden units: 91.25 %\nAccuracy for 20 hidden units: 90.0 %\nAccuracy for 50 hidden units: 90.25 %\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e\u003cimg loading=\"lazy\" src=\"/images/2017-Month9/DL_tuning_hidden_layer.png\"\u003e\u003c/p\u003e","title":"Waterline?"},{"content":"Install caffe framework and run Faster R-CNN demo on Ubuntu 16.04.\nTest environment CPU: Intel(R) Core(TM) i3-4130 CPU @ 3.40GHz 4-Cores\nGPU: ASUSTeK GeForce GTX 1060 with 6GB Memory\nHD: WDC WD5000AAKX\nOS: Ubuntu 16.04\nTest Flow Install software requirement Video pre-processing: get jpeg images from source video Image Labeling Use Faster R-CNN to genrate trained model Run Faster R-CNN demo Requirement Hardware:\nGood graphic card with large memory (6GB memory is okay, but it has problem in VGG traing.)\nSoftware:\nNvidia Driver CUDA 8.0 Python Packages OpenBLAS Caffe and pycaffe Install Software Requirements Update Nvidia Driver\nhttps://launchpad.net/~graphics-drivers/+archive/ubuntu/ppa\nsudo add-apt-repository ppa:graphics-drivers/ppa sudo apt-get update sudo apt-get install nvidia-375 #You can use the latest one. # reboot system Install commands: Install.txt\nTraining data setup Generate image samples from video import cv2 print(cv2.__version__) vidcap = cv2.VideoCapture(\u0026#39;video_file.mp4\u0026#39;) success,image = vidcap.read() count = 0 success = True while success: success,image = vidcap.read() print \u0026#39;Read a new frame: \u0026#39;, success cv2.imwrite(\u0026#34;frame%d.jpg\u0026#34; % count, image) # save frame as JPEG file count += 1 Image label tool https://github.com/tzutalin/labelImg\nTraining dataset setup Put all image files in\npy-faster-rcnn/data/VOCdevkit2007/VOC2007/JPEGImages\nPut all annotation files in\npy-faster-rcnn/data/VOCdevkit2007/VOC2007/Annotations\nGenerate test.txt, train.txt, trainval.txt, val.txt by these rules:\ntrainval.txt: Â½ of the whole dataset\ntest.txt: Â½ of the whole dataset\ntrain.txt: Â½ of the trainval.txt val.txt: Â½ of the trainval.txt\nIn my case:\nAnnotation files: 241 JPEJImage files: 362 test.txt: 116 samples train.txt: 62 samples trainval.txt: 125 samples val.txt: 62 samples py-faster-rcnn/data/VOCdevkit2007/VOC2007/ â”œâ”€â”€ Annotations â”‚ â””â”€â”€ *.xml â”œâ”€â”€ Annotations-back â”œâ”€â”€ ImageSets â”‚ â””â”€â”€ Main â”‚ â”œâ”€â”€ test.txt â”‚ â”œâ”€â”€ train.txt â”‚ â”œâ”€â”€ trainval.txt â”‚ â””â”€â”€ val.txt â””â”€â”€ JPEGImages â””â”€â”€ *.jpg Part of test.txt\nframe1230 frame1240 frame1260 frame1370 frame1380 frame1390 frame1400 frame1410 frame1420 frame1430 ... 116 lines Part of train.txt\nframe1210 frame1250 frame1280 frame1300 frame1320 frame1340 frame1360 frame2040 ... 62 lines Part of trainval.txt\nframe1200 frame1210 frame1220 frame1250 frame1270 frame1280 frame1290 frame1300 frame1310 ... 125 lines Part of val.txt\nframe1200 frame1220 frame1270 frame1290 frame1310 frame1330 frame1350 frame2030 frame2050 ... 63 lines ZF model configure My clases number is 6, including the background class:\nModify num_classes to 6 Modify num_output in the cls_score layer to 6 Modify num_output in the bbox_pred layer to 4 * 6 diff --git a/models/pascal_voc/ZF/faster_rcnn_alt_opt/faster_rcnn_test.pt b/models/pascal_voc/ZF/faster_rcnn_alt_opt/faster_rcnn_test.pt index b24aae4..fc1d677 100644 --- a/models/pascal_voc/ZF/faster_rcnn_alt_opt/faster_rcnn_test.pt +++ b/models/pascal_voc/ZF/faster_rcnn_alt_opt/faster_rcnn_test.pt @@ -303,7 +303,7 @@ layer { bottom: \u0026#34;fc7\u0026#34; top: \u0026#34;cls_score\u0026#34; inner_product_param { - num_output: 21 + num_output: 6 } } layer { @@ -312,7 +312,7 @@ layer { bottom: \u0026#34;fc7\u0026#34; top: \u0026#34;bbox_pred\u0026#34; inner_product_param { - num_output: 84 + num_output: 24 } } layer { diff --git a/models/pascal_voc/ZF/faster_rcnn_alt_opt/stage1_fast_rcnn_train.pt b/models/pascal_voc/ZF/faster_rcnn_alt_opt/stage1_fast_rcnn_train.pt index 3d98184..d7c7f26 100644 --- a/models/pascal_voc/ZF/faster_rcnn_alt_opt/stage1_fast_rcnn_train.pt +++ b/models/pascal_voc/ZF/faster_rcnn_alt_opt/stage1_fast_rcnn_train.pt @@ -11,7 +11,7 @@ layer { python_param { module: \u0026#39;roi_data_layer.layer\u0026#39; layer: \u0026#39;RoIDataLayer\u0026#39; - param_str: \u0026#34;\u0026#39;num_classes\u0026#39;: 21\u0026#34; + param_str: \u0026#34;\u0026#39;num_classes\u0026#39;: 6\u0026#34; } } @@ -244,7 +244,7 @@ layer { param { lr_mult: 1.0 } param { lr_mult: 2.0 } inner_product_param { - num_output: 21 + num_output: 6 weight_filler { type: \u0026#34;gaussian\u0026#34; std: 0.01 @@ -263,7 +263,7 @@ layer { param { lr_mult: 1.0 } param { lr_mult: 2.0 } inner_product_param { - num_output: 84 + num_output: 24 weight_filler { type: \u0026#34;gaussian\u0026#34; std: 0.001 diff --git a/models/pascal_voc/ZF/faster_rcnn_alt_opt/stage1_rpn_train.pt b/models/pascal_voc/ZF/faster_rcnn_alt_opt/stage1_rpn_train.pt index adf8605..c54e40d 100644 --- a/models/pascal_voc/ZF/faster_rcnn_alt_opt/stage1_rpn_train.pt +++ b/models/pascal_voc/ZF/faster_rcnn_alt_opt/stage1_rpn_train.pt @@ -8,7 +8,7 @@ layer { python_param { module: \u0026#39;roi_data_layer.layer\u0026#39; layer: \u0026#39;RoIDataLayer\u0026#39; - param_str: \u0026#34;\u0026#39;num_classes\u0026#39;: 21\u0026#34; + param_str: \u0026#34;\u0026#39;num_classes\u0026#39;: 6\u0026#34; } } diff --git a/models/pascal_voc/ZF/faster_rcnn_alt_opt/stage2_fast_rcnn_train.pt b/models/pascal_voc/ZF/faster_rcnn_alt_opt/stage2_fast_rcnn_train.pt index 262ed65..1a424a2 100644 --- a/models/pascal_voc/ZF/faster_rcnn_alt_opt/stage2_fast_rcnn_train.pt +++ b/models/pascal_voc/ZF/faster_rcnn_alt_opt/stage2_fast_rcnn_train.pt @@ -11,7 +11,7 @@ layer { python_param { module: \u0026#39;roi_data_layer.layer\u0026#39; layer: \u0026#39;RoIDataLayer\u0026#39; - param_str: \u0026#34;\u0026#39;num_classes\u0026#39;: 21\u0026#34; + param_str: \u0026#34;\u0026#39;num_classes\u0026#39;: 6\u0026#34; } } @@ -244,7 +244,7 @@ layer { param { lr_mult: 1.0 } param { lr_mult: 2.0 } inner_product_param { - num_output: 21 + num_output: 6 weight_filler { type: \u0026#34;gaussian\u0026#34; std: 0.01 @@ -263,7 +263,7 @@ layer { param { lr_mult: 1.0 } param { lr_mult: 2.0 } inner_product_param { - num_output: 84 + num_output: 24 weight_filler { type: \u0026#34;gaussian\u0026#34; std: 0.001 diff --git a/models/pascal_voc/ZF/faster_rcnn_alt_opt/stage2_rpn_train.pt b/models/pascal_voc/ZF/faster_rcnn_alt_opt/stage2_rpn_train.pt index 336b05b..bc0db0c 100644 --- a/models/pascal_voc/ZF/faster_rcnn_alt_opt/stage2_rpn_train.pt +++ b/models/pascal_voc/ZF/faster_rcnn_alt_opt/stage2_rpn_train.pt @@ -8,7 +8,7 @@ layer { python_param { module: \u0026#39;roi_data_layer.layer\u0026#39; layer: \u0026#39;RoIDataLayer\u0026#39; - param_str: \u0026#34;\u0026#39;num_classes\u0026#39;: 21\u0026#34; + param_str: \u0026#34;\u0026#39;num_classes\u0026#39;: 6\u0026#34; } } Dataset Script My classes: kuaikuai, lays, soda, biscuit, noodle\ndiff --git a/lib/datasets/imdb.py b/lib/datasets/imdb.py index b56bf0a..93c85a4 100644 --- a/lib/datasets/imdb.py +++ b/lib/datasets/imdb.py @@ -108,6 +108,10 @@ class imdb(object): oldx2 = boxes[:, 2].copy() boxes[:, 0] = widths[i] - oldx2 - 1 boxes[:, 2] = widths[i] - oldx1 - 1 + for b in range(len(boxes)): + if boxes[b][2] \u0026lt; boxes[b][0]: + boxes[b][0] = 0 + assert (boxes[:, 2] \u0026gt;= boxes[:, 0]).all() entry = {\u0026#39;boxes\u0026#39; : boxes, \u0026#39;gt_overlaps\u0026#39; : self.roidb[i][\u0026#39;gt_overlaps\u0026#39;], diff --git a/lib/datasets/pascal_voc.py b/lib/datasets/pascal_voc.py index b55f2f6..7a3473d 100644 --- a/lib/datasets/pascal_voc.py +++ b/lib/datasets/pascal_voc.py @@ -28,11 +28,12 @@ class pascal_voc(imdb): else devkit_path self._data_path = os.path.join(self._devkit_path, \u0026#39;VOC\u0026#39; + self._year) self._classes = (\u0026#39;__background__\u0026#39;, # always index 0 - \u0026#39;aeroplane\u0026#39;, \u0026#39;bicycle\u0026#39;, \u0026#39;bird\u0026#39;, \u0026#39;boat\u0026#39;, - \u0026#39;bottle\u0026#39;, \u0026#39;bus\u0026#39;, \u0026#39;car\u0026#39;, \u0026#39;cat\u0026#39;, \u0026#39;chair\u0026#39;, - \u0026#39;cow\u0026#39;, \u0026#39;diningtable\u0026#39;, \u0026#39;dog\u0026#39;, \u0026#39;horse\u0026#39;, - \u0026#39;motorbike\u0026#39;, \u0026#39;person\u0026#39;, \u0026#39;pottedplant\u0026#39;, - \u0026#39;sheep\u0026#39;, \u0026#39;sofa\u0026#39;, \u0026#39;train\u0026#39;, \u0026#39;tvmonitor\u0026#39;) + \u0026#39;kuaikuai\u0026#39;, \u0026#39;lays\u0026#39;, \u0026#39;soda\u0026#39;, \u0026#39;biscuit\u0026#39;, \u0026#39;noodle\u0026#39;) + # \u0026#39;aeroplane\u0026#39;, \u0026#39;bicycle\u0026#39;, \u0026#39;bird\u0026#39;, \u0026#39;boat\u0026#39;, + # \u0026#39;bottle\u0026#39;, \u0026#39;bus\u0026#39;, \u0026#39;car\u0026#39;, \u0026#39;cat\u0026#39;, \u0026#39;chair\u0026#39;, + # \u0026#39;cow\u0026#39;, \u0026#39;diningtable\u0026#39;, \u0026#39;dog\u0026#39;, \u0026#39;horse\u0026#39;, + # \u0026#39;motorbike\u0026#39;, \u0026#39;person\u0026#39;, \u0026#39;pottedplant\u0026#39;, + # \u0026#39;sheep\u0026#39;, \u0026#39;sofa\u0026#39;, \u0026#39;train\u0026#39;, \u0026#39;tvmonitor\u0026#39;) self._class_to_ind = dict(zip(self.classes, xrange(self.num_classes))) self._image_ext = \u0026#39;.jpg\u0026#39; self._image_index = self._load_image_set_index() update imdb.py and pascal_voc.py\ncd lib/datasets/ rm imdb.pyc pascal_voc.py # start python to compile pyc import py_compile py_compile.compile(r\u0026#39;imdb.py\u0026#39;) py_compile.compile(r\u0026#39;pascal_voc.py\u0026#39;) Speed up training for test only For make sure the training process works properly.\nModify train_faster_rcnn_alt_opt.py\ndiff --git a/tools/train_faster_rcnn_alt_opt.py b/tools/train_faster_rcnn_alt_opt.py index e49844a..1dafe3f 100755 --- a/tools/train_faster_rcnn_alt_opt.py +++ b/tools/train_faster_rcnn_alt_opt.py @@ -77,8 +77,9 @@ def get_solvers(net_name): [net_name, n, \u0026#39;stage2_fast_rcnn_solver30k40k.pt\u0026#39;]] solvers = [os.path.join(cfg.MODELS_DIR, *s) for s in solvers] # Iterations for each training stage - max_iters = [80000, 40000, 80000, 40000] - # max_iters = [100, 100, 100, 100] + # max_iters = [20000, 10000, 20000, 10000] + # max_iters = [80000, 40000, 80000, 40000] + max_iters = [100, 100, 100, 100] # Test prototxt for the RPN rpn_test_prototxt = os.path.join( cfg.MODELS_DIR, net_name, n, \u0026#39;rpn_test.pt\u0026#39;) Modify solvers\ndiff --git a/models/pascal_voc/ZF/faster_rcnn_alt_opt/stage1_fast_rcnn_solver30k40k.pt b/models/pascal_voc/ZF/faster_rcnn_alt_opt/stage1_fast_rcnn_solver30k40k.pt index 0180e7c..40636f0 100644 --- a/models/pascal_voc/ZF/faster_rcnn_alt_opt/stage1_fast_rcnn_solver30k40k.pt +++ b/models/pascal_voc/ZF/faster_rcnn_alt_opt/stage1_fast_rcnn_solver30k40k.pt @@ -3,7 +3,7 @@ train_net: \u0026#34;models/pascal_voc/ZF/faster_rcnn_alt_opt/stage1_fast_rcnn_train.pt\u0026#34; base_lr: 0.001 lr_policy: \u0026#34;step\u0026#34; gamma: 0.1 -stepsize: 30000 +stepsize: 30 display: 20 average_loss: 100 momentum: 0.9 diff --git a/models/pascal_voc/ZF/faster_rcnn_alt_opt/stage1_rpn_solver60k80k.pt b/models/pascal_voc/ZF/faster_rcnn_alt_opt/stage1_rpn_solver60k80k.pt index 23a7c6a..3f116dd 100644 --- a/models/pascal_voc/ZF/faster_rcnn_alt_opt/stage1_rpn_solver60k80k.pt +++ b/models/pascal_voc/ZF/faster_rcnn_alt_opt/stage1_rpn_solver60k80k.pt @@ -3,7 +3,7 @@ train_net: \u0026#34;models/pascal_voc/ZF/faster_rcnn_alt_opt/stage1_rpn_train.pt\u0026#34; base_lr: 0.001 lr_policy: \u0026#34;step\u0026#34; gamma: 0.1 -stepsize: 60000 +stepsize: 50 display: 20 average_loss: 100 momentum: 0.9 diff --git a/models/pascal_voc/ZF/faster_rcnn_alt_opt/stage2_fast_rcnn_solver30k40k.pt b/models/pascal_voc/ZF/faster_rcnn_alt_opt/stage2_fast_rcnn_solver30k40k.pt index a666def..2271d67 100644 --- a/models/pascal_voc/ZF/faster_rcnn_alt_opt/stage2_fast_rcnn_solver30k40k.pt +++ b/models/pascal_voc/ZF/faster_rcnn_alt_opt/stage2_fast_rcnn_solver30k40k.pt @@ -3,7 +3,7 @@ train_net: \u0026#34;models/pascal_voc/ZF/faster_rcnn_alt_opt/stage2_fast_rcnn_train.pt\u0026#34; base_lr: 0.001 lr_policy: \u0026#34;step\u0026#34; gamma: 0.1 -stepsize: 30000 +stepsize: 30 display: 20 average_loss: 100 momentum: 0.9 diff --git a/models/pascal_voc/ZF/faster_rcnn_alt_opt/stage2_rpn_solver60k80k.pt b/models/pascal_voc/ZF/faster_rcnn_alt_opt/stage2_rpn_solver60k80k.pt index 15d3da7..9d57101 100644 --- a/models/pascal_voc/ZF/faster_rcnn_alt_opt/stage2_rpn_solver60k80k.pt +++ b/models/pascal_voc/ZF/faster_rcnn_alt_opt/stage2_rpn_solver60k80k.pt @@ -3,7 +3,7 @@ train_net: \u0026#34;models/pascal_voc/ZF/faster_rcnn_alt_opt/stage2_rpn_train.pt\u0026#34; base_lr: 0.001 lr_policy: \u0026#34;step\u0026#34; gamma: 0.1 -stepsize: 60000 +stepsize: 50 display: 20 average_loss: 100 momentum: 0.9 Outupt When you try to start a new round of training, you need to delete two cache files generated by last time.\nOne is /py-faster-rcnn/data/cache (delete the folder)\nThe other is /py-faster-rcnn/data/VOCdevkit2007/annotation_cache (if it exist, delete the folder)\n# if retain find . -name \u0026#39;*.pyc\u0026#39; | xargs rm # start training ./experiments/scripts/faster_rcnn_alt_opt.sh 0 ZF pascal_voc ... VOC07 metric? Yes Reading annotation for 1/116 Reading annotation for 101/116 Saving cached annotations to /home/dlsummer/RCNN-install/py-faster-rcnn/data/VOCdevkit2007/annotations_cache/annots.pkl AP for kuaikuai = 0.6687 AP for lays = 0.6286 AP for soda = 0.7081 AP for biscuit = 0.9091 AP for noodle = 0.4354 Mean AP = 0.6700 ~~~~~~~~ Results: 0.669 0.629 0.708 0.909 0.435 0.670 ~~~~~~~~ -------------------------------------------------------------- Results computed with the **unofficial** Python eval code. Results should be very close to the official MATLAB eval code. Recompute with `./tools/reval.py --matlab ...` for your paper. -- Thanks, The Management -------------------------------------------------------------- real 344m5.757s user 298m23.512s sys 45m38.792s Demo cp output/faster_rcnn_alt_opt/voc_2007_trainval/*.caffemodel ./data/faster_rcnn_models/ ## or cp output/faster_rcnn_alt_opt/voc_2007_trainval/zf_fast_rcnn_stage2_iter_100.caffemodel data/faster_rcnn_models/MY_ZF_faster_rcnn_final.caffemodel ## putting test images cp data/VOCdevkit2007/VOC2007/JPEGImages/???.jpg data/demo/ ## ex ## cp data/VOCdevkit2007/VOC2007/JPEGImages/G25_000?00.jpg data/demo/ ## run demo ./tools/demo_save_im.py --net zf Troubleshooting SSH: no display issue $ ./tool/demo.py Demo for data/demo/000456.jpg Detection took 0.198s for 300 object proposals Traceback (most recent call last): File \u0026#34;./tools/demo.py\u0026#34;, line 149, in \u0026lt;module\u0026gt; demo(net, im_name) File \u0026#34;./tools/demo.py\u0026#34;, line 98, in demo vis_detections(im, cls, dets, thresh=CONF_THRESH) File \u0026#34;./tools/demo.py\u0026#34;, line 47, in vis_detections fig, ax = plt.subplots(figsize=(12, 12)) File \u0026#34;/usr/local/lib/python2.7/dist-packages/matplotlib/pyplot.py\u0026#34;, line 1202, in subplots fig = figure(**fig_kw) File \u0026#34;/usr/local/lib/python2.7/dist-packages/matplotlib/pyplot.py\u0026#34;, line 535, in figure **kwargs) File \u0026#34;/usr/local/lib/python2.7/dist-packages/matplotlib/backends/backend_tkagg.py\u0026#34;, line 81, in new_figure_manager return new_figure_manager_given_figure(num, figure) File \u0026#34;/usr/local/lib/python2.7/dist-packages/matplotlib/backends/backend_tkagg.py\u0026#34;, line 89, in new_figure_manager_given_figure window = Tk.Tk() File \u0026#34;/usr/lib/python2.7/lib-tk/Tkinter.py\u0026#34;, line 1818, in __init__ self.tk = _tkinter.create(screenName, baseName, className, interactive, wantobjects, useTk, sync, use) _tkinter.TclError: no display name and no $DISPLAY environment variable Install Xming, Teamviewer or use X11 forwarding ssh -X\nhttp://blog.csdn.net/j790675692/article/details/52693761 Modify ./tool/demo.py diff --git a/tools/demo.py b/tools/demo.py index 631c68a..5016da5 100755 --- a/tools/demo.py +++ b/tools/demo.py @@ -13,6 +13,9 @@ Demo script showing detections in sample images. See README.md for installation instructions before running. \u0026#34;\u0026#34;\u0026#34; +import matplotlib +matplotlib.use(\u0026#39;Agg\u0026#39;) + import _init_paths from fast_rcnn.config import cfg from fast_rcnn.test import im_detect @@ -67,7 +72,9 @@ def vis_detections(im, class_name, dets, thresh=0.5): fontsize=14) plt.axis(\u0026#39;off\u0026#39;) plt.tight_layout() - plt.draw() + #plt.draw() + pic_name = class_name + \u0026#39;_\u0026#39; + im_name + plt.savefig(pic_name) def demo(net, image_name): \u0026#34;\u0026#34;\u0026#34;Detect object classes in an image using pre-computed object proposals.\u0026#34;\u0026#34;\u0026#34; AttributeError: \u0026lsquo;module\u0026rsquo; object has no attribute \u0026rsquo;text_format\u0026rsquo; $ ./experiments/scripts/faster_rcnn_alt_opt.sh 0 VGG16 pascal_voc [libprotobuf WARNING google/protobuf/io/coded_stream.cc:78] The total number of bytes read was 553432430 I0804 08:22:22.416573 2399 net.cpp:816] Ignoring source layer pool5 I0804 08:22:22.539361 2399 net.cpp:816] Ignoring source layer relu7 I0804 08:22:22.539386 2399 net.cpp:816] Ignoring source layer drop7 I0804 08:22:22.539389 2399 net.cpp:816] Ignoring source layer fc8 I0804 08:22:22.539392 2399 net.cpp:816] Ignoring source layer prob Process Process-1: Traceback (most recent call last): File \u0026#34;/usr/lib/python2.7/multiprocessing/process.py\u0026#34;, line 258, in _bootstrap self.run() File \u0026#34;/usr/lib/python2.7/multiprocessing/process.py\u0026#34;, line 114, in run self._target(*self._args, **self._kwargs) File \u0026#34;./tools/train_faster_rcnn_alt_opt.py\u0026#34;, line 129, in train_rpn max_iters=max_iters) File \u0026#34;/home/dlsummer/RCNN-install/py-faster-rcnn/tools/../lib/fast_rcnn/train.py\u0026#34;, line 157, in train_net pretrained_model=pretrained_model) File \u0026#34;/home/dlsummer/RCNN-install/py-faster-rcnn/tools/../lib/fast_rcnn/train.py\u0026#34;, line 51, in __init__ pb2.text_format.Merge(f.read(), self.solver_param) AttributeError: \u0026#39;module\u0026#39; object has no attribute \u0026#39;text_format\u0026#39; install protobuf==2.6.0\n$ sudo pip install protobuf==2.6.0 Ref: http://blog.csdn.net/qq_32768743/article/details/74639381\nOut of Memory I0804 08:28:56.610743 2742 net.cpp:270] This network produces output rpn_loss_bbox I0804 08:28:56.610782 2742 net.cpp:283] Network initialization done. I0804 08:28:56.610920 2742 solver.cpp:60] Solver scaffolding done. Loading pretrained model weights from data/imagenet_models/VGG16.v2.caffemodel [libprotobuf WARNING google/protobuf/io/coded_stream.cc:537] Reading dangerously large protocol message. If the message turns out to be larger than 2147483647 bytes, parsing will be halted for security reasons. To increase the limit (or to disable these warnings), see CodedInputStream::SetTotalBytesLimit() in google/protobuf/io/coded_stream.h. [libprotobuf WARNING google/protobuf/io/coded_stream.cc:78] The total number of bytes read was 553432430 I0804 08:28:56.840101 2742 net.cpp:816] Ignoring source layer pool5 I0804 08:28:56.961663 2742 net.cpp:816] Ignoring source layer relu7 I0804 08:28:56.961685 2742 net.cpp:816] Ignoring source layer drop7 I0804 08:28:56.961688 2742 net.cpp:816] Ignoring source layer fc8 I0804 08:28:56.961689 2742 net.cpp:816] Ignoring source layer prob Solving... F0804 08:28:57.365995 2742 syncedmem.cpp:56] Check failed: error == cudaSuccess (2 vs. 0) out of memory *** Check failure stack trace: *** ^C dlsummer@dlsummer-BM1AF-BP1AF-BM6AF:~/RCNN-install/py-faster-rcnn$ free -m total used free shared buff/cache available Mem: 11887 237 10480 17 1168 11350 Swap: 12159 0 12159 The graphic car out of memory Tried to train ZF model. GTX1060 may not have enough memory for VGG16. (I\u0026rsquo;m not sure the GPU is 6G ver. or 3G ver.)\nIn ZF model, you should modify:\nstage1_rpn_train.pt line 11 stage1.fast_rcnn_train.pt line 14, line 247 (In layer \u0026ldquo;cls_score\u0026rdquo;), line 266 (In layer \u0026ldquo;bbox_pred\u0026rdquo;) stage2_rpn_train.pt line 11 stage2.fast_rcnn_train.pt line 14, line 247 (In layer \u0026ldquo;cls_score\u0026rdquo;), line 266 (In layer \u0026ldquo;bbox_pred\u0026rdquo;) faster_rcnn_test.pt line 306 (In layer \u0026ldquo;cls_score\u0026rdquo;), line 315 (In layer \u0026ldquo;bbox_pred\u0026rdquo;) TypeError: \u0026rsquo;numpy.float64\u0026rsquo; object cannot be interpreted as an index Process Process-3: Traceback (most recent call last): File \u0026#34;/usr/lib/python2.7/multiprocessing/process.py\u0026#34;, line 258, in _bootstrap self.run() File \u0026#34;/usr/lib/python2.7/multiprocessing/process.py\u0026#34;, line 114, in run self._target(*self._args, **self._kwargs) File \u0026#34;./tools/train_faster_rcnn_alt_opt.py\u0026#34;, line 196, in train_fast_rcnn max_iters=max_iters) File \u0026#34;/home/dlsummer/RCNN-install/py-faster-rcnn/tools/../lib/fast_rcnn/train.py\u0026#34;, line 160, in train_net model_paths = sw.train_model(max_iters) File \u0026#34;/home/dlsummer/RCNN-install/py-faster-rcnn/tools/../lib/fast_rcnn/train.py\u0026#34;, line 101, in train_model self.solver.step(1) File \u0026#34;/home/dlsummer/RCNN-install/py-faster-rcnn/tools/../lib/roi_data_layer/layer.py\u0026#34;, line 144, in forward blobs = self._get_next_minibatch() File \u0026#34;/home/dlsummer/RCNN-install/py-faster-rcnn/tools/../lib/roi_data_layer/layer.py\u0026#34;, line 63, in _get_next_minibatch return get_minibatch(minibatch_db, self._num_classes) File \u0026#34;/home/dlsummer/RCNN-install/py-faster-rcnn/tools/../lib/roi_data_layer/minibatch.py\u0026#34;, line 55, in get_minibatch num_classes) File \u0026#34;/home/dlsummer/RCNN-install/py-faster-rcnn/tools/../lib/roi_data_layer/minibatch.py\u0026#34;, line 100, in _sample_rois fg_inds, size=fg_rois_per_this_image, replace=False) File \u0026#34;mtrand.pyx\u0026#34;, line 1187, in mtrand.RandomState.choice (numpy/random/mtrand/mtrand.c:18864) TypeError: \u0026#39;numpy.float64\u0026#39; object cannot be interpreted as an index Solution:\nhttps://github.com/rbgirshick/py-faster-rcnn/issues/481\nThere seems to be a similar error caused by line 173 in lib/roi_data_layer/minibatch.py.\ncls = clss[ind]\nThis is then used to slice bbox_targets[], however it is not an int and throws an error after hours of training. Change it to,\ncls = int(clss[ind])\nYou will save yourself a headache.\nvi lib/roi_data_layer/minibatch.py\nline 173: cls = int(clss[ind])\ndiff --git a/lib/roi_data_layer/minibatch.py b/lib/roi_data_layer/minibatch.py index f4535b0..dc15c62 100644 --- a/lib/roi_data_layer/minibatch.py +++ b/lib/roi_data_layer/minibatch.py @@ -93,7 +93,7 @@ def _sample_rois(roidb, fg_rois_per_image, rois_per_image, num_classes): fg_inds = np.where(overlaps \u0026gt;= cfg.TRAIN.FG_THRESH)[0] # Guard against the case when an image has fewer than fg_rois_per_image # foreground RoIs - fg_rois_per_this_image = np.minimum(fg_rois_per_image, fg_inds.size) + fg_rois_per_this_image = int(np.minimum(fg_rois_per_image, fg_inds.size)) # Sample foreground regions without replacement if fg_inds.size \u0026gt; 0: fg_inds = npr.choice( @@ -105,8 +105,8 @@ def _sample_rois(roidb, fg_rois_per_image, rois_per_image, num_classes): # Compute number of background RoIs to take from this image (guarding # against there being fewer than desired) bg_rois_per_this_image = rois_per_image - fg_rois_per_this_image - bg_rois_per_this_image = np.minimum(bg_rois_per_this_image, - bg_inds.size) + bg_rois_per_this_image = int(np.minimum(bg_rois_per_this_image, + bg_inds.size)) # Sample foreground regions without replacement if bg_inds.size \u0026gt; 0: bg_inds = npr.choice( @@ -170,7 +170,7 @@ def _get_bbox_regression_labels(bbox_target_data, num_classes): bbox_inside_weights = np.zeros(bbox_targets.shape, dtype=np.float32) inds = np.where(clss \u0026gt; 0)[0] for ind in inds: - cls = clss[ind] + cls = int(clss[ind]) start = 4 * cls end = start + 4 bbox_targets[ind, start:end] = bbox_target_data[ind, 1:] ImportError: numpy.core.multiarray failed to import Traceback (most recent call last): File \u0026#34;./tools/train_faster_rcnn_alt_opt.py\u0026#34;, line 19, in \u0026lt;module\u0026gt; from datasets.factory import get_imdb File \u0026#34;/home/dlsummer/RCNN-install/py-faster-rcnn/tools/../lib/datasets/factory.py\u0026#34;, line 13, in \u0026lt;module\u0026gt; from datasets.coco import coco File \u0026#34;/home/dlsummer/RCNN-install/py-faster-rcnn/tools/../lib/datasets/coco.py\u0026#34;, line 20, in \u0026lt;module\u0026gt; from pycocotools.coco import COCO File \u0026#34;/home/dlsummer/RCNN-install/py-faster-rcnn/tools/../lib/pycocotools/coco.py\u0026#34;, line 58, in \u0026lt;module\u0026gt; import mask File \u0026#34;/home/dlsummer/RCNN-install/py-faster-rcnn/tools/../lib/pycocotools/mask.py\u0026#34;, line 3, in \u0026lt;module\u0026gt; import pycocotools._mask as _mask File \u0026#34;pycocotools/_mask.pyx\u0026#34;, line 20, in init pycocotools._mask File \u0026#34;__init__.pxd\u0026#34;, line 989, in numpy.import_array ImportError: numpy.core.multiarray failed to import Solution:\nsudo -H pip install --upgrade numpy\nTypeError: only length-1 arrays can be converted to Python scalars Process Process-3: Traceback (most recent call last): File \u0026#34;/usr/lib/python2.7/multiprocessing/process.py\u0026#34;, line 258, in _bootstrap self.run() File \u0026#34;/usr/lib/python2.7/multiprocessing/process.py\u0026#34;, line 114, in run self._target(*self._args, **self._kwargs) File \u0026#34;./tools/train_faster_rcnn_alt_opt.py\u0026#34;, line 196, in train_fast_rcnn max_iters=max_iters) File \u0026#34;/home/dlsummer/RCNN-install/py-faster-rcnn/tools/../lib/fast_rcnn/train.py\u0026#34;, line 160, in train_net model_paths = sw.train_model(max_iters) File \u0026#34;/home/dlsummer/RCNN-install/py-faster-rcnn/tools/../lib/fast_rcnn/train.py\u0026#34;, line 101, in train_model self.solver.step(1) File \u0026#34;/home/dlsummer/RCNN-install/py-faster-rcnn/tools/../lib/roi_data_layer/layer.py\u0026#34;, line 144, in forward blobs = self._get_next_minibatch() File \u0026#34;/home/dlsummer/RCNN-install/py-faster-rcnn/tools/../lib/roi_data_layer/layer.py\u0026#34;, line 63, in _get_next_minibatch return get_minibatch(minibatch_db, self._num_classes) File \u0026#34;/home/dlsummer/RCNN-install/py-faster-rcnn/tools/../lib/roi_data_layer/minibatch.py\u0026#34;, line 55, in get_minibatch num_classes) File \u0026#34;/home/dlsummer/RCNN-install/py-faster-rcnn/tools/../lib/roi_data_layer/minibatch.py\u0026#34;, line 100, in _sample_rois int(fg_inds), size=fg_rois_per_this_image, replace=False) TypeError: only length-1 arrays can be converted to Python scalars Solution\nvi lib/roi_data_layer/minibatch.py\nline 100: size=int(fg_rois_per_this_image)\n","permalink":"https://oopsmonk.github.io/posts/2017-08-31-faster-r-cnn-use-caffe-framework/","summary":"\u003cp\u003eInstall caffe framework and run Faster R-CNN demo on Ubuntu 16.04.\u003c/p\u003e\n\u003ch3 id=\"test-environment\"\u003eTest environment\u003c/h3\u003e\n\u003cp\u003eCPU: Intel(R) Core(TM) i3-4130 CPU @ 3.40GHz 4-Cores\u003cbr\u003e\nGPU: ASUSTeK GeForce GTX 1060 with 6GB Memory\u003cbr\u003e\nHD: WDC WD5000AAKX\u003cbr\u003e\nOS: Ubuntu 16.04\u003c/p\u003e\n\u003cp\u003e\u003cimg loading=\"lazy\" src=\"/images/2017-08-31/GPU_Info.png\"\u003e\u003c/p\u003e\n\u003ch3 id=\"test-flow\"\u003eTest Flow\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eInstall software requirement\u003c/li\u003e\n\u003cli\u003eVideo pre-processing: get jpeg images from source video\u003c/li\u003e\n\u003cli\u003eImage Labeling\u003c/li\u003e\n\u003cli\u003eUse Faster R-CNN to genrate trained model\u003c/li\u003e\n\u003cli\u003eRun Faster R-CNN demo\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"requirement\"\u003eRequirement\u003c/h3\u003e\n\u003cp\u003eHardware:\u003cbr\u003e\nGood graphic card with large memory (6GB memory is okay, but it has problem in VGG traing.)\u003c/p\u003e","title":"Faster R-CNN Use Caffe Framework"},{"content":"ä»¥å‰çƒéšŠåœ¨å›é˜²æ™‚, æ•™ç·´ç¸½æœƒèªª\u0026quot;å¿«è·‘! åˆ¥å›é ­, åˆ°å®šé»å†ä¼‘æ¯\u0026quot;.\né—œæ–¼äººç”Ÿ, å–˜æ¯é»åœ¨å“ªå…’? æˆ‘æƒ³å°±åœ¨æ»´æ°´ç©¿çŸ³ä¹‹é–“!\nDeep Learning \u0026lt;\u0026ndash;\u0026gt; keep learning\nWeek31 (08/04) ç¶²è·¯æ–‡ç«  A Brief History of CNNs in Image Segmentation: From R-CNN to Mask R-CNN\nR-CNN: https://arxiv.org/abs/1311.2524\nVisual Recognitionå°±æ˜¯å¾é€™è£¡çˆ†ç™¼äº†\u0026hellip; é€éSelective Searchæ‰¾åˆ°Regionå¾Œä¸¢çµ¦ä¿®æ”¹éçš„AlexNetå­¸ç¿’, æœ€å¾Œå†çµ¦Support Vector Machine (SVM) é€™å±¤CNN.\nåŸæœ¬è¨­è¨ˆçš„R-CNNå°±åªåšé€™äº›: ç”¨Selective Searchæ‰¾region é€épre-trained AlexNetå»ç®—ç‰¹å¾µå¾Œäº¤çµ¦SVMçœ‹regionè£¡çš„æ˜¯ä»€éº¼é¬¼æ±è¥¿ æœ€å¾Œé€éç·šæ€§å›æ­¸(linear regression)ç•«å‡ºç‰©ä»¶çš„åº§æ¨™ Fast R-CNN: https://arxiv.org/abs/1504.08083\nRegion proposals using Selective Search. RoI (Region of Interest) Pooling\nCombine All Models into One Network\nå°‡R-CNNçš„AlexNet, SVM, Regressoræ•´åˆåœ¨ä¸€èµ·è®Šæˆå–®ä¸€å€‹network Fast R-CNN instead used a single network to compute the extract image features (CNN), classify (SVM), and tighten bounding boxes (regressor).\nFaster R-CNN: https://arxiv.org/abs/1506.01497\nç”¨SSæ‰¾regionçš„æ–¹æ³•å¤ªæ…¢, åˆé‡è¦†è¨ˆç®—, æ”¹ç”±RPNå¾Œ, æ•´å€‹frameworkåªè¦è¨“ç·´ä¸€å€‹CNN.\nSpeeding Up Region Proposal: Selective Search is too slow.\nA single CNN is used to both carry out region proposals and classification.\nonly one CNN needs to be trained\nRegion Proposal Network(RPN) - How the Regions are Generated\nMask R-CNN: https://arxiv.org/abs/1703.06870\nExtending Faster R-CNN for Pixel Level Segmentation\nFacebookçš„reseachersç™¼ç¾RoIPoolåœ¨é¸æ“‡regionæ™‚æœƒæœ‰èª¤å·®, æ‰€ä»¥åˆ©ç”¨RoiAlignä¾†è™•ç†é€™å€‹å•é¡Œ.\nRoiAlign - Realigning RoIPool to be More Accurate\nç¶²è·¯è³‡æº CS231n Convolutional Neural Networks for Visual Recognition\nStanfordçš„èª²ç¨‹ - CS231n: CNNs for Visual Recognition.\n6 Free to Low-Cost Resources to Teach You Calculus in a Fun and Interactive Way\nå°å¾®ç©åˆ†æœ‰èˆˆè¶£å¯åƒè€ƒä¸€ä¸‹\nè®€æ›¸å¿ƒå¾— Deep learning è¿‘ä¾†çš„ç™¼å±•ä¸»è¦æ˜¯åœ¨convolutional neural networks(CNN)\nR-CNN(2014) -\u0026gt; Fast R-CNN(2015) -\u0026gt; Faster R-CNN(2016) -\u0026gt; Mask R-CNN(2017)\nè‡ª2010å¹´é–‹å§‹Image Netæ¯å¹´éƒ½æœ‰ç™¼è¡¨ILSVRC(Large Scale Visual Recognition Challenge)çµæœ\nåœ¨2015å¹´æ™‚top-5 error rateç‚º4.84%, äººçœ¼è¾¨è­˜å¤§ç´„ç‚º5%, é€ æˆäº†æ¥µå¤§çš„å½±éŸ¿.\nç¾åœ¨ILSVRC2017çµæœä¹Ÿå…¬æ€–äº†, åŸºæœ¬ä¸Š2015å¾Œtop-5 errorå·±ç¶“ä¸æ˜¯é‡é»äº†å§.\nNeural Network training ç°¡å–®çš„èªªå°±æ˜¯ç®—æ¬Šé‡, åƒåœ¨åšfilter (low/high pass filter)\næ¯å€‹hidden layer è™•ç†çš„æ±è¥¿ä¸åŒ, ex: é», ç·š, é¢, ç©ºé–“.\nå¾Œä¾†Google brain çš„reseachersåœ¨2014æå‡ºäº†GAN(Generative Adversarial Network), åŸºæœ¬æ¶æ§‹æ˜¯2å€‹neural networkç›¸äº’è¼ƒå‹ä¾†å­¸ç¿’.\nGANä¸»è¦å¯ç”¨åœ¨:\né€ å‡åœ–, ä¹Ÿå°±æ˜¯é€éå­¸ç¿’æŠŠåŸåœ–åšæˆä¸åŒé¢¨æ ¼çš„åœ–ç‰‡. é›»è…¦å°æˆ° å‹•ç•«æˆ–gamingæè³ªçš„è™•ç†, ç”¨ä¾†ç”Ÿå‡ºä¸åŒæè³ªçš„è²¼åœ– Deap Learningç™¼å±•æ–¹å‘:\nçœ‹åœ–èªªæ•…äº‹ è»Œè·¡é æ¸¬ ç›®å‰CNNçš„æ‡‰ç”¨ä¸Šå¤§å¤šä½¿ç”¨VGG-16 pre-trained model, å†è‡ªè¡Œåšfully connecteçš„è¨“ç·´, åªéœ€è¦å°‘é‡çš„åœ–æª”(300 or 600å¼µ)å³å¯é”åˆ°éœ€æ±‚.\nç°¡å–®çš„èªªå°±æ˜¯æ‹¿è¨“ç·´å¥½çš„network, èª¿æ•´æ¬Šé‡(weights), å†ç¶“éå°é‡çš„è¨“ç·´å³å¯. R-CNN åŠ Fast R-CNNç”¨selective searchæ‰¾regionè£¡æœ‰æ²’æœ‰æ±è¥¿, æ˜¯æ¯”è¼ƒæ²’æœ‰æ•ˆç‡çš„æ–¹æ³•, inputæ˜¯ä½¿ç”¨224x224å¤§å°çš„åœ–, æ‰€ä»¥ğ ©¤åœ–éœ€è¦scale downç‰¹å¾´å€¼å¯èƒ½æœƒå¤±çœŸ.\nå¾Œä¾†çš„Faster R-CNNå¯ä»¥çœ‹æˆæ˜¯RPNs(Region Proposal Networks) + Fast R-CNN, å¯ä»¥é¿å…ç‰¹å¾´å€¼å¤±çœŸ, ä¸ç”¨ç¸®åœ–.\nRegion Proposal Network\nFaster R-CNN Training\nArtificial Inteligence - Object Localization and Detection\nPS:\nTop-5 error rate: å°ä¸€å€‹labelçŒœ5æ¬¡, çŒœä¸­çš„æ©Ÿç‡.\nNvidia GTX 1080 Ti GPUä½¿ç”¨Faster R-CNN, 1ç§’å¤§ç´„å¯ä»¥è™•ç†3å¼µåœ–.\nWeek32 (08/11) Week33 (08/18) ç¶²è·¯æ–‡ç«  Meet the Company Thatâ€™s Using Face Recognition to Reshape Chinaâ€™s Tech Scene å¤§é™¸æ”¿åºœçš„åŠ æŒå°æ–¼æ–°ç§‘æŠ€ç™¼å±•é€Ÿåº¦çœŸæ˜¯ä¸€å¤§åŠ©åŠ›.\nWeek34 (08/25) ç¶²è·¯æ–‡ç«  Introduction to Trainspotting\nRaspberry Pi + TensorFlow åµæ¸¬ç«è»Šè¡Œé€²æ–¹å‘\nç¶²è·¯è³‡æº Mathcha\nè¼ƒç›´è¦ºçš„æ–¹å¼å¯«æ•¸å­¸å…¬å¼, æ¯”èµ·MathJaxæ–¹ä¾¿.\n","permalink":"https://oopsmonk.github.io/posts/2017-08-02-2017month8/","summary":"\u003cp\u003eä»¥å‰çƒéšŠåœ¨å›é˜²æ™‚, æ•™ç·´ç¸½æœƒèªª\u0026quot;å¿«è·‘! åˆ¥å›é ­, åˆ°å®šé»å†ä¼‘æ¯\u0026quot;.\u003cbr\u003e\né—œæ–¼äººç”Ÿ, å–˜æ¯é»åœ¨å“ªå…’? æˆ‘æƒ³å°±åœ¨æ»´æ°´ç©¿çŸ³ä¹‹é–“!\u003c/p\u003e\n\u003cp\u003eDeep Learning \u0026lt;\u0026ndash;\u0026gt; keep learning\u003c/p\u003e\n\u003ch1 id=\"week31-0804\"\u003eWeek31 (08/04)\u003c/h1\u003e\n\u003ch2 id=\"ç¶²è·¯æ–‡ç« \"\u003eç¶²è·¯æ–‡ç« \u003c/h2\u003e\n\u003cp\u003e\u003cstrong\u003e\u003ca href=\"https://blog.athelas.com/a-brief-history-of-cnns-in-image-segmentation-from-r-cnn-to-mask-r-cnn-34ea83205de4\"\u003eA Brief History of CNNs in Image Segmentation: From R-CNN to Mask R-CNN\u003c/a\u003e\u003c/strong\u003e\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eR-CNN: \u003ca href=\"https://arxiv.org/abs/1311.2524\"\u003ehttps://arxiv.org/abs/1311.2524\u003c/a\u003e\u003cbr\u003e\n\u003cimg loading=\"lazy\" src=\"/images/2017-Month8/R-CNN_ObjectDetection.png\"\u003e\u003cbr\u003e\nVisual Recognitionå°±æ˜¯å¾é€™è£¡çˆ†ç™¼äº†\u0026hellip;\né€éSelective Searchæ‰¾åˆ°Regionå¾Œä¸¢çµ¦ä¿®æ”¹éçš„AlexNetå­¸ç¿’, æœ€å¾Œå†çµ¦Support Vector Machine (SVM) é€™å±¤CNN.\u003cbr\u003e\nåŸæœ¬è¨­è¨ˆçš„R-CNNå°±åªåšé€™äº›:\u003c/li\u003e\n\u003c/ol\u003e\n\u003cul\u003e\n\u003cli\u003eç”¨Selective Searchæ‰¾region\u003c/li\u003e\n\u003cli\u003eé€épre-trained AlexNetå»ç®—ç‰¹å¾µå¾Œäº¤çµ¦SVMçœ‹regionè£¡çš„æ˜¯ä»€éº¼é¬¼æ±è¥¿\u003c/li\u003e\n\u003cli\u003eæœ€å¾Œé€éç·šæ€§å›æ­¸(linear regression)ç•«å‡ºç‰©ä»¶çš„åº§æ¨™\u003c/li\u003e\n\u003c/ul\u003e\n\u003col start=\"2\"\u003e\n\u003cli\u003eFast R-CNN: \u003ca href=\"https://arxiv.org/abs/1504.08083\"\u003ehttps://arxiv.org/abs/1504.08083\u003c/a\u003e\u003cbr\u003e\nRegion proposals using Selective Search.\u003c/li\u003e\n\u003c/ol\u003e\n\u003cul\u003e\n\u003cli\u003eRoI (Region of Interest) Pooling\u003cbr\u003e\n\u003cimg loading=\"lazy\" src=\"/images/2017-Month8/RoI_pooling_animated.gif\"\u003e\u003c/li\u003e\n\u003cli\u003eCombine All Models into One Network\u003cbr\u003e\nå°‡R-CNNçš„AlexNet, SVM, Regressoræ•´åˆåœ¨ä¸€èµ·è®Šæˆå–®ä¸€å€‹network\nFast R-CNN instead used a single network to compute the extract image features (CNN), classify (SVM), and tighten bounding boxes (regressor).\u003cbr\u003e\n\u003cimg loading=\"lazy\" src=\"/images/2017-Month8/FastR-CNN-Framework.png\"\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003col start=\"3\"\u003e\n\u003cli\u003e\n\u003cp\u003eFaster R-CNN: \u003ca href=\"https://arxiv.org/abs/1506.01497\"\u003ehttps://arxiv.org/abs/1506.01497\u003c/a\u003e\u003cbr\u003e\nç”¨SSæ‰¾regionçš„æ–¹æ³•å¤ªæ…¢, åˆé‡è¦†è¨ˆç®—, æ”¹ç”±RPNå¾Œ, æ•´å€‹frameworkåªè¦è¨“ç·´ä¸€å€‹CNN.\u003cbr\u003e\nSpeeding Up Region Proposal: Selective Search is too slow.\u003cbr\u003e\n\u003cimg loading=\"lazy\" src=\"/images/2017-Month8/FasterRCNNTrain.png\"\u003e\u003cbr\u003e\nA single CNN is used to both carry out region proposals and classification.\u003cbr\u003e\n\u003cstrong\u003eonly one CNN needs to be trained\u003c/strong\u003e\u003cbr\u003e\nRegion Proposal Network(\u003cstrong\u003eRPN\u003c/strong\u003e) - How the Regions are Generated\u003cbr\u003e\n\u003cimg loading=\"lazy\" src=\"/images/2017-Month8/RPN_Network.png\"\u003e\u003c/p\u003e","title":"Going Deep"},{"content":"ä»¥å‰çƒéšŠåœ¨å›é˜²æ™‚, æ•™ç·´ç¸½æœƒèªª\u0026quot;å¿«è·‘! åˆ¥å›é ­, åˆ°å®šé»å†ä¼‘æ¯\u0026quot;.\né—œæ–¼äººç”Ÿ, å–˜æ¯é»åœ¨å“ªå…’? æˆ‘æƒ³å°±åœ¨æ»´æ°´ç©¿çŸ³ä¹‹é–“!\nWeek27 (07/07) ç¶²è·¯æ–‡ç«  Elon Musk: The world\u0026rsquo;s population is accelerating toward collapse and nobody cares\nç¶²è·¯è³‡æº Barbara Oakley: \u0026ldquo;Learning How to Learn\u0026rdquo; | Talks at Google\nWeek28 (07/14) ç¶²è·¯è³‡æº Numpy Quick Start\nMathJax basic tutorial and quick reference\nMathJaxèªæ³•é€ŸæŸ¥åŠç¯„ä¾‹\nWeek29 (07/21) ç¶²è·¯æ–‡ç«  Path Guide: A New Approach to Indoor Navigation\nè®€æ›¸å¿ƒå¾— The Numpy Stack in Python\nç”¨ç°¡çŸ­çš„æ–¹å¼ä»‹ç´¹numpy, pandas, matplotlib, scipy.\nnumpy: åœ¨matrix, vectorè™•ç†æœƒæ¯”ptython built-iné‚„å¿«å¾ˆå¤šä¸”æ–¹ä¾¿. ä¸»è¦çš„object typeæ˜¯numpy.array, å¯ä»¥è·Ÿlist objectäº’ç›¸è½‰æ›. pandas: å¼·å¤§çš„DataFramesåœ¨è™•ç†csv filesæ™‚å¯è¼•é¬†å–å‡ºåŠè™•ç†æƒ³è¦çš„å…§å®¹. pandas.DataFrameèˆ‡pandas.Seriesæ˜¯å¾ˆé‡è¦çš„object. matplotlib: æŠŠè³‡æ–™åœ–å½¢åŒ– scipy: ä»‹ç´¹äº†å¸¸æ…‹åˆ†ä½ˆ(normal distribution)åˆç¨±é«˜æ–¯åˆ†ä½ˆ(Gaussian distribution). Week30 (07/28) ç¶²è·¯æ–‡ç«  A Neural Network in 11 lines of Python\nè©³ç´°çš„èªªæ˜ANNçš„å¯¦ç¾æ–¹æ³•, ä½†æ²’æåˆ°bias??\nRole of Bias in Neural Networks\nI think that biases are almost always helpful. In effect, a bias value allows you to shift the activation function to the left or right, which may be critical for successful learning.\nA Step by Step Backpropagation Example\nAndroid Programming 3D Graphics with OpenGL ES\nå¾ˆå®Œæ•´çš„Android OpenGL ESæ•™å­¸, å¦‚ä½•init, å¦‚ä½•è²¼åœ–\u0026hellip;\nç¶²è·¯è³‡æº Interactive LaTeX Editor\næœ‰å¾ˆå¤šæ•¸å­¸å¼å­çš„å¯«æ³•å¯ä»¥åƒè€ƒ\n","permalink":"https://oopsmonk.github.io/posts/2017-07-03-2017month7/","summary":"\u003cp\u003eä»¥å‰çƒéšŠåœ¨å›é˜²æ™‚, æ•™ç·´ç¸½æœƒèªª\u0026quot;å¿«è·‘! åˆ¥å›é ­, åˆ°å®šé»å†ä¼‘æ¯\u0026quot;.\u003cbr\u003e\né—œæ–¼äººç”Ÿ, å–˜æ¯é»åœ¨å“ªå…’? æˆ‘æƒ³å°±åœ¨æ»´æ°´ç©¿çŸ³ä¹‹é–“!\u003c/p\u003e\n\u003ch1 id=\"week27-0707\"\u003eWeek27 (07/07)\u003c/h1\u003e\n\u003ch2 id=\"ç¶²è·¯æ–‡ç« \"\u003eç¶²è·¯æ–‡ç« \u003c/h2\u003e\n\u003cp\u003e\u003cstrong\u003e\u003ca href=\"http://www.cnbc.com/2017/07/06/elon-musk-the-worlds-population-is-accelerating-toward-collapse-and-nobody-cares.html\"\u003eElon Musk: The world\u0026rsquo;s population is accelerating toward collapse and nobody cares\u003c/a\u003e\u003c/strong\u003e\u003c/p\u003e\n\u003ch2 id=\"ç¶²è·¯è³‡æº\"\u003eç¶²è·¯è³‡æº\u003c/h2\u003e\n\u003cp\u003e\u003cstrong\u003e\u003ca href=\"https://www.youtube.com/watch?v=vd2dtkMINIw\"\u003eBarbara Oakley: \u0026ldquo;Learning How to Learn\u0026rdquo; | Talks at Google\u003c/a\u003e\u003c/strong\u003e\u003c/p\u003e\n\u003ciframe width=\"320\" height=\"240\" src=\"https://www.youtube.com/embed/vd2dtkMINIw\" frameborder=\"0\" allowfullscreen\u003e\u003c/iframe\u003e  \n\u003ch1 id=\"week28-0714\"\u003eWeek28 (07/14)\u003c/h1\u003e\n\u003ch2 id=\"ç¶²è·¯è³‡æº-1\"\u003eç¶²è·¯è³‡æº\u003c/h2\u003e\n\u003cp\u003e\u003cstrong\u003e\u003ca href=\"https://docs.scipy.org/doc/numpy-1.13.0/user/quickstart.html\"\u003eNumpy Quick Start\u003c/a\u003e\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003e\u003ca href=\"https://math.meta.stackexchange.com/questions/5020/mathjax-basic-tutorial-and-quick-reference\"\u003eMathJax basic tutorial and quick reference\u003c/a\u003e\u003c/strong\u003e\u003cbr\u003e\nMathJaxèªæ³•é€ŸæŸ¥åŠç¯„ä¾‹\u003c/p\u003e\n\u003ch1 id=\"week29-0721\"\u003eWeek29 (07/21)\u003c/h1\u003e\n\u003ch2 id=\"ç¶²è·¯æ–‡ç« -1\"\u003eç¶²è·¯æ–‡ç« \u003c/h2\u003e\n\u003cp\u003e\u003cstrong\u003e\u003ca href=\"https://www.microsoft.com/en-us/research/blog/path-guide-new-approach-indoor-navigation/\"\u003ePath Guide: A New Approach to Indoor Navigation\u003c/a\u003e\u003c/strong\u003e\u003c/p\u003e\n\u003ch2 id=\"è®€æ›¸å¿ƒå¾—\"\u003eè®€æ›¸å¿ƒå¾—\u003c/h2\u003e\n\u003cp\u003e\u003cstrong\u003e\u003ca href=\"https://www.udemy.com/deep-learning-prerequisites-the-numpy-stack-in-python/\"\u003eThe Numpy Stack in Python\u003c/a\u003e\u003c/strong\u003e\u003cbr\u003e\nç”¨ç°¡çŸ­çš„æ–¹å¼ä»‹ç´¹numpy, pandas, matplotlib, scipy.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"http://www.numpy.org/\"\u003enumpy\u003c/a\u003e: åœ¨matrix, vectorè™•ç†æœƒæ¯”ptython built-iné‚„å¿«å¾ˆå¤šä¸”æ–¹ä¾¿. ä¸»è¦çš„object typeæ˜¯numpy.array, å¯ä»¥è·Ÿlist objectäº’ç›¸è½‰æ›.\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"http://pandas.pydata.org/\"\u003epandas\u003c/a\u003e: å¼·å¤§çš„DataFramesåœ¨è™•ç†csv filesæ™‚å¯è¼•é¬†å–å‡ºåŠè™•ç†æƒ³è¦çš„å…§å®¹. pandas.DataFrameèˆ‡pandas.Seriesæ˜¯å¾ˆé‡è¦çš„object.\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://matplotlib.org/\"\u003ematplotlib\u003c/a\u003e: æŠŠè³‡æ–™åœ–å½¢åŒ–\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://www.scipy.org/\"\u003escipy\u003c/a\u003e: ä»‹ç´¹äº†å¸¸æ…‹åˆ†ä½ˆ(normal distribution)åˆç¨±é«˜æ–¯åˆ†ä½ˆ(Gaussian distribution).\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch1 id=\"week30-0728\"\u003eWeek30 (07/28)\u003c/h1\u003e\n\u003ch2 id=\"ç¶²è·¯æ–‡ç« -2\"\u003eç¶²è·¯æ–‡ç« \u003c/h2\u003e\n\u003cp\u003e\u003cstrong\u003e\u003ca href=\"https://iamtrask.github.io/2015/07/12/basic-python-network/\"\u003eA Neural Network in 11 lines of Python\u003c/a\u003e\u003c/strong\u003e\u003cbr\u003e\nè©³ç´°çš„èªªæ˜ANNçš„å¯¦ç¾æ–¹æ³•, ä½†æ²’æåˆ°bias??\u003c/p\u003e","title":"Math"},{"content":"ä»¥å‰çƒéšŠåœ¨å›é˜²æ™‚, æ•™ç·´ç¸½æœƒèªª\u0026quot;å¿«è·‘! åˆ¥å›é ­, åˆ°å®šé»å†ä¼‘æ¯\u0026quot;.\né—œæ–¼äººç”Ÿ, å–˜æ¯é»åœ¨å“ªå…’? æˆ‘æƒ³å°±åœ¨æ»´æ°´ç©¿çŸ³ä¹‹é–“!\nWeek22 (06/02) è®€æ›¸å¿ƒå¾— OSDI: Memory Management\nKernel spaceçš„memory management, è¦è€ƒæ…®åˆ°çš„å•é¡Œ, Internal/External fregmentation, physical/logical contiguous, buddy system, slab allocator.\nUser spaceçš„memoryç®¡ç†, page fault handler, Red-Black Tree / AVL Tree.\nè«–æ–‡å­¸ç¿’ FarmBeats: An IoT Platform for Data-Driven Agriculture PDF ,Slides\nFarmBeatsé€™å¥—ç³»çµ±æå‡ºäº†å‡ å€‹è§£æ±ºæ–¹æ³•:\né è·å‚³è¼¸, ä»¥å¾€çš„è§£æ³•æ˜¯ç”¨satelliteæˆ–æ˜¯æ‰‹æ©Ÿè¨Šè™Ÿ, é€™è£¡æ˜¯ä½¿ç”¨TVWS(TV White Space)ä»¥æ¸›å°‘ç¡¬é«”æˆæœ¬, TVWSæ˜¯åˆ©ç”¨æ•¸ä½é›»è¦–æœªä½¿ç”¨çš„é »å¯¬åšå‚³è¼¸, å±¬æ–¼ä½é »æœ‰å‚³è¼¸è·é›¢é•·, ç©¿é€åŠ›å¼·çš„å„ªé». å¤©æ°£æ„ŸçŸ¥ç³»çµ±, é€éOpenWeather APIçš„è³‡æ–™ä¾†è¦åŠƒé›»é‡çš„ä½¿ç”¨åŠé›»æ± çš„å……é›»èˆ‡å¦. é¢¨åŠ›è¼”åŠ©ç³»çµ±, æ”¶é›†è¾²åœ°çš„é¢¨å‘åŠé¢¨åŠ›æ•¸æ“š, é€éé£›è¡Œæ¼”ç®—æ³•(Flight Planning Algorithm)è¦åŠƒå‡ºé©ç•¶çš„è·¯ç·š, æ¸›å°‘é€†é¢¨é€ æˆçš„é¡å¤–è€—é›»é‡. æœ¬åœ°å½±åƒåŠè³‡æ–™å£“ç¸®, ä¸€èˆ¬Droneçš„èˆªç©ºå½±åƒ(Aerial Imagery)æˆ–sensorsè³‡æ–™éƒ½æ˜¯ç›´æ¥å‚³åˆ°é›²ç«¯, é€éFarmbeatsçš„gatewayåšä¸­ç¹¼ç«™ä¸¦å£“ç¸®å½±åƒåŠsensorsè³‡æ–™, å¯æ”¯æ´1æ˜ŸæœŸçš„åœ¨ç¶²è·¯ç„¡æ³•ä½¿ç”¨æƒ…æ³. Week23 (06/09) ç¶²è·¯æ–‡ç«  When should we use mutex and when should we use semaphore\nè®€æ›¸å¿ƒå¾— OSDI: Kernel Synchronization\nRace condition and synchronization issues.\nSeamphores/mutexes æ˜¯ç”¨spink locksç¾å¯¦, spink locksæ˜¯ç”±Atomic oprationsä¾†çš„.\nSpin locké€Ÿåº¦: spin_lock \u0026lt; spin_lock_irq \u0026lt; spin_lock_iqrsave\nSemaphores: æ˜¯sleeping locks, æ²’æœ‰disable kernel preemption, æŠŠè‡ªå·±è¨­ç‚ºidleè®“çš„taskå…ˆåš, ç”¨åœ¨éœ€è¦ç­‰æ¯”è¼ƒä¹…çš„æ™‚é–“, åœ¨acquire spin lockå¾Œä¸èƒ½å†acquire semaphoreï¼Œä½†hold a semaphoreå¯ä»¥å†acquire a spin lock.\nMutex: è·Ÿsemaphoreé¡ä¼¼ä½†åªcount one, semaphoreæœƒç­‰æ‰€æœ‰çš„lockséƒ½releaseæ™‚æ‰æœƒé›¢é–‹sleep, Mutexæ˜¯è¼ƒç°¡å–®ä¸”æ•ˆèƒ½è¼ƒå¥½çš„lockæ©Ÿåˆ¶, åªæƒ³çŸ¥é“æœ‰æ²’æœ‰äººacquire.\nè«–æ–‡å­¸ç¿’ [An Evolutionary Study of Linux Memory Management for Fun and Profit]({{ site.baseurl }}{% post_url 2017-06-13-linux-memory-management %})\né€™ä»½ç ”ç©¶åˆ†æ2009~2015å¹´ä¹‹é–“4587ç­†æœ‰é—œmemory management(mm)çš„patches, Linuxç‰ˆæœ¬ç”±v2.6.32.1 ~ v4.0-rc4.\nä¸»è¦çš„bug fixåœ¨: Memory Allocation, Garbage Collection (GC), Virtual Memory Management.\nå¤§éƒ¨ä»½memory leakä¸¦ä¸æ˜¯å› ç‚ºå¿˜äº†free, è€Œæ˜¯éŒ¯èª¤çš„page fault handlingå’Œ free pageçš„è¨ˆç®—.\nMMè¼ƒå¤§çš„å•é¡Œæ˜¯å¾ˆé›£å»trackæ­£ç¢ºçš„ç‹€æ…‹.\nå¸¸ç”¨çš„data structures: Radix tree, Red-black tree, bitmap, list.\nOptimization patchesä¸»è¦æœ‰3ç¨®: data structure, memory policy, fast path.\nVirtual Memory Managementæ˜¯MMè£¡æœ€å¤§çš„component, å› ç‚ºæ–°çš„ç¡¬é«”åŠè¼ƒå¤§çš„å®¹é‡, è€Œå­˜åœ¨è¨±å¤šå•é¡Œ.\nMemory Resource Controlleræœ€å¤§çš„å•é¡Œæ˜¯concurrencyçš„è™•ç†.\nMemory Allocationä¸»è¦å•é¡Œåœ¨æ–¼checking/lock.\nGarbage Collection é€épolicy designæ±ºå®šperformanceçš„trade-off, éœ€è¦ä¸€å€‹scalable and coordinatedçš„GC.\nWeek24 (06/16) ç¶²è·¯æ–‡ç«  Power Causes Brain Damage\nIntel Issues End-of-Life Notices for Galileo / Galileo 2, Edison and Joule Boards \u0026amp; Modules\nIntelçš„IoTé–‹ç™¼å¹³å°è² è©•ä¸å°‘ä¸«.\nç¶²è·¯è³‡æº A Candy Dispenser\nä½¿ç”¨Android Things + Cloud Vision API. Demo\nè®€æ›¸å¿ƒå¾— OSDI: Interrupt and Interrupt Handling\nLinux é©…å‹•çš„å¯¦ç¾åˆ†ç‚º3å€‹éƒ¨ä»½: è¨»å†Š(init_module), file operations(API), interrupt handler.\nLinuxé©…å‹•åˆ†ç‚º3ç¨®é¡å‹: block device, character device, network device.\nä»¥åŠ2ç¨®è£ç½®é¡åˆ¥: vritual device driver, physical device driver.\nInterrupt handlingæœƒæ‹†åˆ†ç‚º2å€‹éƒ¨ä»½(top/bottom)è™•ç†, æ¸›å°‘interrupt disableæ™‚é–“, è®“ç³»çµ±åæ‡‰æ›´å³æ™‚. Top Half: åŸ·è¡Œæ™‚é–“è¦çŸ­, ä¸­æ–·æ˜¯disableçš„ç‹€æ…‹\nBottom Half: çœŸæ­£åœ¨è™•ç†ä¸­æ–·è³‡æ–™çš„åœ°æ–¹, é€™æ™‚å¯ä»¥å…è¨±è¢«ä¸­æ–·\nTop and Bottom Halves\nLinux kernelè¨­è¨ˆäº†3ç¨®ä¸åŒçš„bottom halves: softirq, tasklet, workqueue\nSoftirqç”¨åœ¨ç¡¬ç¢Ÿ, ç¶²è·¯å¡, Timer åŒå€‹softirqåœ¨å¤šæ ¸çš„CPUä¸Šæ˜¯å¯ä»¥åŒæ™‚é€²è¡Œçš„, æ‰€ä»¥concurrencyè¦åšå¥½. taskletæ˜¯å»ºåœ¨softirqä¹‹ä¸Š, ä½†åŒä¸€å€‹taskletç„¡æ³•åœ¨å¤šæ ¸CPUåŒæ™‚é€²è¡Œ. ksoftirqdæ˜¯softirq daemon. top halfæŠŠsoftirq(bottom half)å«èµ·ä¾†çš„, ä½†æœ‰äº›softirqæ˜¯è‡ªå·±æŠŠè‡ªå·±å«èµ·ä¾†ï¼ˆex:ç¶²è·¯å¡). Work queuesæ˜¯æ¨™æº–çš„thread, å¯ä»¥sleep Week25 (06/23) ç¶²è·¯æ–‡ç«  Linux Performance\nä»‹ç´¹äº†ä¸€äº›åˆ†æå·¥å…·, ä¹ŸåŒ…æ‹¬äº†\nBCC - Tools for BPF-based Linux IO analysis, networking, monitoring, and more\nperf-tools - Performance analysis tools\nç¶²è·¯è³‡æº Stressful Application Test - userspace memory and IO test\nå£“åŠ›æ¸¬è©¦å·¥å…·\ncatapult\nCatapultæ˜¯é›†åˆäº†Trace-viewer, Telemetry, Performance Dashboard, and Systraceçš„ä¸€å€‹å°ˆæ¡ˆ, åŸæœ¬æ˜¯ç”¨åœ¨Chromium performance analysis, ä½†ä¹Ÿå¯ä½¿ç”¨åœ¨Android/Linux.\nè®€æ›¸å¿ƒå¾— OSDI: Filesystem and Block I/O\nå¾ç¡¬ç¢Ÿè®€å–è³‡æ–™æœƒæœ‰2æ¬¡çš„memroy copy: HDD DMA -\u0026gt; kernel space buffer -\u0026gt; user space buffer.\nFile I/Oå¤§ç•¥å¯åˆ†ç‚º2å±¤\nfile system driver: ext4, fat32, NTFS\u0026hellip; device driver: Hard Disk, eMMC, USB storage\u0026hellip; Virtual file system ç”¨ä¾†åšç‚ºä¸åŒçš„file system driversçš„ä»‹é¢, ç®¡ç†inode (file)ä»¥åŠinode/dentry cache.\nä¸»è¦çš„data structure\nsuperblock object: ç”¨ä¾†è¡¨é”ä¸€å€‹file system inode object: ç”¨ä¾†è¡¨é”ä¸€å€‹fileåŠå±¬æ€§ dentry object: ç”¨ä¾†è¡¨é”ä¸€å€‹ç›®éŒ„ file object: èªªæ˜fileè¢«èª°openåŠè·¯å¾‘ Week26 (06/30) ç¶²è·¯æ–‡ç«  5 tips for maximizing your lat exercises\nMuscle contraction matters.\nThe longer path of movement means more muscles are conducted. This article points out some mistakes I had done when I was a beginner years ago, and sometimes insufficient movement is because of muscle fatigue. Pilates is a good way for resilience.\nè®€æ›¸å¿ƒå¾— OSDI: Network Protocol and NIC Driver\nç”±ç¶²è·¯æ¶æ§‹å¯å›é¡§ä¹‹å‰æ‰€è¬›çš„æ•´å€‹ç³»çµ±æ¶æ§‹\nProcess management: fork, exec, kill, sheduler, spin lock, thread Memory management: free, malloc, GC, Allocator, Virtual Memory Device driver Block devices: File system Character devices: Keyboard, Mouse, Graphic card Network devices: net devices Socketæ“ä½œè¡Œç‚ºå¾ˆåƒfileçš„æ“ä½œ.\nç¶²è·¯é€šè¨Šå”å®š7å±¤åœ¨å¯¦ä½œæ™‚ä¸¦æ²’æœ‰ä¸Šä¸‹é—œä¿‚, åªæ˜¯è¡¨é”æ¯ä¸€å±¤è©²åšçš„äº‹, ARPå¯èƒ½åœ¨user space, HTTPå¯èƒ½åœ¨kernel.\nkernelçµ±ä¸€é€ésocketcallä¾†è™•ç†socketé€£ç·š, ç¬¬ä¸€å€‹åƒæ•¸ç‚ºè¦åŸ·è¡Œçš„å‹•ä½œ(action)\nSDU vs PDU\nSDU(service data unit): OSI modelä¸­è¦å‚³é€çµ¦ä¸‹ä¸€å±¤çš„è³‡æ–™.\nPDU(protocol data unit): OSI modelä¸­è¦ç”±ä¸Šå±¤å‚³é€éä¾†çš„è³‡æ–™.\nSocket Buffer: ç¶²è·¯å°åŒ…åœ¨å‚³é€éç¨‹ä¸­, åœ¨ä¸åŒçš„å±¤ç´šæœƒè¢«åŠ å…¥ä¸åŒçš„headeræˆ–checksum(padding), é€™å€‹éç¨‹æœƒé€ æˆå¤šæ¬¡çš„memory copy, socket bufferæ˜¯ç‚ºäº†åŠ é€ŸåŠæ¸›å°‘memory copyçš„overhead.\nSocket bufferæ˜¯ç”¨ä¾†æè¿°å°åŒ…çš„meta data(data structure).\nNAPI(New API): éš¨è‘—ç¶²è·¯çš„ç™¼å±•, network device(ç¶²å¡)è¦è™•ç†çš„è³‡æ–™é‡è¶Šä¾†è¶Šå¤§(100Mbps/1Gbps/10Gbps), é€™ä»£è¡¨CPUè¦è™•ç†çš„interruptè®Šå¤šä¸¦é€ æˆlivelock.\nNAPIéœ€è¦ç¡¬é«”æ”¯æ´, æ˜¯ç‚ºäº†é™ä½CPUè™•ç†interruptçš„é‡, çµåˆinterruptåŠpollingçš„è¨­è¨ˆ, ç•¶interruptè¶…éä¸€å®šçš„é‡æœƒdisable interruptæ”¹ç‚ºpollingè™•ç†ç¶²è·¯å°åŒ….\nç¼ºé»: æŸäº›caseæœƒæœ‰é¡å¤–çš„IRQ latency. æœ‰äº›ç¡¬é«”è¨­è¨ˆIRQ maskingæ˜¯è¼ƒæ…¢çš„, é »ç¹çš„æ“ä½œæœƒå½±éŸ¿ç³»çµ±.\nNew API\n","permalink":"https://oopsmonk.github.io/posts/2017-05-31-2017month6/","summary":"\u003cp\u003eä»¥å‰çƒéšŠåœ¨å›é˜²æ™‚, æ•™ç·´ç¸½æœƒèªª\u0026quot;å¿«è·‘! åˆ¥å›é ­, åˆ°å®šé»å†ä¼‘æ¯\u0026quot;.\u003cbr\u003e\né—œæ–¼äººç”Ÿ, å–˜æ¯é»åœ¨å“ªå…’? æˆ‘æƒ³å°±åœ¨æ»´æ°´ç©¿çŸ³ä¹‹é–“!\u003c/p\u003e\n\u003ch1 id=\"week22-0602\"\u003eWeek22 (06/02)\u003c/h1\u003e\n\u003ch2 id=\"è®€æ›¸å¿ƒå¾—\"\u003eè®€æ›¸å¿ƒå¾—\u003c/h2\u003e\n\u003cp\u003e\u003cstrong\u003eOSDI: Memory Management\u003c/strong\u003e\u003cbr\u003e\nKernel spaceçš„memory management, è¦è€ƒæ…®åˆ°çš„å•é¡Œ, Internal/External fregmentation, physical/logical contiguous, buddy system, slab allocator.\u003cbr\u003e\nUser spaceçš„memoryç®¡ç†, page fault handler, Red-Black Tree / AVL Tree.\u003c/p\u003e\n\u003ch2 id=\"è«–æ–‡å­¸ç¿’\"\u003eè«–æ–‡å­¸ç¿’\u003c/h2\u003e\n\u003cp\u003e\u003cstrong\u003e\u003ca href=\"https://www.usenix.org/conference/nsdi17/technical-sessions/presentation/vasisht\"\u003eFarmBeats: An IoT Platform for Data-Driven Agriculture\u003c/a\u003e \u003ca href=\"https://www.usenix.org/system/files/conference/nsdi17/nsdi17-vasisht.pdf\"\u003ePDF\u003c/a\u003e ,\u003ca href=\"https://www.usenix.org/sites/default/files/conference/protected-files/nsdi17_slides_vasisht.pdf\"\u003eSlides\u003c/a\u003e\u003c/strong\u003e\u003cbr\u003e\nFarmBeatsé€™å¥—ç³»çµ±æå‡ºäº†å‡ å€‹è§£æ±ºæ–¹æ³•:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eé è·å‚³è¼¸, ä»¥å¾€çš„è§£æ³•æ˜¯ç”¨satelliteæˆ–æ˜¯æ‰‹æ©Ÿè¨Šè™Ÿ, é€™è£¡æ˜¯ä½¿ç”¨TVWS(TV White Space)ä»¥æ¸›å°‘ç¡¬é«”æˆæœ¬, TVWSæ˜¯åˆ©ç”¨æ•¸ä½é›»è¦–æœªä½¿ç”¨çš„é »å¯¬åšå‚³è¼¸, å±¬æ–¼ä½é »æœ‰å‚³è¼¸è·é›¢é•·, ç©¿é€åŠ›å¼·çš„å„ªé».\u003c/li\u003e\n\u003cli\u003eå¤©æ°£æ„ŸçŸ¥ç³»çµ±, é€éOpenWeather APIçš„è³‡æ–™ä¾†è¦åŠƒé›»é‡çš„ä½¿ç”¨åŠé›»æ± çš„å……é›»èˆ‡å¦.\u003c/li\u003e\n\u003cli\u003eé¢¨åŠ›è¼”åŠ©ç³»çµ±, æ”¶é›†è¾²åœ°çš„é¢¨å‘åŠé¢¨åŠ›æ•¸æ“š, é€éé£›è¡Œæ¼”ç®—æ³•(Flight Planning Algorithm)è¦åŠƒå‡ºé©ç•¶çš„è·¯ç·š, æ¸›å°‘é€†é¢¨é€ æˆçš„é¡å¤–è€—é›»é‡.\u003c/li\u003e\n\u003cli\u003eæœ¬åœ°å½±åƒåŠè³‡æ–™å£“ç¸®, ä¸€èˆ¬Droneçš„èˆªç©ºå½±åƒ(Aerial Imagery)æˆ–sensorsè³‡æ–™éƒ½æ˜¯ç›´æ¥å‚³åˆ°é›²ç«¯, é€éFarmbeatsçš„gatewayåšä¸­ç¹¼ç«™ä¸¦å£“ç¸®å½±åƒåŠsensorsè³‡æ–™, å¯æ”¯æ´1æ˜ŸæœŸçš„åœ¨ç¶²è·¯ç„¡æ³•ä½¿ç”¨æƒ…æ³.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003cimg loading=\"lazy\" src=\"/images/2017-Month6/FarmBeatsSystemOverview.png\"\u003e\u003c/p\u003e\n\u003ch1 id=\"week23-0609\"\u003eWeek23 (06/09)\u003c/h1\u003e\n\u003ch2 id=\"ç¶²è·¯æ–‡ç« \"\u003eç¶²è·¯æ–‡ç« \u003c/h2\u003e\n\u003cp\u003e\u003ca href=\"https://stackoverflow.com/questions/4039899/when-should-we-use-mutex-and-when-should-we-use-semaphore\"\u003eWhen should we use mutex and when should we use semaphore\u003c/a\u003e\u003c/p\u003e","title":"OSDI"},{"content":"Memory managementä¸»è¦çš„åŠŸèƒ½æ˜¯page mapping, memory protection, and sharing, ä½†éš¨è‘—æ™‚é–“ä¸æ–·çš„æ¼”é€²å·²ç¶“ç®—æ˜¯kernelè£¡ä¸å°çš„subsystem.\né€™ä»½ç ”ç©¶åˆ†æ2009~2015å¹´ä¹‹é–“4587ç­†æœ‰é—œmemory management(mm)çš„patches, Linuxç‰ˆæœ¬ç”±v2.6.32.1 ~ v4.0-rc4.\nSource: An Evolutionary Study of Linux Memory Management for Fun and Profit\nMemory Bugs 5ç¨®bugså­˜åœ¨mm: memory error, checking, concurrency, logic and programming.\né€éheat mapå¯æ¸…æ¥šçœ‹åˆ°ä¸»è¦bugç™¼ç”Ÿåœ°æ–¹\nä¸»è¦çš„bug fixåœ¨: Memory Allocation, Garbage Collection (GC), Virtual Memory Management.\nå¤§éƒ¨ä»½memory leakä¸¦ä¸æ˜¯å› ç‚ºå¿˜äº†free, è€Œæ˜¯éŒ¯èª¤çš„page fault handlingå’Œ free pageçš„è¨ˆç®—.\nMMè¼ƒå¤§çš„å•é¡Œæ˜¯å¾ˆé›£å»trackæ­£ç¢ºçš„ç‹€æ…‹.\nMemory optimization å®šç¾©3ç¨®optimization patches\ndata structure: é¿å…nested data structure. Scalabilityçš„å¯¦ç¾, scalabilityå•é¡Œæ˜¯å› ç‚ºlocking for atomic access to shared data structures. memory policy: ä½¿ç”¨åˆç†çš„policy design (latency/throughput, sync/async, lazy/non-lazy, local/global, fairness/performance). fast path: åŠ é€Ÿé »ç¹ä½¿ç”¨çš„source code, reductionè·Ÿlockless optimizationæ˜¯å»£æ³›è¢«ä½¿ç”¨. Optimistic barrieræ˜¯ç‚ºäº†æ¸›å°‘å‘¼å«barrier/fence system callæ™‚çš„synchronous overheads. (Code reduction, lockless optimization, new function, state caching, inline, code shifting, group excution, optimistic barrier) MMå¸¸è¦‹çš„Data structure Radix tree: In adress_space, ä¸»è¦ç‰¹è‰²æ˜¯æœ‰æ•ˆç‡çš„å­˜æ”¾(sparse)è³‡æ–™. Red-black tree: In vm_area_struct, å¯å¿«é€Ÿçš„search, insert, delete. ç›¸è¼ƒæ–¼AVL é›–ç„¶åœ¨searchä¸Šè¼ƒå¿«ä½†éœ€è¦é¡å¤–çš„ç©ºé–“, insert/deleteæ¯”è¼ƒæ…¢, rotationæ¯”è¼ƒå›°é›£. Bitmap: é€šå¸¸ç”¨åœ¨RAMçš„page indexing. List: å»£æ³›ä½¿ç”¨çš„DS, ä¾‹å¦‚LRU(Last Recently Used) list, ç”¨ä¾†è¿½è¹¤active/inactive pages. Data structure optimization Reducing software overhead(76.2%): é¿å…nested data structure. Improving scalability for data structure(23.8%): Most of the scalability issues are caused by locking for atomic access to shared data structures. Policy design tackling trade-offs Fast Path Memory Semantics Memory allocation: buddy system(page_alloc, slab, slub, slob)å·²æˆç†Ÿçš„ç™¼å±•, ä½†åœ¨maintain page statusä¸Šæœ‰è¨±å¤šbug, ä¸»è¦æ˜¯checking/lock issues.\nMemory Resource Controller: ä¸»è¦çš„patcheséƒ½åœ¨memcontrol. Concurrencyæ˜¯æœ€å¤§çš„å•é¡Œï¼Œå…¶æ¬¡Fault handler(OOM/page fault)åœ¨æ–¼éŒ¯çš„page statusè³‡è¨Š.\nVirtual Memory Management: æ˜¯MMè£¡æœ€å¤§çš„ä¸€å€‹component, ä»å­˜åœ¨ä¸€å †bug, å› ç‚ºæ–°çš„ç¡¬é«”, æ–°çš„ä½¿ç”¨æ–¹æ³•(huge page)\nGarbage Collection: vmscançš„kswapd, shrinker, å’Œ other GC helper, å¤§å¤šçš„patchç‚ºshrinkerçš„policy design, ç‚ºäº†æ¸›å°‘scanæ™‚çš„overheadå’Œæ±ºå®šå“ªäº›spaceè©²free. shrinkeræ˜¯é€ æˆmemory performanceé›£ä»¥é æ¸¬çš„åŸå› . A scalable and coordinated GC is desirable.\n","permalink":"https://oopsmonk.github.io/posts/2017-06-13-linux-memory-management/","summary":"\u003cp\u003eMemory managementä¸»è¦çš„åŠŸèƒ½æ˜¯page mapping, memory protection, and sharing, ä½†éš¨è‘—æ™‚é–“ä¸æ–·çš„æ¼”é€²å·²ç¶“ç®—æ˜¯kernelè£¡ä¸å°çš„subsystem.\u003cbr\u003e\né€™ä»½ç ”ç©¶åˆ†æ2009~2015å¹´ä¹‹é–“4587ç­†æœ‰é—œmemory management(mm)çš„patches, Linuxç‰ˆæœ¬ç”±v2.6.32.1 ~ v4.0-rc4.\u003cbr\u003e\nSource: \u003ca href=\"https://www.usenix.org/system/files/conference/atc16/atc16_paper-huang.pdf\"\u003eAn Evolutionary Study of Linux Memory Management for Fun and Profit\u003c/a\u003e\u003c/p\u003e\n\u003ch2 id=\"memory-bugs\"\u003eMemory Bugs\u003c/h2\u003e\n\u003cp\u003e5ç¨®bugså­˜åœ¨mm: memory error, checking, concurrency, logic and programming.\u003cbr\u003e\n\u003cimg loading=\"lazy\" src=\"/images/2017-06-13/Table2.png\"\u003e\u003c/p\u003e\n\u003cp\u003eé€éheat mapå¯æ¸…æ¥šçœ‹åˆ°ä¸»è¦bugç™¼ç”Ÿåœ°æ–¹\u003cbr\u003e\n\u003cimg loading=\"lazy\" src=\"/images/2017-06-13/Figure6.png\"\u003e\u003c/p\u003e\n\u003cp\u003eä¸»è¦çš„bug fixåœ¨: Memory Allocation, Garbage Collection (GC), Virtual Memory Management.\u003cbr\u003e\nå¤§éƒ¨ä»½memory leakä¸¦ä¸æ˜¯å› ç‚ºå¿˜äº†free, è€Œæ˜¯éŒ¯èª¤çš„page fault handlingå’Œ free pageçš„è¨ˆç®—.\u003cbr\u003e\nMMè¼ƒå¤§çš„å•é¡Œæ˜¯å¾ˆé›£å»trackæ­£ç¢ºçš„ç‹€æ…‹.\u003c/p\u003e\n\u003ch2 id=\"memory-optimization\"\u003eMemory optimization\u003c/h2\u003e\n\u003cp\u003eå®šç¾©3ç¨®optimization patches\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003edata structure: é¿å…nested data structure. Scalabilityçš„å¯¦ç¾, scalabilityå•é¡Œæ˜¯å› ç‚ºlocking for atomic access to shared data structures.\u003c/li\u003e\n\u003cli\u003ememory policy: ä½¿ç”¨åˆç†çš„policy design (latency/throughput, sync/async, lazy/non-lazy, local/global, fairness/performance).\u003c/li\u003e\n\u003cli\u003efast path: åŠ é€Ÿé »ç¹ä½¿ç”¨çš„source code, reductionè·Ÿlockless optimizationæ˜¯å»£æ³›è¢«ä½¿ç”¨. Optimistic barrieræ˜¯ç‚ºäº†æ¸›å°‘å‘¼å«barrier/fence system callæ™‚çš„synchronous overheads. (Code reduction, lockless optimization, new function, state caching, inline, code shifting, group excution, optimistic barrier)\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"mmå¸¸è¦‹çš„data-structure\"\u003eMMå¸¸è¦‹çš„Data structure\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eRadix tree: In adress_space, ä¸»è¦ç‰¹è‰²æ˜¯æœ‰æ•ˆç‡çš„å­˜æ”¾(sparse)è³‡æ–™.\u003c/li\u003e\n\u003cli\u003eRed-black tree: In vm_area_struct, å¯å¿«é€Ÿçš„search, insert, delete. ç›¸è¼ƒæ–¼\u003ca href=\"https://stackoverflow.com/questions/13852870/red-black-tree-over-avl-tree\"\u003eAVL\u003c/a\u003e é›–ç„¶åœ¨searchä¸Šè¼ƒå¿«ä½†éœ€è¦é¡å¤–çš„ç©ºé–“, insert/deleteæ¯”è¼ƒæ…¢, rotationæ¯”è¼ƒå›°é›£.\u003c/li\u003e\n\u003cli\u003eBitmap: é€šå¸¸ç”¨åœ¨RAMçš„page indexing.\u003c/li\u003e\n\u003cli\u003eList: å»£æ³›ä½¿ç”¨çš„DS, ä¾‹å¦‚LRU(Last Recently Used) list, ç”¨ä¾†è¿½è¹¤active/inactive pages.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003cimg loading=\"lazy\" src=\"/images/2017-06-13/Table3.png\"\u003e\u003c/p\u003e","title":"[Paper] - An Evolutionary Study of Linux Memory Management for Fun and Profit"},{"content":"How to use weston with DRM backend in Raspbian, and gets benchmark score by GLMark2.\nWith regards to hardware acceleration, We can enable VC4 driver through raspi-config.\n# update system and raspi-config script $ sudo apt-get update \u0026amp;\u0026amp; sudo apt-get upgrade $ sudo apt-get install raspi-config # enable Broadcom VC4 driver $ sudo raspi-config Advanced Options -\u0026gt; GL Driver -\u0026gt; GL (Full KMS) Test environment:\n2017-04-10-raspbian-jessie-lite HDMI 1080P 60Hz CPU/GPU use default settings(no overclock) Test packages:\nwayland 1.13.0 libdrm-2.4.81 mesa-17.1.1 pixman-0.34.0 cairo 1.15.4 weston 2.0.0 In my case, it took about 2.5 hours for clone and compile all packages, so go jogging is a great choice. :-)\nBuild script: RPi3_build_weston.sh\n$ cd ~ \u0026amp;\u0026amp; sudo su # ./RPi3_build_weston.sh all Run weston $ sudo su # export XDG_RUNTIME_DIR=/tmp/weston_runtime # mkdir $XDG_RUNTIME_DIR \u0026amp;\u0026amp; chmod 0700 $XDG_RUNTIME_DIR # export LD_LIBRARY_PATH=/usr/local/lib/ # weston --tty=2 --idle-time=0 -B drm-backend.so \u0026amp; Date: 2017-06-02 CST [09:52:59.501] weston 2.0.0 http://wayland.freedesktop.org Bug reports to: https://bugs.freedesktop.org/enter_bug.cgi?product=Wayland\u0026amp;component=weston\u0026amp;version=2.0.0 Build: 2.0.0 configure.ac: bump to version 2.0.0 for the official release (2017-02-24 16:19:03 -0800) [09:52:59.506] Command line: weston --tty=2 --idle-time=0 -B drm-backend.so [09:52:59.507] OS: Linux, 4.9.24-v7+, #993 SMP Wed Apr 26 18:01:23 BST 2017, armv7l [09:52:59.509] warning: XDG_RUNTIME_DIR \u0026#34;/tmp/weston_runtime\u0026#34; is not configured correctly. Unix access mode must be 0700 (current mode is 700), and must be owned by the user (current owner is UID 1001). Refer to your distribution on how to get it, or http://www.freedesktop.org/wiki/Specifications/basedir-spec on how to implement it. [09:52:59.513] Starting with no config file. [09:52:59.515] Output repaint window is 7 ms maximum. [09:52:59.516] Loading module \u0026#39;/usr/local/lib/libweston-2/drm-backend.so\u0026#39; [09:52:59.520] initializing drm backend [09:52:59.526] using /dev/dri/card0 [09:52:59.528] Loading module \u0026#39;/usr/local/lib/libweston-2/gl-renderer.so\u0026#39; [09:52:59.586] EGL client extensions: EGL_EXT_client_extensions EGL_EXT_platform_base EGL_KHR_client_get_all_proc_addresses EGL_KHR_debug EGL_EXT_platform_wayland EGL_MESA_platform_gbm [09:52:59.588] warning: neither EGL_EXT_swap_buffers_with_damage or EGL_KHR_swap_buffers_with_damage is supported. Performance could be affected. [09:52:59.588] EGL_KHR_surfaceless_context available [09:52:59.596] EGL version: 1.4 (DRI2) [09:52:59.596] EGL vendor: Mesa Project [09:52:59.596] EGL client APIs: OpenGL OpenGL_ES [09:52:59.597] EGL extensions: EGL_EXT_buffer_age EGL_EXT_image_dma_buf_import EGL_KHR_cl_event2 EGL_KHR_config_attribs EGL_KHR_create_context EGL_KHR_fence_sync EGL_KHR_get_all_proc_addresses EGL_KHR_gl_renderbuffer_image EGL_KHR_gl_texture_2D_image EGL_KHR_gl_texture_cubemap_image EGL_KHR_image EGL_KHR_image_base EGL_KHR_image_pixmap EGL_KHR_no_config_context EGL_KHR_reusable_sync EGL_KHR_surfaceless_context EGL_KHR_wait_sync EGL_MESA_configless_context EGL_MESA_drm_image EGL_MESA_image_dma_buf_export EGL_WL_bind_wayland_display [09:52:59.597] GL version: OpenGL ES 2.0 Mesa 17.1.1 (git-ca0a148) [09:52:59.598] GLSL version: OpenGL ES GLSL ES 1.0.16 [09:52:59.598] GL vendor: Broadcom [09:52:59.598] GL renderer: Gallium 0.4 on VC4 V3D 2.1 [09:52:59.598] GL extensions: GL_EXT_blend_minmax GL_EXT_multi_draw_arrays GL_EXT_texture_format_BGRA8888 GL_OES_compressed_ETC1_RGB8_texture GL_OES_depth24 GL_OES_element_index_uint GL_OES_fbo_render_mipmap GL_OES_mapbuffer GL_OES_rgb8_rgba8 GL_OES_stencil8 GL_OES_texture_3D GL_OES_texture_npot GL_OES_vertex_half_float GL_OES_EGL_image GL_OES_depth_texture GL_OES_packed_depth_stencil GL_EXT_texture_type_2_10_10_10_REV GL_OES_get_program_binary GL_APPLE_texture_max_level GL_EXT_discard_framebuffer GL_EXT_read_format_bgra GL_EXT_frag_depth GL_NV_fbo_color_attachments GL_OES_EGL_image_external GL_OES_EGL_sync GL_OES_vertex_array_object GL_EXT_unpack_subimage GL_NV_draw_buffers GL_NV_read_buffer GL_NV_read_depth GL_NV_read_depth_stencil GL_NV_read_stencil GL_EXT_draw_buffers GL_EXT_map_buffer_range GL_KHR_debug GL_OES_surfaceless_context GL_EXT_separate_shader_objects GL_EXT_compressed_ETC1_RGB8_sub_texture GL_EXT_draw_elements_base_vertex GL_EXT_texture_border_clamp GL_KHR_context_flush_control GL_OES_draw_elements_base_vertex GL_OES_texture_border_clamp [09:52:59.599] GL ES 2 renderer features: read-back format: BGRA wl_shm sub-image to texture: yes EGL Wayland extension: yes [09:52:59.601] event0 - [09:52:59.601] USB Keyboard: [09:52:59.601] is tagged by udev as: Keyboard [09:52:59.601] event0 - [09:52:59.601] USB Keyboard: [09:52:59.601] device is a keyboard [09:52:59.602] event1 - [09:52:59.602] USB Keyboard: [09:52:59.602] is tagged by udev as: Keyboard [09:52:59.602] event1 - [09:52:59.602] USB Keyboard: [09:52:59.602] device is a keyboard [09:52:59.603] event2 - [09:52:59.603] USB Optical Mouse: [09:52:59.603] is tagged by udev as: Mouse [09:52:59.603] event2 - [09:52:59.604] USB Optical Mouse: [09:52:59.604] device is a pointer [09:52:59.654] Registered plugin API \u0026#39;weston_drm_output_api_v1\u0026#39; of size 12 [09:52:59.655] Chosen EGL config details: RGBA bits: 8 8 8 0 swap interval range: 0 - 0 [09:52:59.655] Failed to initialize backlight [09:52:59.655] EDID data \u0026#39;BNQ\u0026#39;, \u0026#39;BenQ GW2265\u0026#39;, \u0026#39;87E05314019\u0026#39; [09:52:59.656] Output HDMI-A-1, (connector 24, crtc 65) mode 1920x1080@60.0, preferred, current mode 1920x1080@59.9 mode 1920x1080@60.0 mode 1920x1080@59.9 mode 1920x1080@50.0 mode 1920x1080@50.0 mode 1680x1050@59.9 mode 1600x900@60.0 mode 1280x1024@60.0 mode 1280x800@59.9 mode 1280x720@60.0 mode 1280x720@59.9 mode 1280x720@50.0 mode 1024x768@60.0 mode 800x600@60.3 mode 720x576@50.0 mode 720x576@50.0 mode 720x480@60.0 mode 720x480@59.9 mode 720x480@60.0 mode 720x480@59.9 mode 640x480@60.0 mode 640x480@59.9 [09:52:59.656] Compositor capabilities: arbitrary surface rotation: yes screen capture uses y-flip: yes presentation clock: CLOCK_MONOTONIC, id 1 presentation clock resolution: 0.000000001 s [09:52:59.657] Loading module \u0026#39;/usr/local/lib/weston/desktop-shell.so\u0026#39; [09:52:59.658] launching \u0026#39;/usr/local/libexec/weston-keyboard\u0026#39; [09:52:59.660] launching \u0026#39;/usr/local/libexec/weston-desktop-shell\u0026#39; could not load cursor \u0026#39;dnd-move\u0026#39; could not load cursor \u0026#39;dnd-copy\u0026#39; could not load cursor \u0026#39;dnd-none\u0026#39; could not load cursor \u0026#39;dnd-move\u0026#39; could not load cursor \u0026#39;dnd-copy\u0026#39; could not load cursor \u0026#39;dnd-none\u0026#39; xkbcommon: ERROR: couldn\u0026#39;t find a Compose file for locale \u0026#34;en_US.UTF-8\u0026#34; could not create XKB compose table for locale \u0026#39;en_US.UTF-8\u0026#39;. Disabiling compose xkbcommon: ERROR: couldn\u0026#39;t find a Compose file for locale \u0026#34;en_US.UTF-8\u0026#34; could not create XKB compose table for locale \u0026#39;en_US.UTF-8\u0026#39;. Disabiling compose could not load cursor \u0026#39;dnd-move\u0026#39; could not load cursor \u0026#39;dnd-copy\u0026#39; could not load cursor \u0026#39;dnd-none\u0026#39; xkbcommon: ERROR: couldn\u0026#39;t find a Compose file for locale \u0026#34;en_US.UTF-8\u0026#34; could not create XKB compose table for locale \u0026#39;en_US.UTF-8\u0026#39;. Disabiling compose weston-simple-egl score root@RPi3:/home/oopsmonk# weston-simple-egl has EGL_EXT_buffer_age and EGL_EXT_swap_buffers_with_damage 152 frames in 5 seconds: 30.400000 fps 151 frames in 5 seconds: 30.200001 fps 151 frames in 5 seconds: 30.200001 fps ^Csimple-egl exiting root@RPi3:/home/oopsmonk# weston-simple-egl -b has EGL_EXT_buffer_age and EGL_EXT_swap_buffers_with_damage 32542 frames in 5 seconds: 6508.399902 fps Draw call returned Invalid argument. Expect corruption. 30634 frames in 5 seconds: 6126.799805 fps 28265 frames in 5 seconds: 5653.000000 fps 34501 frames in 5 seconds: 6900.200195 fps 32658 frames in 5 seconds: 6531.600098 fps ^Csimple-egl exiting root@RPi3:/home/oopsmonk# weston-simple-egl -f has EGL_EXT_buffer_age and EGL_EXT_swap_buffers_with_damage 300 frames in 5 seconds: 60.000000 fps 300 frames in 5 seconds: 60.000000 fps 300 frames in 5 seconds: 60.000000 fps 300 frames in 5 seconds: 60.000000 fps 300 frames in 5 seconds: 60.000000 fps ^Csimple-egl exiting root@RPi3:/home/oopsmonk# weston-simple-egl -f -b has EGL_EXT_buffer_age and EGL_EXT_swap_buffers_with_damage 1350 frames in 5 seconds: 270.000000 fps 1325 frames in 5 seconds: 265.000000 fps 1325 frames in 5 seconds: 265.000000 fps ^Csimple-egl exiting GLMark2 root@RPi3:/home/oopsmonk# glmark2-es2-wayland ======================================================= glmark2 2014.03 ======================================================= OpenGL Information GL_VENDOR: Broadcom GL_RENDERER: Gallium 0.4 on VC4 V3D 2.1 GL_VERSION: OpenGL ES 2.0 Mesa 17.1.1 (git-ca0a148) ======================================================= [build] use-vbo=false: FPS: 281 FrameTime: 3.559 ms [build] use-vbo=true: FPS: 303 FrameTime: 3.300 ms [texture] texture-filter=nearest: FPS: 375 FrameTime: 2.667 ms [texture] texture-filter=linear: FPS: 345 FrameTime: 2.899 ms [texture] texture-filter=mipmap: FPS: 289 FrameTime: 3.460 ms [shading] shading=gouraud: FPS: 199 FrameTime: 5.025 ms [shading] shading=blinn-phong-inf: FPS: 145 FrameTime: 6.897 ms [shading] shading=phong: FPS: 85 FrameTime: 11.765 ms [shading] shading=cel: FPS: 84 FrameTime: 11.905 ms [bump] bump-render=high-poly: FPS: 80 FrameTime: 12.500 ms [bump] bump-render=normals: FPS: 461 FrameTime: 2.169 ms [bump] bump-render=height: FPS: 390 FrameTime: 2.564 ms [effect2d] kernel=0,1,0;1,-4,1;0,1,0;: FPS: 161 FrameTime: 6.211 ms [effect2d] kernel=1,1,1,1,1;1,1,1,1,1;1,1,1,1,1;: FPS: 85 FrameTime: 11.765 ms [pulsar] light=false:quads=5:texture=false: FPS: 314 FrameTime: 3.185 ms [desktop] blur-radius=5:effect=blur:passes=1:separable=true:windows=4: FPS: 40 FrameTime: 25.000 ms [desktop] effect=shadow:windows=4: FPS: 121 FrameTime: 8.264 ms [buffer] columns=200:interleave=false:update-dispersion=0.9:update-fraction=0.5:update-method=map: FPS: 59 FrameTime: 16.949 ms [buffer] columns=200:interleave=false:update-dispersion=0.9:update-fraction=0.5:update-method=subdata: FPS: 59 FrameTime: 16.949 ms [buffer] columns=200:interleave=true:update-dispersion=0.9:update-fraction=0.5:update-method=map: FPS: 75 FrameTime: 13.333 ms [ideas] speed=duration: FPS: 269 FrameTime: 3.717 ms [jellyfish] \u0026lt;default\u0026gt;: FPS: 138 FrameTime: 7.246 ms [terrain] \u0026lt;default\u0026gt;: FPS: 5 FrameTime: 200.000 ms [shadow] \u0026lt;default\u0026gt;: FPS: 106 FrameTime: 9.434 ms [refract] \u0026lt;default\u0026gt;: FPS: 21 FrameTime: 47.619 ms [conditionals] fragment-steps=0:vertex-steps=0: FPS: 392 FrameTime: 2.551 ms [conditionals] fragment-steps=5:vertex-steps=0: FPS: 259 FrameTime: 3.861 ms [conditionals] fragment-steps=0:vertex-steps=5: FPS: 389 FrameTime: 2.571 ms [function] fragment-complexity=low:fragment-steps=5: FPS: 357 FrameTime: 2.801 ms [function] fragment-complexity=medium:fragment-steps=5: FPS: 48 FrameTime: 20.833 ms [loop] fragment-loop=false:fragment-steps=5:vertex-steps=5: FPS: 329 FrameTime: 3.040 ms [loop] fragment-steps=5:fragment-uniform=false:vertex-steps=5: FPS: 329 FrameTime: 3.040 ms [loop] fragment-steps=5:fragment-uniform=true:vertex-steps=5: FPS: 119 FrameTime: 8.403 ms ======================================================= glmark2 Score: 203 ======================================================= GLMark2 Fullscreen root@RPi3:/home/oopsmonk# glmark2-es2-wayland --fullscreen ======================================================= glmark2 2014.03 ======================================================= OpenGL Information GL_VENDOR: Broadcom GL_RENDERER: Gallium 0.4 on VC4 V3D 2.1 GL_VERSION: OpenGL ES 2.0 Mesa 17.1.1 (git-ca0a148) ======================================================= [build] use-vbo=false: FPS: 183 FrameTime: 5.464 ms [build] use-vbo=true: FPS: 200 FrameTime: 5.000 ms [texture] texture-filter=nearest: FPS: 198 FrameTime: 5.051 ms [texture] texture-filter=linear: FPS: 192 FrameTime: 5.208 ms [texture] texture-filter=mipmap: FPS: 190 FrameTime: 5.263 ms [shading] shading=gouraud: FPS: 166 FrameTime: 6.024 ms [shading] shading=blinn-phong-inf: FPS: 162 FrameTime: 6.173 ms [shading] shading=phong: FPS: 134 FrameTime: 7.463 ms [shading] shading=cel: FPS: 128 FrameTime: 7.812 ms [bump] bump-render=high-poly: FPS: 77 FrameTime: 12.987 ms [bump] bump-render=normals: FPS: 202 FrameTime: 4.950 ms [bump] bump-render=height: FPS: 188 FrameTime: 5.319 ms [effect2d] kernel=0,1,0;1,-4,1;0,1,0;: FPS: 65 FrameTime: 15.385 ms [effect2d] kernel=1,1,1,1,1;1,1,1,1,1;1,1,1,1,1;: FPS: 33 FrameTime: 30.303 ms [pulsar] light=false:quads=5:texture=false: FPS: 173 FrameTime: 5.780 ms [desktop] blur-radius=5:effect=blur:passes=1:separable=true:windows=4: FPS: 16 FrameTime: 62.500 ms [desktop] effect=shadow:windows=4: FPS: 48 FrameTime: 20.833 ms [buffer] columns=200:interleave=false:update-dispersion=0.9:update-fraction=0.5:update-method=map: FPS: 51 FrameTime: 19.608 ms [buffer] columns=200:interleave=false:update-dispersion=0.9:update-fraction=0.5:update-method=subdata: FPS: 51 FrameTime: 19.608 ms [buffer] columns=200:interleave=true:update-dispersion=0.9:update-fraction=0.5:update-method=map: FPS: 51 FrameTime: 19.608 ms [ideas] speed=duration: FPS: 126 FrameTime: 7.937 ms [jellyfish] \u0026lt;default\u0026gt;: FPS: 70 FrameTime: 14.286 ms [terrain] \u0026lt;default\u0026gt;: FPS: 2 FrameTime: 500.000 ms [shadow] \u0026lt;default\u0026gt;: FPS: 84 FrameTime: 11.905 ms [refract] \u0026lt;default\u0026gt;: FPS: 17 FrameTime: 58.824 ms [conditionals] fragment-steps=0:vertex-steps=0: FPS: 205 FrameTime: 4.878 ms [conditionals] fragment-steps=5:vertex-steps=0: FPS: 122 FrameTime: 8.197 ms [conditionals] fragment-steps=0:vertex-steps=5: FPS: 209 FrameTime: 4.785 ms [function] fragment-complexity=low:fragment-steps=5: FPS: 176 FrameTime: 5.682 ms [function] fragment-complexity=medium:fragment-steps=5: FPS: 79 FrameTime: 12.658 ms [loop] fragment-loop=false:fragment-steps=5:vertex-steps=5: FPS: 171 FrameTime: 5.848 ms [loop] fragment-steps=5:fragment-uniform=false:vertex-steps=5: FPS: 172 FrameTime: 5.814 ms [loop] fragment-steps=5:fragment-uniform=true:vertex-steps=5: FPS: 58 FrameTime: 17.241 ms ======================================================= glmark2 Score: 121 ======================================================= GLMark2 repaint time glmark2 set eglSwapInterval() to 0, so it will not waite for vblank.\ncanvas_clear: glClearColor, glClearDepthf, glClear\nsence_draw: glBindBuffer, glBindBuffer\nsence_update: update frame counter and elapsed time\ncanvas_update: eglSwapBuffers, wl_display_roundtrip\ntotal_draw: canvas_clear + sence_draw + canvas_update\n","permalink":"https://oopsmonk.github.io/posts/2017-06-05-raspberrypi3-glmark2-using-weston-with-drm-backend/","summary":"\u003cp\u003eHow to use weston with DRM backend in Raspbian, and gets benchmark score by GLMark2.\u003cbr\u003e\nWith regards to hardware acceleration, We can enable VC4 driver through \u003ccode\u003eraspi-config\u003c/code\u003e.\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003e# update system and raspi-config script\n$ sudo apt-get update \u0026amp;\u0026amp; sudo apt-get upgrade  \n$ sudo apt-get install raspi-config\n\n# enable Broadcom VC4 driver \n$ sudo raspi-config\nAdvanced Options -\u0026gt; GL Driver -\u0026gt; GL (Full KMS)  \n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eTest environment:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e2017-04-10-raspbian-jessie-lite\u003c/li\u003e\n\u003cli\u003eHDMI 1080P 60Hz\u003c/li\u003e\n\u003cli\u003eCPU/GPU use default settings(no overclock)\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eTest packages:\u003c/p\u003e","title":"RaspberryPi3: GLMark2 using weston with DRM backend"},{"content":"ä»¥å‰çƒéšŠåœ¨å›é˜²æ™‚, æ•™ç·´ç¸½æœƒèªª\u0026quot;å¿«è·‘! åˆ¥å›é ­, åˆ°å®šé»å†ä¼‘æ¯\u0026quot;.\né—œæ–¼äººç”Ÿ, å–˜æ¯é»åœ¨å“ªå…’? æˆ‘æƒ³å°±åœ¨æ»´æ°´ç©¿çŸ³ä¹‹é–“!\nä¸»è¦åœ¨äº†è§£linux graphic systemæ¶æ§‹, ä¸¦åˆ†æwayland weston compositor/glmark2çš„repaint flow.\nWeek18 (05/05) ç¶²è·¯æ–‡ç«  å’Œç™¾å¹´å…¬æ–¤åŸå™¨èªªå†è¦‹ï¼ä¸ƒå¤§åœ‹éš›å–®ä½åˆ¶å°‡æ”¹é ­æ›é¢\nåŸä¾†ç”¨æŠ½åƒä¾†å®šç¾©å¯¦é«”æ—©å·±è¡Œä¹‹æœ‰å¹´.\nç¶²è·¯è³‡æº C++ Language Interface Foundation (CLIF)\nGoogle åšäº†ä¸€å€‹C++ wrapper generator, ç›®å‰çœ‹ä¾†åªfor Python, ç›®æ¨™æ˜¯æ”¯æ´æ›´å¤šçš„èªè¨€.\nWeek19 (05/12) ç¶²è·¯æ–‡ç«  Weston repaint scheduling\nWeek20 (05/19) Waylandçš„weston compositorå¯é€éwesgrä¾†åˆ†ærepaintéç¨‹. glmark2-es2-wayland åŠ å…¥debugå»çœ‹glmark repaintéç¨‹\n[18:50:21.959] canvas_clear 1510 us [18:50:21.960] scenc_draw 389 us [18:50:21.960] scenc_update 159 us [18:50:21.960] weston weston_output_repaint[+] [18:50:21.960] weston surface_flush_damage [18:50:21.960] weston surface_flush_damage [18:50:21.961] weston surface_flush_damage [18:50:21.961] weston surface_flush_damage [18:50:21.969] weston weston_output_repaint[-] [18:50:21.970] weston weston_output_finish_frame [18:50:21.972] weston weston_surface_commit_state [18:50:21.972] weston core_repaint_req [18:50:21.972] canvas_update 12193 us [18:50:21.972] glmark2 draw 14443 us ç¶²è·¯æ–‡ç«  Boosting Site Speed Using Brotli Compression\nLinkedIn ä½¿ç”¨Brotli å£“ç¸®æé«˜ç¶²é çš„ç€è¦½é€Ÿåº¦, ä¸¦ä½¿ç”¨JavaScriptæª”æ¡ˆåšäº†Brotli, Zopfli, and gzipæ¼”ç®—æ³•æ¯”è¼ƒ,\nå£“ç¸®å¾Œçš„ç©ºé–“ä»¥gzip -6ç‚ºåŸºæº–Brotil -11çµçœ30%, Brotli -5çµçœ14%å·¦å³, Zopfli -1000çµçœç´„5%.\næ™‚é–“ä¸Šgzip -6 å£“ç¸®169ms, è§£å£“35ms, Brotli -11 å£“ç¸®11913ms, è§£å£“22ms, Brotliå£“ç¸®æ™‚é–“èŠ±çš„è¼ƒé•·, ä½†è§£å£“åŠå£“ç¸®ç‡å®Œå‹.\næœ€çµ‚çš„A/B Test, ç¶²é åœ¨ç¾åœ‹åœ°å€å¿«äº†23.6%, å°åº¦åœ°å€å¿«äº†66.5%.\nLinkedIn è¨ˆåŠƒæ¡ç”¨Dynamic Brotli è™•ç†å‹•æ…‹è³‡æ–™(Base HTML document, JSON API responses, etc.), ä¹Ÿéœ€è¦æ”¹å–„gzipä»¥é…åˆä¸æ”¯æ´Brotliçš„Browser.\nBrowser support:\nChrome version 49 Firefox version 44 Microsoft Edge version 15 Opera version 36 Safari version 10 How to: Brotli compression with Nginx\nngx_http_gzip_module\nç¶²è·¯è³‡æº WebPage Speed Analysis\nç¶²é é€Ÿåº¦æ¸¬è©¦.\näº¤å¤§ç·šä¸Šèª²ç¨‹- ä½œæ¥­ç³»çµ±è¨­è¨ˆèˆ‡å¯¦ä½œ(OSDI)\nWeek21 (05/26) Ubuntuç³»çµ±åœ¨screen lockå¾Œè¦unlockæœ‰æ™‚æœƒå¡åœ¨é»‘ç•«é¢, é€™æ˜¯å€‹é ­ç—›çš„å•é¡Œ, é€šå¸¸åœ¨æ˜¯ç·¨Androidæ™‚å»lockç„¶å¾Œunlockå°±å›ä¸ä¾†.\nå› ç‚ºæ˜¯å¶çˆ¾ç™¼ç”Ÿ, ä¹‹å‰éƒ½æ˜¯rebootä¾†è§£æ±º, ç™¼ç¾é€™å€‹å•é¡Œå­˜åœ¨å¾ˆä¹…, googleåˆ°äº†ä¸€äº›ç›¸é—œçš„bug report, çœ‹ä¾†æš«æ™‚é‚„æ˜¯ç„¡è§£.\nè©¦éä½¿ç”¨sudo service lightdm restart\nblack screen after longer screen lock\nCan\u0026rsquo;t login after lock screen (black screen) ","permalink":"https://oopsmonk.github.io/posts/2017-05-31-2017month5/","summary":"\u003cp\u003eä»¥å‰çƒéšŠåœ¨å›é˜²æ™‚, æ•™ç·´ç¸½æœƒèªª\u0026quot;å¿«è·‘! åˆ¥å›é ­, åˆ°å®šé»å†ä¼‘æ¯\u0026quot;.\u003cbr\u003e\né—œæ–¼äººç”Ÿ, å–˜æ¯é»åœ¨å“ªå…’? æˆ‘æƒ³å°±åœ¨æ»´æ°´ç©¿çŸ³ä¹‹é–“!\u003c/p\u003e\n\u003cp\u003eä¸»è¦åœ¨äº†è§£linux graphic systemæ¶æ§‹, ä¸¦åˆ†æwayland weston compositor/glmark2çš„repaint flow.\u003c/p\u003e\n\u003ch1 id=\"week18-0505\"\u003eWeek18 (05/05)\u003c/h1\u003e\n\u003ch2 id=\"ç¶²è·¯æ–‡ç« \"\u003eç¶²è·¯æ–‡ç« \u003c/h2\u003e\n\u003cp\u003e\u003ca href=\"http://pansci.asia/archives/111737\"\u003eå’Œç™¾å¹´å…¬æ–¤åŸå™¨èªªå†è¦‹ï¼ä¸ƒå¤§åœ‹éš›å–®ä½åˆ¶å°‡æ”¹é ­æ›é¢\u003c/a\u003e\u003cbr\u003e\nåŸä¾†ç”¨æŠ½åƒä¾†å®šç¾©å¯¦é«”æ—©å·±è¡Œä¹‹æœ‰å¹´.\u003c/p\u003e\n\u003ch2 id=\"ç¶²è·¯è³‡æº\"\u003eç¶²è·¯è³‡æº\u003c/h2\u003e\n\u003cp\u003e\u003ca href=\"https://github.com/google/clif\"\u003eC++ Language Interface Foundation (CLIF)\u003c/a\u003e\u003cbr\u003e\nGoogle åšäº†ä¸€å€‹C++ wrapper generator, ç›®å‰çœ‹ä¾†åªfor Python, ç›®æ¨™æ˜¯æ”¯æ´æ›´å¤šçš„èªè¨€.\u003c/p\u003e\n\u003ch1 id=\"week19-0512\"\u003eWeek19 (05/12)\u003c/h1\u003e\n\u003ch2 id=\"ç¶²è·¯æ–‡ç« -1\"\u003eç¶²è·¯æ–‡ç« \u003c/h2\u003e\n\u003cp\u003e\u003ca href=\"http://ppaalanen.blogspot.tw/2015/02/weston-repaint-scheduling.html\"\u003eWeston repaint scheduling\u003c/a\u003e\u003c/p\u003e\n\u003ch1 id=\"week20-0519\"\u003eWeek20 (05/19)\u003c/h1\u003e\n\u003cp\u003eWaylandçš„weston compositorå¯é€é\u003ca href=\"https://github.com/ppaalanen/wesgr\"\u003ewesgr\u003c/a\u003eä¾†åˆ†ærepaintéç¨‹.\nglmark2-es2-wayland åŠ å…¥debugå»çœ‹glmark repaintéç¨‹\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003e[18:50:21.959]  canvas_clear 1510 us\n[18:50:21.960]  scenc_draw 389 us\n[18:50:21.960]  scenc_update 159 us\n[18:50:21.960] weston weston_output_repaint[+]\n[18:50:21.960] weston surface_flush_damage\n[18:50:21.960]  weston surface_flush_damage\n[18:50:21.961] weston surface_flush_damage\n[18:50:21.961] weston surface_flush_damage\n[18:50:21.969] weston weston_output_repaint[-]\n[18:50:21.970] weston weston_output_finish_frame\n[18:50:21.972] weston weston_surface_commit_state\n[18:50:21.972] weston core_repaint_req\n[18:50:21.972] canvas_update 12193 us\n[18:50:21.972]  glmark2 draw 14443 us\n\u003c/code\u003e\u003c/pre\u003e\u003ch2 id=\"ç¶²è·¯æ–‡ç« -2\"\u003eç¶²è·¯æ–‡ç« \u003c/h2\u003e\n\u003cp\u003e\u003ca href=\"https://engineering.linkedin.com/blog/2017/05/boosting-site-speed-using-brotli-compression\"\u003eBoosting Site Speed Using Brotli Compression\u003c/a\u003e\u003cbr\u003e\nLinkedIn ä½¿ç”¨Brotli å£“ç¸®æé«˜ç¶²é çš„ç€è¦½é€Ÿåº¦, ä¸¦ä½¿ç”¨JavaScriptæª”æ¡ˆåšäº†Brotli, Zopfli, and gzipæ¼”ç®—æ³•æ¯”è¼ƒ,\u003cbr\u003e\nå£“ç¸®å¾Œçš„ç©ºé–“ä»¥\u003ccode\u003egzip -6\u003c/code\u003eç‚ºåŸºæº–\u003ccode\u003eBrotil -11\u003c/code\u003eçµçœ30%, \u003ccode\u003eBrotli -5\u003c/code\u003eçµçœ14%å·¦å³, \u003ccode\u003eZopfli -1000\u003c/code\u003eçµçœç´„5%.\u003cbr\u003e\næ™‚é–“ä¸Š\u003ccode\u003egzip -6\u003c/code\u003e å£“ç¸®169ms, è§£å£“35ms, \u003ccode\u003eBrotli -11\u003c/code\u003e å£“ç¸®11913ms, è§£å£“22ms, Brotliå£“ç¸®æ™‚é–“èŠ±çš„è¼ƒé•·, ä½†è§£å£“åŠå£“ç¸®ç‡å®Œå‹.\u003cbr\u003e\næœ€çµ‚çš„A/B Test, ç¶²é åœ¨ç¾åœ‹åœ°å€å¿«äº†2\u003cdel\u003e3.6%, å°åº¦åœ°å€å¿«äº†6\u003c/del\u003e6.5%.\u003cbr\u003e\nLinkedIn è¨ˆåŠƒæ¡ç”¨Dynamic Brotli è™•ç†å‹•æ…‹è³‡æ–™(Base HTML document, JSON API responses, etc.), ä¹Ÿéœ€è¦æ”¹å–„gzipä»¥é…åˆä¸æ”¯æ´Brotliçš„Browser.\u003cbr\u003e\nBrowser support:\u003c/p\u003e","title":"LGS Hell"},{"content":"Linux graphic æ¶æ§‹é‚„æ»¿è¤‡é›œçš„, åœ¨çœ‹æ™‚éœ€è¦å¤§ç•¥äº†è§£å‡ å€‹åè©åŠä¹‹é–“çš„é—œä¿‚.\nX Window System:\nç›®å‰ä¾†åˆ°ç¬¬11ç‰ˆæœ¬æ‰€ä»¥å«X11, æ˜¯ä»¥X window System Core protocolç‚ºåŸºç¤çš„window system.\nwayland:\nç”±æ–¼X11å¤ªéè¤‡é›œä¸”åœ¨embbeded systemä¸­çš„æ•ˆèƒ½ä¸ä½³, ç”¨ä¾†å–ä»£X window System Core protocol.\nweston (wayland compositor):\nä»¥wayland protocolä¾†å¯¦åšçš„compositoråšç‚ºåƒè€ƒçš„ç¯„ä¾‹, å¯¦ç”¨ä¸Šæœƒç”¨Westeros, Clutter\u0026hellip;ç­‰.\nKMS/UMS:\nKernel mode-setting åŠUser mode-setting.\nOpenGL: ç”±Khronos Groupåˆ¶å®šçš„è·¨å¹³å°graphic API.\nGLX:\næ˜¯ä¸€å€‹extension, åšç‚ºOpenGLèˆ‡X window systemä¹‹é–“çš„æ©‹æ¨‘. å°±åƒembedded systemçš„EGL, MacOSçš„AGL.\nDRM(Direct Rendering Manager):\nç‚ºäº†é˜²æ­¢ä¸–ç•Œè¢«ç ´å£, ä¿è­·ä¸–ç•Œçš„å’Œå¹³. é˜²æ­¢åŒæ™‚ä½¿ç”¨graphic buffer.\nDRI(Direct Rendering Infrastructure):\nMesaåŠDRMä¹‹é–“çš„æ©‹æ¨‘. Ref: Introduction to the Direct Rendering Infrastructure\nCRTC (CRT Controller):\nCrtc is in charge of reading the framebuffer memory and routes the data to an encoder.\nOther resources:\nLinux GPU Driver Developerâ€™s Guide\ndri-explanation.txt\nLinux Graphics Drivers: an Introduction\nDirect Rendering Manager (DRM)\nUsing Linux Media Controller for Wayland/Weston Renderer\nGraphics Stack Update\nGraphic Architectures Linux Graphics Stack 2013 Source\nIntel Graphics Stack Architecture Diagram Source\nWayland/X11 Graphics Architecture Source Android Graphics Architecture Source\n","permalink":"https://oopsmonk.github.io/posts/2017-05-30-linux-graphic-stack/","summary":"\u003cp\u003eLinux graphic æ¶æ§‹é‚„æ»¿è¤‡é›œçš„, åœ¨çœ‹æ™‚éœ€è¦å¤§ç•¥äº†è§£å‡ å€‹åè©åŠä¹‹é–“çš„é—œä¿‚.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ca href=\"https://en.wikipedia.org/wiki/X_Window_System\"\u003eX Window System\u003c/a\u003e:\u003cbr\u003e\nç›®å‰ä¾†åˆ°ç¬¬11ç‰ˆæœ¬æ‰€ä»¥å«X11, æ˜¯ä»¥\u003ca href=\"https://en.wikipedia.org/wiki/X_Window_System_core_protocol\"\u003eX window System Core protocol\u003c/a\u003eç‚ºåŸºç¤çš„window system.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ca href=\"https://en.wikipedia.org/wiki/Wayland_(display_server_protocol)\"\u003ewayland\u003c/a\u003e:\u003cbr\u003e\nç”±æ–¼X11å¤ªéè¤‡é›œä¸”åœ¨embbeded systemä¸­çš„æ•ˆèƒ½ä¸ä½³, ç”¨ä¾†å–ä»£X window System Core protocol.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eweston (wayland compositor):\u003cbr\u003e\nä»¥wayland protocolä¾†å¯¦åšçš„compositoråšç‚ºåƒè€ƒçš„ç¯„ä¾‹, å¯¦ç”¨ä¸Šæœƒç”¨Westeros, Clutter\u0026hellip;ç­‰.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ca href=\"https://en.wikipedia.org/wiki/Mode_setting\"\u003eKMS/UMS\u003c/a\u003e:\u003cbr\u003e\nKernel mode-setting åŠUser mode-setting.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eOpenGL:\nç”±\u003ca href=\"https://en.wikipedia.org/wiki/Khronos_Group\"\u003eKhronos Group\u003c/a\u003eåˆ¶å®šçš„è·¨å¹³å°graphic API.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eGLX:\u003cbr\u003e\næ˜¯ä¸€å€‹extension, åšç‚ºOpenGLèˆ‡X window systemä¹‹é–“çš„æ©‹æ¨‘. å°±åƒembedded systemçš„EGL, MacOSçš„AGL.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ca href=\"https://en.wikipedia.org/wiki/Direct_Rendering_Manager\"\u003eDRM(Direct Rendering Manager)\u003c/a\u003e:\u003cbr\u003e\nç‚ºäº†é˜²æ­¢ä¸–ç•Œè¢«ç ´å£, ä¿è­·ä¸–ç•Œçš„å’Œå¹³. é˜²æ­¢åŒæ™‚ä½¿ç”¨graphic buffer.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ca href=\"https://en.wikipedia.org/wiki/Direct_Rendering_Infrastructure\"\u003eDRI(Direct Rendering Infrastructure)\u003c/a\u003e:\u003cbr\u003e\nMesaåŠDRMä¹‹é–“çš„æ©‹æ¨‘. Ref: \u003ca href=\"http://dri.sourceforge.net/doc/DRIintro.html\"\u003eIntroduction to the Direct Rendering Infrastructure\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ca href=\"https://en.wikipedia.org/wiki/Video_display_controller\"\u003eCRTC (CRT Controller)\u003c/a\u003e:\u003cbr\u003e\nCrtc is in charge of reading the framebuffer memory and routes the data to an encoder.\u003c/p\u003e","title":"Linux Graphic Stackç›¸é—œçš„åè©"},{"content":"How to enable and test gzip in Nginx.\nOfficial document: ngx_http_gzip_module\nEnable gzip I use Raspberry Pi System Monitor to test gzip module.\nModify /etc/nginx/sites-available/default to enable gzip.\nIn this case I only change the RpiMonitor website in the server, you can apply it to global by /etc/nginx/nginx.conf\nlocation /rpi { proxy_pass http://127.0.0.1:9999/RpiMonitor; } Change to\nlocation /rpi { proxy_pass http://127.0.0.1:9999/RpiMonitor; gzip on; gzip_types text/plain text/css application/json application/javascript text/xml application/xml application/xml+rss text/javascript; gzip_proxied any; } Then reload nginx.conf via sudo nginx -s reload\nTest and Result Before gzip enable:\n$ curl -I -H \u0026#34;Accept-Encoding: gzip\u0026#34; http://xxx.xxx.com.tw/rpi/assets/javascriptrrd.wlibs.min.js HTTP/1.1 200 OK Server: nginx/1.6.2 Date: Fri, 19 May 2017 07:13:57 GMT Content-Type: application/javascript Content-Length: 212364 Connection: keep-alive Last-Modified: Tue, 30 Dec 2014 06:47:20 GMT Accept-Ranges: bytes After gzip enable:\n$ curl -I -H \u0026#34;Accept-Encoding: gzip\u0026#34; http://xxx.xxx.com.tw/rpi/assets/javascriptrrd.wlibs.min.js HTTP/1.1 200 OK Server: nginx/1.6.2 Date: Fri, 19 May 2017 07:14:37 GMT Content-Type: application/javascript Connection: keep-alive Last-Modified: Tue, 30 Dec 2014 06:47:20 GMT Content-Encoding: gzip WebPage Speed Analysis result:\nAdditional resource - How to: Brotli compression with Nginx\n","permalink":"https://oopsmonk.github.io/posts/2017-05-19-enable-gzip-compression-in-nginx/","summary":"\u003cp\u003eHow to enable and test gzip in Nginx.\u003c/p\u003e\n\u003cp\u003eOfficial document: \u003ca href=\"http://nginx.org/en/docs/http/ngx_http_gzip_module.html\"\u003engx_http_gzip_module\u003c/a\u003e\u003c/p\u003e\n\u003ch2 id=\"enable-gzip\"\u003eEnable gzip\u003c/h2\u003e\n\u003cp\u003eI use \u003ca href=\"https://github.com/oopsmonk/rpi-monitor\"\u003eRaspberry Pi System Monitor\u003c/a\u003e to test gzip module.\u003cbr\u003e\nModify \u003ccode\u003e/etc/nginx/sites-available/default\u003c/code\u003e to enable gzip.\u003cbr\u003e\nIn this case I only change the RpiMonitor website in the server, you can apply it to global by \u003ccode\u003e/etc/nginx/nginx.conf\u003c/code\u003e\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003elocation /rpi {\n\tproxy_pass http://127.0.0.1:9999/RpiMonitor;\n}\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eChange to\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003elocation /rpi {\n\tproxy_pass http://127.0.0.1:9999/RpiMonitor;\n\tgzip on;\n\tgzip_types text/plain text/css application/json application/javascript text/xml application/xml application/xml+rss text/javascript;\n\tgzip_proxied any;\n}\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThen reload nginx.conf via \u003ccode\u003esudo nginx -s reload\u003c/code\u003e\u003c/p\u003e","title":"Enable gzip compression in Nginx"},{"content":"ä»¥å‰çƒéšŠåœ¨å›é˜²æ™‚, æ•™ç·´ç¸½æœƒèªª\u0026quot;å¿«è·‘! åˆ¥å›é ­, åˆ°å®šé»å†ä¼‘æ¯\u0026quot;.\né—œæ–¼äººç”Ÿ, å–˜æ¯é»åœ¨å“ªå…’? æˆ‘æƒ³å°±åœ¨æ»´æ°´ç©¿çŸ³ä¹‹é–“!\nå¤±é€Ÿçš„é€™å€‹æœˆ\nWeek14 (04/07) ç¶²è·¯æ–‡ç«  Adding A New System Service To Android 5: Tips and How To\nç”±ä¸‹åˆ°ä¸Šæ‰“é€ ä¸€å€‹android system service. HW -\u0026gt; HAL -\u0026gt; JNI -\u0026gt; Service -\u0026gt; Manager -\u0026gt; Registering.\nAdding New System Service in Android\nNative system service.\n33 Foods that Starve Cancer\næ»¿æœ‰è¶£çš„è«–é», ç´°èƒæ²’æœ‰supplementæœƒæ­»äº¡æ²’éŒ¯, ä½†microscopic cancersèƒ½å¦è‡ªå·±ç”Ÿå‡ºæ–°çš„è¡€ç®¡?\nå¤§éƒ¨ä»½çš„ç™Œç—‡ç„¡é—œåŸºå› , è¶…é40æ­²é«”å…§é›£å…æœƒæœ‰microscopic cells, ä¸¦å¯èƒ½è½‰è®Šæˆcancer cells?\nWeek15 (04/14) img2ascii.py åƒè€ƒç¶²è·¯ä¸Šçš„åšæ³•, åŠ äº†äº›åƒæ•¸æ–¹ä¾¿èª¿æ•´è¼¸å‡ºçš„å…§å®¹. pillowæä¾›ä¾¿åˆ©çš„API.\nç¶²è·¯æ–‡ç«  Every attempt to manage academia makes it worse\nGoodhartâ€™s Lawï¼š \u0026ldquo;When a measure becomes a target, it ceases to be a good measure.\u0026rdquo;\nç‚ºäº†æ‰“åˆ†æ•¸è€Œè¨‚å‡ºçš„è©•åˆ†ç³»çµ±, ä¸å°±æ˜¯è€ƒè©¦?!\nè¡¡é‡å°éŒ¯æœ¬ä¾†å°±å¾ˆé›£ï¼ˆä¹Ÿè¨±æœ¬èº«å°±æ˜¯å€‹å‡è­°é¡Œï¼‰, å°±åƒ\u0026quot;æ‰¾åˆ°ä¸€å€‹å°çš„äººåšå°çš„äº‹\u0026quot;.\nThe Cobra Effectï¼š åœ¨å¤§å…¬å¸æ‡‰è©²æ˜¯ç„¡å¯é¿å…çš„. ç¶²è·¯è³‡æº Python libhunt\nå¯ç”¨æ‰¾lib, æ¯”è¼ƒlibä¹‹é–“çš„æ´»èºç¨‹åº¦, Code Quality L1æ˜¯è¼ƒå·®, L5è¼ƒä½³.\né™¤äº†pythonä¹‹å¤–, é‚„æœ‰C++, Android, Java, Javascript\u0026hellip;ç­‰. è®€æ›¸å¿ƒå¾— The Handstand Builder For Women - Week1\nRecap Week1, æœ‰äº›äººèªªHandstandä¸å¤ªéœ€è¦flexibility, æˆ‘çš„ç¶“é©—æ˜¯stretchesä¹Ÿæ˜¯å¾ˆé‡è¦çš„, éˆæ´»çš„é—œç¯€/å½ˆæ€§çš„è‚Œè‚‰èƒ½é¿å…é‹å‹•å‚·å®³. Reverse Plank: æœ‰åŠ©æ–¼å€’ç«‹æ™‚é–‹èƒ¸å§¿æ…‹\nHandstand against the wall: è®“èº«é«”ç¿’æ…£å€’ç«‹å§¿æ…‹\nCrescent Lunge/Seated Hamstring Stretch: è…¿é›¢åœ°æ™‚è…³ç­‹çš„æŸ”è»Ÿåº¦å¾ˆé‡è¦, æŸ”è»Ÿåº¦ä¸å¤ éœ€è¦æ›´å¤§çš„è‚ŒåŠ›åšå¹³è¡¡. Week16 (04/21) ç¶²è·¯æ–‡ç«  What is the difference between venv, pyvenv, pyenv, virtualenv, virtualenvwrapper, pipenv, etc?\nä¸€èˆ¬æ˜¯ç”¨virtualenvæ¸¬è©¦moduleéœ€è¦å“ªäº›python packages, pyenvä¾†æ¸¬è©¦moduleåœ¨ä¸åŒçš„python2.6, python2.7, python3.5, python3.6æ˜¯å¦æ­£å¸¸.\nvirtualenvwrapperæ˜¯åŠ å¼·virtualenvçš„plugin, å°‡ä¸åŒçš„ç’°å¢ƒæ”¾åœ¨åŒä¸€å€‹ç›®éŒ„æ–¹ä¾¿ç®¡ç†.\nWhat is Data Science? 24 Fundamental Articles Answering This Question\nData Scienceè¦çš„æ˜¯é€šæ‰.\nbuildRoot study - å»ºç«‹è‡ªå·±çš„ä½œæ¥­ç³»çµ±\nBuildrootæ¶æ§‹è§£æ\nç¶²è·¯è³‡æº free electrons Doc\nBuildroot and Embedded Linux ç›¸é—œè³‡æº\n500 Data structures and algorithms interview questions and their solutions\né¢è©¦æ™‚çš„è³‡æ–™çµæ§‹èˆ‡æ¼”ç®—æ³•è€ƒé¡ŒåŠè§£æ³•, ä¾†æº: http://www.techiedelight.com/\nè®€æ›¸å¿ƒå¾— Telling children \u0026lsquo;hard work gets you to the top\u0026rsquo; is simply a lie\nWorking hard is the starting line, so much more is required.\nYou need to adapt yourself. You need to find the right way to speak to different people, at different times in different contexts. This is not compromising who you are, but rather adapting to the relevant surroundings. Week17 (04/28) æ²’æ™‚é–“åšleetcode Challenge\u0026hellip;.gg\nç¶²è·¯æ–‡ç«  Announcing WebKit for Wayland (WPE)\nThe Hello Wayland Tutorial\nç¶²è·¯è³‡æº WebKit + Gstreamer + WebGL + Canvas + MSE + EME\nProgramming Wayland Clients\nlibinput\nè®€æ›¸å¿ƒå¾— æ‘¸æ‘¸Wayland/Weston/WPE, äº†è§£å¤§æ–¹å‘.\nBuildroot https://buildroot.org/docs.html, http://free-electrons.com/\né¡ä¼¼yocto, LFS(Linux From Scratch), free electronsé€™å®¶å…¬å¸æœ‰æä¾›æ•™è‚²è¨“ç·´.\nWPE ï¼ˆWebKit Wayland, Web Platform for Embeddedï¼‰\nç”±MetrologicalåŠIgaliaåœ¨é–‹ç™¼, ä¸»è¦ç”¨æ–¼åŸºæ–¼Webkit2 + Waylandçš„å¹³å°.\nWebkitåŸæœ¬æ˜¯ single process, Webkit2ç‚ºmulit-processæ¶æ§‹. https://trac.webkit.org/wiki/WebKit2\nWayland (Wayland protocol) https://wayland.freedesktop.org/docs/html/\nä¸»è¦å› ç‚ºLinux X serverå¤ªéæ–¼è¤‡é›œåŠæ•ˆèƒ½ä¸ä½³(render,compositoréƒ½åœ¨window managerå®Œæˆ), æ¨å‡ºclient-server æ¶æ§‹çš„protocol, åœ¨clientç‚ºrenderï¼Œ serverç‚ºcompositorï¼Œ ä¸¦åˆ†äº«memory bufferåšåˆ°zero copy, èƒ½å¤ ç¢ºä¿æ¯å€‹output frameéƒ½æ˜¯å®Œæ•´çš„.\nWiki - https://goo.gl/ukqgJC\nWeston (compositor/ wayland server):\nWaylandè£¡çš„server sideï¼Œ å…¶å®ƒçš„æœ‰Westeros, Mutter, KWin\u0026hellip;\nåœ¨RPi åŠ Xubuntu ç³»çµ±æŠŠç©WPE/Wayland/Weston Buildroot for WPE - https://github.com/WebPlatformForEmbedded/buildroot\nRaspberry Pi 3 with WPEï¼š\nmake raspberrypi3_wpe_defconfig \u0026amp;\u0026amp; make -j32\nå¯ä»¥ç·¨å‡ºoutput/images/sdcard.img\nraspberrypi3_wpe_ml_defconfigå¥½åƒæ˜¯ä½¿ç”¨mlbrwoseræ²’æœ‰è©³ç´°ç ”ç©¶\nwestonè·‘èµ·ä¾†æ˜¯ä½¿ç”¨fbdev-backend\nä½¿ç”¨YoutubeTV\nwpe https://youtube.com/tv å¯ä»¥æ’­å½±ç‰‡åŠç”¨éµç›¤æ“æ§ï¼Œ ç„¡æ³•ä½¿ç”¨æ»‘é¼ .\nè·‘èµ·ä¾†å¾Œpså¯çœ‹åˆ°\n703 root {wpe} /bin/sh /usr/bin/wpe https://youtube.com/tv 707 root WPELauncher https://youtube.com/tv 712 root /usr/bin/WPENetworkProcess 7 715 root /usr/bin/WPEWebProcess 14 -1 ä½¿ç”¨Youtube ç¶²ç«™\nwpe https://www.youtube.com æœ‰ç•«é¢ä½†ç„¡æ³•æ“æ§\nwayland-build-tools - https://github.com/wayland-project/wayland-build-tools\nVirtualboxè£ Xubuntu 16.04.2 LTSæ¸¬è©¦, è·‘èµ·ä¾†æ˜¯ä½¿ç”¨x11-backend\nleetcode Challenge - C lang åˆ©ç”¨ç‘£ç¢çš„æ™‚é–“å®Œæˆleetcodeä¸ŠåŸºæœ¬(easy)çš„é¡Œç›®.\nNo20_ValidParentheses.c\né€™å€‹åšæ³•åœ¨mallocæœƒæœ‰å¤ªå¤§æˆ–å¤ªå°çš„å•é¡Œ.\nNo155_MinStack.c\nminStackGetMinç”¨for loopæ˜¯å·æ‡¶çš„åšæ³•.\n","permalink":"https://oopsmonk.github.io/posts/2017-04-01-2017month4/","summary":"\u003cp\u003eä»¥å‰çƒéšŠåœ¨å›é˜²æ™‚, æ•™ç·´ç¸½æœƒèªª\u0026quot;å¿«è·‘! åˆ¥å›é ­, åˆ°å®šé»å†ä¼‘æ¯\u0026quot;.\u003cbr\u003e\né—œæ–¼äººç”Ÿ, å–˜æ¯é»åœ¨å“ªå…’? æˆ‘æƒ³å°±åœ¨æ»´æ°´ç©¿çŸ³ä¹‹é–“!\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eå¤±é€Ÿçš„é€™å€‹æœˆ\u003c/strong\u003e\u003c/p\u003e\n\u003ch1 id=\"week14-0407\"\u003eWeek14 (04/07)\u003c/h1\u003e\n\u003ch2 id=\"ç¶²è·¯æ–‡ç« \"\u003eç¶²è·¯æ–‡ç« \u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ca href=\"https://www.linaro.org/blog/adding-a-new-system-service-to-android-5-tips-and-how-to/\"\u003eAdding A New System Service To Android 5: Tips and How To\u003c/a\u003e\u003cbr\u003e\nç”±ä¸‹åˆ°ä¸Šæ‰“é€ ä¸€å€‹android system service. HW -\u0026gt; HAL -\u0026gt; JNI -\u0026gt; Service -\u0026gt; Manager -\u0026gt; Registering.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ca href=\"http://shriduttkothari.blogspot.tw/2013/05/adding-new-system-service-in-android_24.html\"\u003eAdding New System Service in Android\u003c/a\u003e\u003cbr\u003e\nNative system service.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ca href=\"http://www.thealternativedaily.com/33-foods-starve-cancer/\"\u003e33 Foods that Starve Cancer\u003c/a\u003e\u003cbr\u003e\næ»¿æœ‰è¶£çš„è«–é», ç´°èƒæ²’æœ‰supplementæœƒæ­»äº¡æ²’éŒ¯, ä½†microscopic cancersèƒ½å¦è‡ªå·±ç”Ÿå‡ºæ–°çš„è¡€ç®¡?\u003cbr\u003e\nå¤§éƒ¨ä»½çš„ç™Œç—‡ç„¡é—œåŸºå› , è¶…é40æ­²é«”å…§é›£å…æœƒæœ‰microscopic cells, ä¸¦å¯èƒ½è½‰è®Šæˆcancer cells?\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch1 id=\"week15-0414\"\u003eWeek15 (04/14)\u003c/h1\u003e\n\u003cp\u003e\u003ca href=\"https://github.com/oopsmonk/PiPlayground/tree/master/img2ascii\"\u003eimg2ascii.py\u003c/a\u003e åƒè€ƒç¶²è·¯ä¸Šçš„åšæ³•, åŠ äº†äº›åƒæ•¸æ–¹ä¾¿èª¿æ•´è¼¸å‡ºçš„å…§å®¹. \u003ca href=\"https://python-pillow.org/\"\u003epillow\u003c/a\u003eæä¾›ä¾¿åˆ©çš„API.\u003c/p\u003e\n\u003ch2 id=\"ç¶²è·¯æ–‡ç« -1\"\u003eç¶²è·¯æ–‡ç« \u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://svpow.com/2017/03/17/every-attempt-to-manage-academia-makes-it-worse/\"\u003eEvery attempt to manage academia makes it worse\u003c/a\u003e\u003cbr\u003e\nGoodhartâ€™s Lawï¼š \u0026ldquo;When a measure becomes a target, it ceases to be a good measure.\u0026rdquo;\u003cbr\u003e\nç‚ºäº†æ‰“åˆ†æ•¸è€Œè¨‚å‡ºçš„è©•åˆ†ç³»çµ±, ä¸å°±æ˜¯è€ƒè©¦?!\u003cbr\u003e\nè¡¡é‡å°éŒ¯æœ¬ä¾†å°±å¾ˆé›£ï¼ˆä¹Ÿè¨±æœ¬èº«å°±æ˜¯å€‹å‡è­°é¡Œï¼‰, å°±åƒ\u0026quot;æ‰¾åˆ°ä¸€å€‹å°çš„äººåšå°çš„äº‹\u0026quot;.\u003cbr\u003e\nThe Cobra Effectï¼š åœ¨å¤§å…¬å¸æ‡‰è©²æ˜¯ç„¡å¯é¿å…çš„.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"ç¶²è·¯è³‡æº\"\u003eç¶²è·¯è³‡æº\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://python.libhunt.com/\"\u003ePython libhunt\u003c/a\u003e\u003cbr\u003e\nå¯ç”¨æ‰¾lib, æ¯”è¼ƒlibä¹‹é–“çš„æ´»èºç¨‹åº¦, Code Quality L1æ˜¯è¼ƒå·®, L5è¼ƒä½³.\u003cbr\u003e\né™¤äº†pythonä¹‹å¤–, é‚„æœ‰\u003ca href=\"https://cpp.libhunt.com/\"\u003eC++\u003c/a\u003e, \u003ca href=\"https://android.libhunt.com\"\u003eAndroid\u003c/a\u003e, \u003ca href=\"https://java.libhunt.com/\"\u003eJava\u003c/a\u003e, \u003ca href=\"https://js.libhunt.com/\"\u003eJavascript\u003c/a\u003e\u0026hellip;ç­‰.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"è®€æ›¸å¿ƒå¾—\"\u003eè®€æ›¸å¿ƒå¾—\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://breakingmuscle.com/category/tags/the-handstand-builder-for-women\"\u003eThe Handstand Builder For Women - Week1\u003c/a\u003e\u003cbr\u003e\nRecap Week1, æœ‰äº›äººèªªHandstandä¸å¤ªéœ€è¦flexibility, æˆ‘çš„ç¶“é©—æ˜¯stretchesä¹Ÿæ˜¯å¾ˆé‡è¦çš„, éˆæ´»çš„é—œç¯€/å½ˆæ€§çš„è‚Œè‚‰èƒ½é¿å…é‹å‹•å‚·å®³.\nReverse Plank: æœ‰åŠ©æ–¼å€’ç«‹æ™‚é–‹èƒ¸å§¿æ…‹\u003cbr\u003e\nHandstand against the wall: è®“èº«é«”ç¿’æ…£å€’ç«‹å§¿æ…‹\u003cbr\u003e\nCrescent Lunge/Seated Hamstring Stretch: è…¿é›¢åœ°æ™‚è…³ç­‹çš„æŸ”è»Ÿåº¦å¾ˆé‡è¦, æŸ”è»Ÿåº¦ä¸å¤ éœ€è¦æ›´å¤§çš„è‚ŒåŠ›åšå¹³è¡¡.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch1 id=\"week16-0421\"\u003eWeek16 (04/21)\u003c/h1\u003e\n\u003ch2 id=\"ç¶²è·¯æ–‡ç« -2\"\u003eç¶²è·¯æ–‡ç« \u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ca href=\"http://stackoverflow.com/questions/41573587/what-is-the-difference-between-venv-pyvenv-pyenv-virtualenv-virtualenvwrappe\"\u003eWhat is the difference between venv, pyvenv, pyenv, virtualenv, virtualenvwrapper, pipenv, etc?\u003c/a\u003e\u003cbr\u003e\nä¸€èˆ¬æ˜¯ç”¨\u003ca href=\"http://python-guide-pt-br.readthedocs.io/en/latest/dev/virtualenvs/\"\u003evirtualenv\u003c/a\u003eæ¸¬è©¦moduleéœ€è¦å“ªäº›python packages, \u003ca href=\"https://github.com/pyenv/pyenv\"\u003epyenv\u003c/a\u003eä¾†æ¸¬è©¦moduleåœ¨ä¸åŒçš„python2.6, python2.7, python3.5, python3.6æ˜¯å¦æ­£å¸¸.\u003cbr\u003e\n\u003ca href=\"https://virtualenvwrapper.readthedocs.io/en/latest/index.html\"\u003evirtualenvwrapper\u003c/a\u003eæ˜¯åŠ å¼·virtualenvçš„plugin, å°‡ä¸åŒçš„ç’°å¢ƒæ”¾åœ¨åŒä¸€å€‹ç›®éŒ„æ–¹ä¾¿ç®¡ç†.\u003c/p\u003e","title":"å¤±é€Ÿåˆ—è»Š"},{"content":"Study USB MTP Device and Host mode in Android M.\nSource Code Cross Reference: Android 6.0.1_r10\nMTP Device Mode Enable device mode:\nSettings -\u0026gt; Developer options -\u0026gt; Select USB Configuration -\u0026gt; MTP\nUsbDeviceManager: Setting USB config to mtp\ndevice/lge/hammerhead/init.hammerhead.usb.rc : on property:sys.usb.config=mtp\nsystem/core/rootdir/init.usb.configfs.rc: on property:sys.usb.config=mtp \u0026amp;\u0026amp; property:sys.usb.configfs=1\nUSB plug to PC:\nMtpReceiver: listen to android.hardware.usb.action.USB_STATE and bring up MtpService\nUsbDeviceManager: get uevent USB_STATE=CONFIGURED from kernel\nMtpService: create MtpDatabase MtpDatabase: create volume and storage path\nMtpService: starting MTP server in MTP mode\nStart transfer data to PC:\nMtpDatabase: getObjectList storageID 65537 , formate 0 , parent -1\nMtpDatabase: object_query to get object from media provider.\nHandle UEVENT from Kernel, UsbHandler send MSG_UPDATE_STATE to UsbDeviceManager\nframeworks/base/services/usb/java/com/android/server/usb/UsbDeviceManager.java handleUsbState start MTPService\npackages/providers/MediaProvider/src/com/android/providers/media/MtpReceiver.java Set USB function: setCurrentFunction\nframeworks/base/core/java/android/hardware/usb/UsbManager.java MTP Host Mode UsbHostManager uses monitorUsbHostBus function to monitor usbâ€™s event when system ready. monitorUsbHostBus is implemented at android_server_UsbHostManager_monitorUsbHostBus in JNI.\nframeworks/base/services/usb/java/com/android/server/usb/UsbHostManager.java frameworks/base/services/core/jni/com_android_server_UsbHostManager.cpp After receiving USB attach event(ACTION_USB_DEVICE_ATTACHED) UsbHostManager adds an USB device via endUsbDeviceAdded() function, and deviceAttached() is called to figure out which activity should be lunched. Meanwhile, MtpClient will try to open MTP device use openDeviceLocked() function.\nframeworks/base/services/usb/java/com/android/server/usb/UsbSettingsManager.java packages/apps/Gallery2/src/com/android/gallery3d/data/MtpClient.java In this case IngestActivity is selected from UsbSettingsManager::resolveActivity(). Because class is 6 and subclass is 1 in USB configuration that is matched in IngestActivityâ€™s device_fileter.xml file.\npackages/apps/Gallery2/res/xml/device_filter.xml When IngestActivity is created, it will bind to IngestService which handled MTP protocol and provided MTPâ€™s functionality.\npackages/apps/Gallery2/src/com/android/gallery3d/ingest/IngestActivity.java packages/apps/Gallery2/src/com/android/gallery3d/ingest/IngestService.java MTP device detection issue in host mode Android uses mClass, mSubclass, and mProtocal values in UsbInterface object to detect MTP devices.\nFor instance:\niPhone: UsbInterface[mId=0,mAlternateSetting=0,mName=null,mClass=6,mSubclass=1,mProtocol=1 Samsung: UsbInterface[mId=0,mAlternateSetting=0,mName=MTP,mClass=6,mSubclass=1,mProtocol=1 Sony: UsbInterface[mId=0,mAlternateSetting=0,mName=MTP,mClass=255,mSubclass=255,mProtocol=0 The Sony cannot recognised as a MTP device.\nWe can modify MtpClient and device_filter.xml to fix this issue.\nRelate source code packages/providers/MediaProvider/src/com/android/providers/media/MtpReceiver.java packages/providers/MediaProvider/src/com/android/providers/media/MtpService.java packages/providers/MediaProvider/AndroidManifest.xml frameworks/base/services/usb/java/com/android/server/usb/ frameworks/base/media/java/android/mtp/ frameworks/base/media/jni/android_mtp_* frameworks/av/media/mtp/ device/lge/hammerhead/init.hammerhead.usb.rc system/core/rootdir/init.usb.configfs.rc ","permalink":"https://oopsmonk.github.io/posts/2017-04-18-android-usb-media-transfer-protocol/","summary":"\u003cp\u003eStudy USB MTP Device and Host mode in Android M.\u003cbr\u003e\nSource Code Cross Reference: \u003ca href=\"http://androidxref.com/6.0.1_r10/\"\u003eAndroid 6.0.1_r10\u003c/a\u003e\u003c/p\u003e\n\u003ch2 id=\"mtp-device-mode\"\u003eMTP Device Mode\u003c/h2\u003e\n\u003cp\u003e\u003cstrong\u003eEnable device mode:\u003c/strong\u003e\u003cbr\u003e\nSettings -\u0026gt; Developer options -\u0026gt; Select USB Configuration -\u0026gt; MTP\u003cbr\u003e\nUsbDeviceManager: Setting USB config to mtp\u003cbr\u003e\ndevice/lge/hammerhead/init.hammerhead.usb.rc : on property:sys.usb.config=mtp\u003cbr\u003e\nsystem/core/rootdir/init.usb.configfs.rc: on property:sys.usb.config=mtp \u0026amp;\u0026amp; property:sys.usb.configfs=1\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eUSB plug to PC:\u003c/strong\u003e\u003cbr\u003e\nMtpReceiver: listen to android.hardware.usb.action.USB_STATE and bring up MtpService\u003cbr\u003e\nUsbDeviceManager: get uevent USB_STATE=CONFIGURED from kernel\u003cbr\u003e\nMtpService: create MtpDatabase\nMtpDatabase: create volume and storage path\u003cbr\u003e\nMtpService: starting MTP server in MTP mode\u003c/p\u003e","title":"Android USB Media Transfer Protocol(MPT)"},{"content":"ä»¥å‰çƒéšŠåœ¨å›é˜²æ™‚, æ•™ç·´ç¸½æœƒèªª\u0026quot;å¿«è·‘! åˆ¥å›é ­, åˆ°å®šé»å†ä¼‘æ¯\u0026quot;.\né—œæ–¼äººç”Ÿ, å–˜æ¯é»åœ¨å“ªå…’? æˆ‘æƒ³å°±åœ¨æ»´æ°´ç©¿çŸ³ä¹‹é–“!\nWeek9 (03/03) 228çš„4å¤©é€£å‡è®“é€™é€±éçš„ç‰¹åˆ¥å¿«.\nç¶²è·¯æ–‡ç«  What Americans can learn from other food cultures Google breaks SHA-1 web crypto for good but Torvalds plays down impact on Git Announcing the first SHA1 collision Google å…¬æ€–èˆ‡CWI Amsterdamåˆä½œç”Ÿå‡ºäº†ç¬¬ä¸€å€‹SHA-1 collision, å°æ–¼ä½¿ç”¨SHA-1çš„Gitä¾†èªªæœƒæœ‰ä»€éº¼å½±éŸ¿?\nç›®å‰çœ‹ä¾†æ˜¯å½±éŸ¿ä¸å¤§, ä¸»å› å¦‚ä¸‹: Git remote èˆ‡ local ç™¼ç”Ÿè¡çªæ™‚localä¸¦ä¸æœƒè¢«override. ç›¸è¼ƒæ–¼Git, PDFæª”æ˜¯è¼ƒå®¹æ˜“è¢«ç ´è§£çš„. Gitå¯èƒ½æœƒè¨ˆåŠƒä½¿ç”¨SHA3-256ç‚ºæ–°çš„hash algorithm.\nç‚ºä»€éº¼ä¸é¸SHA256? \u0026ldquo;SHA256 acceleration is mainly an ARM thing\u0026rdquo; - Torvalds ç¶²è·¯è³‡æº Math is Fun: Common Core Standards: åŸºæœ¬æ•¸å­¸. è®€æ›¸å¿ƒå¾— Learning How to Learn - Week1\né€™é€±ä»¥ç§‘å­¸ç ”ç©¶ä¾†çœ‹å¤§è…¦å°æ–¼å­¸ç¿’çš„åæ‡‰ å¯ä»¥æŠŠå­¸ç¿’çœ‹çš„å¾ˆå–®ç´”, å°±æ˜¯\u0026quot;ä¸æ–·\u0026quot;çš„å¸æ”¶åŠç·´ç¿’, \u0026ldquo;ä¸æ–·\u0026quot;æ„æŒ‡é•·é çš„æ™‚é–“1å¹´, 5å¹´, 10å¹´\u0026hellip;ç­‰, è€Œä¸æ˜¯æŒ‡ç•¶ä¸‹ä¸æ–·çš„è¡Œç‚º. å¾ˆå¤šåäººå‚³è¨˜éƒ½æœ‰æåŠä»–å€‘çš„çœ‹æ›¸ç¿’æ…£, Ex: Steven Jobs and Elon Musk. Think mode: focus, and diffuse. After leaning and sleeping brain form many synapses on the dendrite in your brain that is how your brain upgrade after a sleep or nap. Procrastination - The Pomodoro Technique: an intense 25 minutes followed by 5 minutes relaxation or a little reward. Memory - long term memory and working memory are two major memory systems. Research has shown that if you try to glue things into your memory by repeating something twenty times in one evening, for example, it wonâ€™t stick nearly as well as if you practice it the same number of times over several days. Sleep - When you sleep, your brain cells shrink, which allows toxins to be more easily washed away. Week10 (03/10) ç¶²è·¯æ–‡ç«  I Was Wrong About Speed Reading: Here are the Facts\nReadingåŒ…å«å‡ ç¨®ä¸åŒçš„æ–¹æ³•: saccade, scan, and skim. ä»¥å‰åªçŸ¥é“scan and skim, ä½†saccadÃ©æ˜¯æ³•æ–‡, æ„æ€è·Ÿscanä¼¼ä¹æ˜¯ä¸€æ¨£çš„.\nåœ¨readingæ™‚æœ‰å‡ å€‹éç¨‹: fixate, saccade and process.\nSubvocalizationæ˜¯å¿…è¦çš„, ç”¨ä¾†å¹«åŠ©ç†è§£(process).\nå¾è§£å‰–å­¸åŠç¥ç¶“å­¸ä¾†çœ‹, é€Ÿè®€æ˜¯æœ‰æ¥µé™çš„. è‹±æ–‡æ¥µé™ç´„500wpm, è¶…éé€™å€‹é€Ÿåº¦é‚„èƒ½è®€æ‡‚æ–‡ç« , æˆ‘æƒ³å°æ–¼æ–‡ç« å…§å®¹å¾ˆç†Ÿçš„æˆä»½å±…å¤š.\næ–‡ä¸­æåˆ°çš„tipså…¶å¯¦å°±æ˜¯six-way paragraphsçš„æ–¹æ³•.\nGoogleâ€™s new machine learning API recognizes objects in videos\nè®€æ›¸å¿ƒå¾— Tuesdays with Morrie\nThe Professorç« ç¯€è£¡æåˆ°Morrieçš„æ‚²æ…˜çš„ç«¥å¹´, é¢å°è®€æ¯è¦ªè¨ƒèçµ¦çˆ¶è¦ªé™°å½±åŠå¼Ÿå¼Ÿç”Ÿç—…çš„è‡ªè²¬, ç¹¼æ¯çœ‹ä¼¼æ˜¯è®“ä»–è„«èƒæ›éª¨çš„é–‹å§‹.\nç¬¬å››é€±è«‡åˆ°æ­»äº¡, Morrieçš„è§€é»æ˜¯æ²’äººæœƒæ¥å—è‡ªå·±æ­»äº¡çš„äº‹å¯¦, ä¸€æ—¦æ¥å—æ­»äº¡\u0026quot;you might not be as ambitious as you are\u0026rdquo;. åœ¨è¿°èªªå¤§éƒ¨ä»½äººå€‘é¢å°æ­»äº¡æ˜¯ç”¨è¼ƒæ¶ˆæ¥µçš„æ–¹å¼.\nçˆ¶æ¯æ‹‰æ‹”å­©å­é•·å¤§çš„éç¨‹, æ™‚è€Œåœ°ç„æ™‚è€Œå¤©å ‚, å°å­©å­ä¾†èªªçŸ­æš«åå¹¾å¹´å»å½±éŸ¿äº†ä¸€è¼©å­, å…©è€…çš†å¾—åˆ°äº†ç„¡é™å¸Œæœ›, ä¹Ÿç›¸äº’å­¸ç¿’.\n\u0026ldquo;Once you lean how to die, you learn how to live.\u0026rdquo; - Morrie, The Fourth Tuesday We Talk About Death, p82.\nå¾åˆ¥äººçš„æ­»äº¡ä¸­ä¾†çœ‹å¾…è‡ªå·±è¦å¦‚ä½•éæ´», ä½ ä¸æœƒå¾è‡ªå·±çš„æ­»äº¡ä¸­å­¸åˆ°, å¦‚æœæ˜¯, é‚£ä¹Ÿè¨±å¤ªæ™šäº†. \u0026ldquo;This is part of what a family is about, not just love, but letting others know there\u0026rsquo;s someone who is watching out for them.\u0026rdquo; - Morrie, The Fifth Tuesday We Talk About Family, p92. Learning How to Learn - Week2\næåˆ°Chunking, æŠŠå­¸ç¿’çœ‹æˆæ˜¯æ‹¼åœ–, chunkså°±æ˜¯ç”±å°ç¢ç‰‡å½¢æˆçš„ä¸€å¡Šå¡Šå¤§ç¢ç‰‡, å°‡chunksæ…¢æ…¢æ‹¼åœ¨ä¸€èµ·å¾Œçœ‹åˆ°è¼ªå»“, æ¥è‘—çœ‹åˆ°æƒ³å‘ˆç¾çš„å«æ„. ä½†å­¸ç¿’çµ‚ç©¶ä¸æ˜¯æ‹¼åœ–, å¯ä»¥å®Œç¾çš„æŠŠå°ç¢ç‰‡æ”¾åœ¨æ­£ç¢ºä½ç½®.\nä¸€æ˜§çš„reread or draw conceptæ•ˆåŠ›ä¸å¦‚recallä¾†çš„å¥½.\nåˆå­¸è€…å¤ªå°ˆæ³¨æ–¼ç´°ç¯€æœƒé™ä½å­¸ç¿’çš„æˆæ•ˆ.\nRecall is a way to connect mini-chunks and help learn new materials.\nOverlearning cannot help learn deeply and may build a fence which is blocked out creativity.\nOne common mistake that learners make is to refuse to move on in their reading until they fully understand the material in the book in front of them. Chunks are best built up with: focused attention, understanding(of the basic idea), and practice(build a context from chunks). Deliberate practice: Focusing intently on the parts of the problem that are more difficult to you. Week11 (03/17) ç¶²è·¯æ–‡ç«  Be lucky - it\u0026rsquo;s an easy skill to learn\nThe difference between lucky and unlucky person - try everything.\nWhat does O(log n) mean exactly?\nThe most common attributes of logarithmic running-time function are that:\nthe choice of the next element on which to perform some action is one of several possibilities, and only one will need to be chosen.\nor\nthe elements on which the action is performed are digits of n\nç¶²è·¯è³‡æº æ‰‹æ©Ÿè£¡é ­çš„ ARM è™•ç†å™¨\næ‰‹æ©Ÿè£¡çš„ ARM è™•ç†å™¨: ç³»åˆ—è¬›åº§å°è«– 3/15 è½å®…è‰²å¤«å¤§å¤§èŠå¤©, å›é¡§2007ç¬¬ä¸€æ¬¡ç”¨ARM926çš„ç¾å¥½å›æ†¶, ç•¶æ™‚æ•¸ä½ç›¸æ¡†æ­£å¤¯, Android/iPoneå‡ºç¾å¾Œå³å‡ºç¾æˆ²åŠ‡åŒ–çš„æƒ…æ³.\nFunctional C (pdf)\nè®€æ›¸å¿ƒå¾— Learning How to Learn - Week3\nProcrastination æ˜¯å¤©æ€§, what are cues of procrastination? find them and face them.\nTackling procrastination: TODO list, delay rewards, backup plans, be confidence and belief your system.\nUsing memory tricks to improve the long term memory. Ex: é¤“çš„è©±æ¯æ—¥ç†¬ä¸€é·¹. Group memory with familiar things.\nFor long term memory, repeating and practicing in one day is a bad idea. Week12 (03/24) æ™‚é–“ä¸å¤ ç”¨, ä½†äº‹æƒ…ç¸½æ˜¯æ€¥ä¸å¾—\u0026hellip; æ¯å¤©è¦ç¡å¥½ç¡æ»¿, é¿å…é¬¼æ‰“ç‰†!\n\u0026ldquo;Each night, when I go to sleep, I die. And the next morning, when I wake up, I am reborn.\u0026rdquo; - Mahatma Gandhi\nç¶²è·¯æ–‡ç«  10 Fundamental Truths That Will Change Your Life\næœ‰æ™‚é‚„æ˜¯è¦æé†’è‡ªå·±, åˆ¥å¤ªé‘½ç‰›è§’å°–, é©æ™‚çš„é€€ä¸€æ­¥æƒ³æ¸…æ¥š. ç¶²è·¯è³‡æº Diagnosing Native Crashes\nèªªæ˜å¯èƒ½é€ æˆcrasheåŸå›  è®€æ›¸å¿ƒå¾— Learning How to Learn - Week4(Final)\nå¤šé‹ç”¨æ¯”å–»æ³•åŠæƒ³åƒåŠ›, å°‡å­¸ç¿’å…§å®¹æ¯”å–»(å¥—ç”¨)åœ¨ä¸åŒçš„äº‹ç‰©ä¸Š.\nNo need for genius envy. Everyone has different gifts. When one door closes, another opens. Keep your chin up and your eye on the open door.\nThe Impostor syndromeæ˜¯å¸¸è¦‹çš„ç¾åƒ.\nAbout Right/Left hemisphere, å¸¸è½åˆ°çš„å·¦å³è…¦è¨“ç·´, æ‡‰è©²æ˜¯èª²ç¨‹æåˆ°çš„diffuse/focus modeçš„é‹ç”¨, ç ”ç©¶æŒ‡å‡ºåšçµè«–æˆ–ç•«big pictureæ™‚ç”¨çš„æ˜¯å³è…¦, å·¦è…¦å‰‡æ˜¯å°ˆå¿ƒåœ¨ç´°ç¯€.\nçµè«–: å­¸ç¿’æ˜¯æ€¥ä¸å¾—çš„, éœ€è¦é•·æ™‚é–“ç·´ç¿’åŠä¸æ–·æŒ‘æˆ°, å¦‚åŒè‚Œè‚‰è¨“ç·´. Thinking, slow and fast.\nTuesdays with Morrie\né—œæ–¼å¹´ç´€çš„ææ‡¼åŠå¿Œå¦’å¿ƒéƒ½æ˜¯æœ‰åŸå› çš„, find it and let it go.\né‡‘éŒ¢ä»èº«å¤–ä¹‹ç‰©, ä½†Moneyé€™ç« ç¯€çš„è‘—å¢¨ä¸å¤š.\nThe satisfaction of lives not come from money, but because of you are needed. And understanding why you are needed is important. People always say, \u0026ldquo;Oh, if I were young again.\u0026rdquo; He smiled. \u0026ldquo;You know what that reflects? Unsatisfied lives. Unfulfilled lives. Lives that haven\u0026rsquo;t found meaning.\u0026rdquo; - Morrie, The Seventh Tuesday We Talk About the Fear of Aging, p118.\n\u0026ldquo;If you\u0026rsquo;re trying to show off for people at the top, forget it. They will look down at you anyhow. And if you\u0026rsquo;re trying to show off for people at the bottom, forget it. The will only envy you. Status will get you nowhere. Only an open heart will allow you to float equally between everyone.\u0026rdquo; - Morrie, The Eighth Tuesday We Talk About Money, p128.\nWeek13 (03/31) ç¶²è·¯æ–‡ç«  The Liberal government will announce legislation next month that will legalize marijuana in Canada by July 1, 2018.\nArcherMind Mediatek X20 Pro Development Board Adds 3G, 4G LTE and More I/Os\n2016/6/27 MTKè¡¨ç¤ºç™¼å±•96Boards.\nUsing vi-mode in your shell\nset -o vi å¾Œå¯ä»¥åœ¨shellä½¿ç”¨vi-mode, set -o emacså›åˆ°åŸä¾†.\nç¶²è·¯è³‡æº Workload Automation \u0026amp; LISA\né€™2å€‹ARM-softwareè£¡çš„å°ˆæ¡ˆå€¼å¾—ç ”ç©¶çœ‹çœ‹, å…ˆå¾WAé–‹å§‹. leetcode Challenge - C lang åˆ©ç”¨ç‘£ç¢çš„æ™‚é–“å®Œæˆleetcodeä¸ŠåŸºæœ¬(easy)çš„é¡Œç›®.\nNo448_FindDisappearedNumbers\nreallocä¸€èˆ¬ç”¨ä¾†enlarge size, ä¹Ÿå¯ä»¥ç”¨åœ¨shrinking, ä½†ç¸®å°æ˜¯å¿…è¦çš„å—?\nNo485_MaxConsecutiveOnes\nNo189_RotateArray\næœ€ç›´è¦ºçš„æ–¹æ³•æ˜¯memcpy, ä½†space complexity = O(n), é¡Œç›®è¦çš„æ˜¯O(1).\nNo118_PascalTriangle \u0026amp; No119_PascalTriangleII\nRecursionæ˜¯è¼ƒæ–¹ä¾¿çš„è§£æ³•, ä½†èŠ±çš„æ™‚é–“è¶…ä¹…, No119è¦æ³¨æ„integer overflow.\nNo414_ThirdMaximumNumber\næ³¨æ„arrayè£¡æœƒæœ‰é‡è¤‡çš„å€¼åŠè² æ•¸.\n","permalink":"https://oopsmonk.github.io/posts/2017-03-01-2017month3/","summary":"\u003cp\u003eä»¥å‰çƒéšŠåœ¨å›é˜²æ™‚, æ•™ç·´ç¸½æœƒèªª\u0026quot;å¿«è·‘! åˆ¥å›é ­, åˆ°å®šé»å†ä¼‘æ¯\u0026quot;.\u003cbr\u003e\né—œæ–¼äººç”Ÿ, å–˜æ¯é»åœ¨å“ªå…’? æˆ‘æƒ³å°±åœ¨æ»´æ°´ç©¿çŸ³ä¹‹é–“!\u003c/p\u003e\n\u003ch1 id=\"week9-0303\"\u003eWeek9 (03/03)\u003c/h1\u003e\n\u003cp\u003e228çš„4å¤©é€£å‡è®“é€™é€±éçš„ç‰¹åˆ¥å¿«.\u003c/p\u003e\n\u003ch2 id=\"ç¶²è·¯æ–‡ç« \"\u003eç¶²è·¯æ–‡ç« \u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"http://ideas.ted.com/what-americans-can-learn-from-other-food-cultures/\"\u003eWhat Americans can learn from other food cultures\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"http://www.zdnet.com/article/google-breaks-sha-1-web-crypto-for-good-but-torvalds-plays-down-impact-on-git/\"\u003eGoogle breaks SHA-1 web crypto for good but Torvalds plays down impact on Git\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://security.googleblog.com/2017/02/announcing-first-sha1-collision.html\"\u003eAnnouncing the first SHA1 collision \u003c/a\u003e\u003cbr\u003e\nGoogle å…¬æ€–èˆ‡CWI Amsterdamåˆä½œç”Ÿå‡ºäº†ç¬¬ä¸€å€‹SHA-1 collision, å°æ–¼ä½¿ç”¨SHA-1çš„Gitä¾†èªªæœƒæœ‰ä»€éº¼å½±éŸ¿?\u003cbr\u003e\nç›®å‰çœ‹ä¾†æ˜¯å½±éŸ¿ä¸å¤§, ä¸»å› å¦‚ä¸‹:\n\u003col\u003e\n\u003cli\u003eGit remote èˆ‡ local ç™¼ç”Ÿè¡çªæ™‚localä¸¦ä¸æœƒè¢«override.\u003c/li\u003e\n\u003cli\u003eç›¸è¼ƒæ–¼Git, PDFæª”æ˜¯è¼ƒå®¹æ˜“è¢«ç ´è§£çš„.\u003c/li\u003e\n\u003cli\u003eGitå¯èƒ½æœƒè¨ˆåŠƒä½¿ç”¨SHA3-256ç‚ºæ–°çš„hash algorithm.\u003cbr\u003e\nç‚ºä»€éº¼ä¸é¸SHA256? \u0026ldquo;SHA256 acceleration is mainly an ARM thing\u0026rdquo; - Torvalds\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"ç¶²è·¯è³‡æº\"\u003eç¶²è·¯è³‡æº\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"http://www.mathsisfun.com/links/core-index.html\"\u003eMath is Fun: Common Core Standards\u003c/a\u003e: åŸºæœ¬æ•¸å­¸.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"è®€æ›¸å¿ƒå¾—\"\u003eè®€æ›¸å¿ƒå¾—\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://www.coursera.org/learn/learning-how-to-learn\"\u003eLearning How to Learn\u003c/a\u003e - Week1\u003cbr\u003e\né€™é€±ä»¥ç§‘å­¸ç ”ç©¶ä¾†çœ‹å¤§è…¦å°æ–¼å­¸ç¿’çš„åæ‡‰ \u003cbr\u003e\nå¯ä»¥æŠŠå­¸ç¿’çœ‹çš„å¾ˆå–®ç´”, å°±æ˜¯\u0026quot;ä¸æ–·\u0026quot;çš„å¸æ”¶åŠç·´ç¿’, \u0026ldquo;ä¸æ–·\u0026quot;æ„æŒ‡é•·é çš„æ™‚é–“1å¹´, 5å¹´, 10å¹´\u0026hellip;ç­‰, è€Œä¸æ˜¯æŒ‡ç•¶ä¸‹ä¸æ–·çš„è¡Œç‚º.\nå¾ˆå¤šåäººå‚³è¨˜éƒ½æœ‰æåŠä»–å€‘çš„çœ‹æ›¸ç¿’æ…£, Ex: Steven Jobs and Elon Musk.\n\u003cul\u003e\n\u003cli\u003eThink mode: focus, and diffuse.\u003c/li\u003e\n\u003cli\u003eAfter leaning and sleeping brain form many synapses on the dendrite in your brain that is how your brain upgrade after a sleep or nap.\u003c/li\u003e\n\u003cli\u003eProcrastination - The Pomodoro Technique: an intense 25 minutes followed by 5 minutes relaxation or a little reward.\u003c/li\u003e\n\u003cli\u003eMemory - long term memory and working memory are two major memory systems. Research has shown that if you try to glue things into your memory by repeating something twenty times in one evening, for example, it wonâ€™t stick nearly as well as if you practice it the same number of times over several days.\u003c/li\u003e\n\u003cli\u003eSleep - When you sleep, your brain cells shrink, which allows toxins to be more easily washed away.\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch1 id=\"week10-0310\"\u003eWeek10 (03/10)\u003c/h1\u003e\n\u003ch2 id=\"ç¶²è·¯æ–‡ç« -1\"\u003eç¶²è·¯æ–‡ç« \u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ca href=\"https://www.scotthyoung.com/blog/2015/01/19/speed-reading-redo/\"\u003eI Was Wrong About Speed Reading: Here are the Facts\u003c/a\u003e\u003cbr\u003e\nReadingåŒ…å«å‡ ç¨®ä¸åŒçš„æ–¹æ³•: saccade, scan, and skim. ä»¥å‰åªçŸ¥é“scan and skim, ä½†\u003ca href=\"https://en.wikipedia.org/wiki/Saccade\"\u003esaccadÃ©\u003c/a\u003eæ˜¯æ³•æ–‡, æ„æ€è·Ÿscanä¼¼ä¹æ˜¯ä¸€æ¨£çš„.\u003cbr\u003e\nåœ¨readingæ™‚æœ‰å‡ å€‹éç¨‹: fixate, saccade and process.\u003cbr\u003e\nSubvocalizationæ˜¯å¿…è¦çš„, ç”¨ä¾†å¹«åŠ©ç†è§£(process).\u003cbr\u003e\nå¾è§£å‰–å­¸åŠç¥ç¶“å­¸ä¾†çœ‹, é€Ÿè®€æ˜¯æœ‰æ¥µé™çš„. è‹±æ–‡æ¥µé™ç´„500wpm, è¶…éé€™å€‹é€Ÿåº¦é‚„èƒ½è®€æ‡‚æ–‡ç« , æˆ‘æƒ³å°æ–¼æ–‡ç« å…§å®¹å¾ˆç†Ÿçš„æˆä»½å±…å¤š.\u003cbr\u003e\næ–‡ä¸­æåˆ°çš„tipså…¶å¯¦å°±æ˜¯six-way paragraphsçš„æ–¹æ³•.\u003c/p\u003e","title":"Slow and Fast"},{"content":"Viç”¨æ…£äº†, é‚£åœ¨shellä¹Ÿå¯ä»¥vi-styleå—? ç­”æ¡ˆæ˜¯å¯ä»¥çš„!\né€™å€‹æ–¹æ³•å¯ä½¿ç”¨åœ¨å¸¸ç”¨çš„shell, ä¾‹å¦‚bash, ksh, zsh, mksh.\nbtw, mksh æ˜¯Androidä½¿ç”¨çš„shell, ä½†Ubuntué è¨­çš„dash æ˜¯ä¸æ”¯æ´çš„.\nåœ¨shellä¸­åŸ·è¡Œset -o vi å¾ŒæŒ‰\u0026rsquo;i\u0026rsquo;é€²å…¥insert mode, \u0026lsquo;ESC\u0026rsquo;ç‚ºnormal mode.\nå›åˆ°åŸæœ¬çš„æ¨¡å¼å‰‡æ˜¯set -o emacs\nå¦‚ä¸‹åœ–:\nReference: Using vi-mode in your shell\n","permalink":"https://oopsmonk.github.io/posts/2017-03-28-vi-mode-in-shell/","summary":"\u003cp\u003eViç”¨æ…£äº†, é‚£åœ¨shellä¹Ÿå¯ä»¥vi-styleå—? ç­”æ¡ˆæ˜¯å¯ä»¥çš„!\u003c/p\u003e\n\u003cp\u003eé€™å€‹æ–¹æ³•å¯ä½¿ç”¨åœ¨å¸¸ç”¨çš„shell, ä¾‹å¦‚bash, ksh, zsh, mksh.\u003cbr\u003e\nbtw, mksh æ˜¯Androidä½¿ç”¨çš„shell, ä½†Ubuntué è¨­çš„dash æ˜¯ä¸æ”¯æ´çš„.\u003c/p\u003e\n\u003cp\u003eåœ¨shellä¸­åŸ·è¡Œ\u003cstrong\u003eset -o vi\u003c/strong\u003e å¾ŒæŒ‰\u0026rsquo;i\u0026rsquo;é€²å…¥insert mode, \u0026lsquo;ESC\u0026rsquo;ç‚ºnormal mode.\u003cbr\u003e\nå›åˆ°åŸæœ¬çš„æ¨¡å¼å‰‡æ˜¯\u003cstrong\u003eset -o emacs\u003c/strong\u003e\u003cbr\u003e\nå¦‚ä¸‹åœ–:\u003cbr\u003e\n\u003cimg loading=\"lazy\" src=\"/images/2017-03-28/vi-mode-in-shell.png\"\u003e\u003c/p\u003e\n\u003cp\u003eReference: \u003ca href=\"https://opensource.com/article/17/3/fun-vi-mode-your-shell\"\u003eUsing vi-mode in your shell\u003c/a\u003e\u003c/p\u003e","title":"åœ¨Shellä½¿ç”¨vi-mode"},{"content":"CWI Institute in Amsterdam and Google genrate two PDF documents with the same SHA-1 digest.\nGoogle security blog - Announcing the first SHA1 collision\nSHA-1 collistion and Git If a file A with X hash in local repository and with X hash in remote (SHA-1 collistion between local and remote), would overwrite the local version? Nope. If it has the same SHA1, it means that when we receive the object from the other end, we will not overwrite the object we already have.\nSo you have two cases of collision:\nthe inadvertent kind, \u0026hellip;\nThe attacker kind \u0026hellip;\n\u0026hellip;\nSo in this case, the collision is entirely a non-issue: you\u0026rsquo;ll get a \u0026ldquo;bad\u0026rdquo; repository that is different from what the attacker intended, but since you\u0026rsquo;ll never actually use his colliding object, it\u0026rsquo;s literally no different from the attacker just not having found a collision at all, but just using the object you already had (ie it\u0026rsquo;s 100% equivalent to the \u0026ldquo;trivial\u0026rdquo; collision of the identical file generating the same SHA1).\nSee above. The only dangerous kind of collision is the inadvertent kind, but that\u0026rsquo;s obviously also the very very unlikely kind.\nTorvalds @ Git- Re: Starting to think about sha-256?\nWill Git under attack? I haven\u0026rsquo;t seen the attack yet, but git doesn\u0026rsquo;t actually just hash the data, it does prepend a type/length field to it. That usually tends to make collision attacks much harder, because you either have to make the resulting size the same too, or you have to be able to also edit the size field in the header.\npdf\u0026rsquo;s don\u0026rsquo;t have that issue, they have a fixed header and you can fairly arbitrarily add silent data to the middle that just doesn\u0026rsquo;t get shown.\n\u0026hellip;\nPut another way: I doubt the sky is falling for git as a source control management tool. Do we want to migrate to another hash? Yes. Is it \u0026ldquo;game over\u0026rdquo; for SHA1 like people want to say? Probably not.\nI haven\u0026rsquo;t seen the attack details, but I bet\n(a) the fact that we have a separate size encoding makes it much harder to do on git objects in the first place\n(b) we can probably easily add some extra sanity checks to the opaque data we do have, to make it much harder to do the hiding of random data that these attacks pretty much always depend on.\nTorvalds @ Git- Re: SHA1 collisions found\nWhich one will be the next algorithm? SHA-256, SHA-3-256, and BLAKE2b-256 I\u0026rsquo;ve mentioned this on the list earlier, but here are the contenders in my view:\nSHA-256:\nCommon, but cryptanalysis has advanced. Preimage resistance (which is even more important than collision resistance) has gotten to 52 of 64 rounds. Pseudo-collision attacks are possible against 46 of 64 rounds. Slowest option.\nSHA-3-256:\nLess common, but has a wide security margin. Cryptanalysis is ongoing, but has not advanced much. Somewhat to much faster than SHA-256, unless you have SHA-256 hardware acceleration (which almost nobody does).\nBLAKE2b-256:\nLower security margin, but extremely fast (faster than SHA-1 and even MD5).\nMy recommendation has been for SHA-3-256, because I think it provides the best tradeoff between security and performance.\nbrian m. carlson @ Git- Re: SHA1 collisions found\nSo SHA256 acceleration is mainly an ARM thing, and nobody develops on ARM because there\u0026rsquo;s effectively no hardware that is suitable for developers. Even ARM people just use PCs (and they won\u0026rsquo;t be Goldmont Atoms).\nReduced-round SHA256 may have been broken, but on the other hand it\u0026rsquo;s been around for a lot longer too, so \u0026hellip;\nBut yes, SHA3-256 looks like the sane choice. Performance of hashing is important in the sense that it shouldn\u0026rsquo;t suck, but is largely secondary. All my profiles on real loads (well, my real loads) have shown that zlib performance is actually much more important than SHA1.\nTorvalds @ Git- Re: SHA1 collisions found\nReference: shattered.io\nThe first collision for full SHA-1\nGit - Re: SHA1 collisions found\n","permalink":"https://oopsmonk.github.io/posts/2017-03-03-the-first-sha1-collision/","summary":"\u003cp\u003e\u003ca href=\"https://www.cwi.nl/\"\u003eCWI Institute in Amsterdam\u003c/a\u003e and Google genrate two PDF documents with the same SHA-1 digest.\u003cbr\u003e\nGoogle security blog - \u003ca href=\"https://security.googleblog.com/2017/02/announcing-first-sha1-collision.html\"\u003eAnnouncing the first SHA1 collision\u003c/a\u003e\u003c/p\u003e\n\u003ch2 id=\"sha-1-collistion-and-git\"\u003eSHA-1 collistion and Git\u003c/h2\u003e\n\u003ch3 id=\"if-a-file-a-with-x-hash-in-local-repository-and-with-x-hash-in-remote-sha-1-collistion-between-local-and-remote-would-overwrite-the-local-version\"\u003eIf a file A with X hash in local repository and with X hash in remote (SHA-1 collistion between local and remote), would overwrite the local version?\u003c/h3\u003e\n\u003cblockquote\u003e\n\u003cp\u003eNope. If it has the same SHA1, it means that when we receive the object from the other end, we will \u003cem\u003enot\u003c/em\u003e overwrite the object we already have.\u003cbr\u003e\nSo you have two cases of collision:\u003cbr\u003e\nthe inadvertent kind, \u0026hellip;\u003cbr\u003e\nThe attacker kind \u0026hellip;\u003cbr\u003e\n\u0026hellip;\u003cbr\u003e\nSo in this case, the collision is entirely a non-issue: you\u0026rsquo;ll get a \u0026ldquo;bad\u0026rdquo; repository that is different from what the attacker intended, but since you\u0026rsquo;ll never actually use his colliding object, it\u0026rsquo;s \u003cem\u003eliterally\u003c/em\u003e no different from the attacker just not having found a collision at all, but just using the object you already had (ie it\u0026rsquo;s 100% equivalent to the \u0026ldquo;trivial\u0026rdquo; collision of the identical file generating the same SHA1).\u003cbr\u003e\nSee above. The only \u003cem\u003edangerous\u003c/em\u003e kind of collision is the inadvertent kind, but that\u0026rsquo;s obviously also the very very unlikely kind.\u003cbr\u003e\nTorvalds @ \u003ca href=\"http://marc.info/?l=git\u0026amp;m=115678778717621\u0026amp;w=2\"\u003eGit- Re: Starting to think about sha-256?\u003c/a\u003e\u003c/p\u003e","title":"The First SHA1 Collision"},{"content":"ä»¥å‰çƒéšŠåœ¨å›é˜²æ™‚, æ•™ç·´ç¸½æœƒèªª\u0026quot;å¿«è·‘! åˆ¥å›é ­, åˆ°å®šé»å†ä¼‘æ¯\u0026quot;.\né—œæ–¼äººç”Ÿ, å–˜æ¯é»åœ¨å“ªå…’? æˆ‘æƒ³å°±åœ¨æ»´æ°´ç©¿çŸ³ä¹‹é–“!\nWeek7 (02/17) ç™¼ç¾minimal-mistakesä¸Šç¼ºäº†ç¹ä¸­, ä¾¿é–‹äº†å€‹PR#838 æ²’æƒ³åˆ°å¾ˆå¿«å°±è¢«merge, æ•ˆç‡çœŸå¿«.\nè©¦ç©BeautifulSoup å¯«äº†å€‹ç°¡å–®çš„ck101Comics.pyç”¨ä¾†ä¸‹è¼‰å¡æè«¾Ã—æªæ¼«ç•«.\nç¶²è·¯æ–‡ç«  Diving Into Android \u0026lsquo;M\u0026rsquo; Doze \u0026amp; Diving into Doze Mode for Developers\nAndroid Dozeåœ¨Nougatå¤šäº†Light-Doze, Light-Dozeçš„Maintenance Windowsè¼ƒçŸ­ç‚ºäº†é¿å…ä¸åŒæ­¥å•é¡Œ, ç•¶é€²å…¥Deep-Doze(åŸæœ¬Marshmallowçš„Doze), Light-Dozeæœƒé€²å…¥OVERRIDEä¸åšä»»ä½•äº‹. ç¶²è·¯è³‡æº E-book: Python for Informatics è®€æ›¸å¿ƒå¾— Tuesdays with Morrie\nè®€å®ŒThe Classroom, ç›´åˆ°é€™ç« ç¯€éƒ½æ˜¯åœ¨è¬›Mitché›¢é–‹å¤§å­¸å¾Œçš„ç”Ÿæ´»åŠå¶ç„¶è½åˆ°é›»è¦–ä¸Šæåˆ°Morrie, å¸«ç”Ÿä¿©å¦‚ä½•å†åº¦æ­ä¸Šç·š. Morrieå°Mitchæœ‰å¾ˆæ·±çš„æƒ…æ„Ÿ, Mitchç¨±ä»–ç‚º\u0026rsquo;Coach\u0026rsquo;. \u0026ldquo;Dying,\u0026rdquo; Morrie suddenly said, \u0026ldquo;is only one thing to be sad over, Mitch. Living unhappily is something else. So many of the people who come to visit me are unhappy.\u0026rdquo; - The Classroom, p35. è«–æ–‡å­¸ç¿’ POSIX Has Become Outdated\né€élibtrackè§€å¯ŸAndorid, OS X, and Ubuntu, ç™¼ç¾ç‚ºäº†UX(user experience)èˆ‡ç¬¦åˆmodern workload, ä¸åŒçš„OSå¯¦ç¾åŸæœ¬ä¸è¶³ä¸”é®®å°‘ä½¿ç”¨çš„POSIX abstractions, å…¶ä¸­IPCåŠAsynchronus I/Oçš„éƒ¨ä»½æ›´æ˜¯è¢«å–ä»£. æœ€å¾Œçµè«–æåˆ°æ–°çš„POSIX standard éœ€è¦è‘—é‡æ–¼graphics, IPC, and threading. Week8 (02/24) ç…§é¡§å°å­©çœŸçš„å¾ˆæ®ºæ™‚é–“, å°¤å…¶æ˜¯è€å©†å‡ºåœ‹æ™‚.\nè¥¿ç­ç‰™æµ·é®®ç‡‰é£¯(Paella Marinera) è©¦äº†åšä¸€æ¬¡, è¦ºå¾—æ˜¯é“æ“ºç›¤å®¹æ˜“, è‰²å½©è±å¯Œ, ä½†æƒ³åšçš„å¥½åƒè¦å†ç·´ç·´çš„æ–™ç†. å¦å¤–Tortilla de patatasæ•´å€‹å¤±æ•—\u0026hellip;.\nç¶²è·¯æ–‡ç«  Common Errors in Student Research Papers\nWritingå¸¸è¦‹éŒ¯èª¤ Dear President Trump: Those jobs arenâ€™t coming back, and why would we want them to?\nä¸€å£å’¬å®šå›æµçš„æ˜¯Blue-collar? let\u0026rsquo;s see\u0026hellip; Several Earth-Like Planets Discovered Orbiting Nearby Star\nNASAæ‰¾åˆ°7å€‹é¡ä¼¼åœ°çƒçš„æ˜Ÿçƒ. NASAâ€™s Spitzer Reveals Largest Batch of Earth-Size, Habitable-Zone Planets Around a Single Star ç¶²è·¯è³‡æº Papers We Love: åˆ—å‡ºå¾ˆå¤šå¯ä»¥æ‰¾è«–æ–‡çš„åœ°æ–¹. the morning paper: CSè«–æ–‡å°è®€. How to Make a Computer Operating System: æ•™æ‚¨å¯«å‡ºä¸€å€‹OS. è®€æ›¸å¿ƒå¾— Pied Piper of Hamelin\nåœ¨Six-Way Paragraphsè£¡å‡ºç¾çš„æ–‡ç« , å°ç£å°±åƒHamelin, å¹´è¼•äººåŠªåŠ›æ‰¾å°‹è‡ªå·±çš„Moravia. The major å°±åƒæ˜¯æ”¿åºœ, ä¼æ¥­, å­¸æ ¡\u0026hellip;ç­‰ç­‰.\nWisdom before experience is only words; wisdom after experience is of no avail. - Mark Van Doren Tuesdays with Morrie\n\u0026ldquo;I cry all the time now,\u0026rdquo; he said. \u0026ldquo;Never mind\u0026rdquo; - The First Thuesday, p51\nå³ä½¿å‹‡æ–¼é¢å°æ­»äº¡ï¼Œå¤§å¤šæ•¸çš„äººä¹Ÿæ˜¯æœƒå› ç‚ºå‘¨é­ç’°å¢ƒçš„å½±éŸ¿æˆ–éå¾€æ„Ÿåˆ°æ‚²å‚·. \u0026ldquo;I mourn what I\u0026rsquo;ve lost. I mourn the slow, insidious way in which I\u0026rsquo;m dying. But then I stop mourning.\u0026rdquo; - The Second Tuesday, p57\nSelf-pity ä¸ä¸€å®šæ˜¯å£äº‹. \u0026ldquo;Sometimes you cannot believe that you see, you have be believe that you feel.\u0026rdquo; - The Second Tuesday, p61\nç›¸ä¿¡æœ€æ·±å±¤, æœ€åŸå§‹ç´”ç²¹çš„æ„Ÿè¦º. è«–æ–‡å­¸ç¿’ POSIX Abstractions in Modern Operating Systems: The Old, the New, and the Missing.\nslides, presentation\né€™ä»½è«–æ–‡ç ”ç©¶çš„æ˜¯Android4.3, åœ¨Graphicséƒ¨ä»½Android4.4æ–°çš„Hardware Composer (HWComposer1.3)åˆ°ç¾åœ¨Android 7 (Nougat)çš„HWComposer2, ä»¥åŠæ”¯æ´Vulkanç­‰éƒ½æ˜¯ç‚ºäº†åŠ å¼·3Dçš„è™•ç†æ•ˆèƒ½.\nå¦å¤–Android åªå¯¦ç¾äº†69.7%çš„POSIX functions, ç›¸è¼ƒæ–¼Ubuntu(94.7%)åŠOS X(100%), æ„é€”ä¼¼ä¹å¾ˆæ˜é¡¯äº†. ","permalink":"https://oopsmonk.github.io/posts/2017-02-28-2017month2/","summary":"\u003cp\u003eä»¥å‰çƒéšŠåœ¨å›é˜²æ™‚, æ•™ç·´ç¸½æœƒèªª\u0026quot;å¿«è·‘! åˆ¥å›é ­, åˆ°å®šé»å†ä¼‘æ¯\u0026quot;.\u003cbr\u003e\né—œæ–¼äººç”Ÿ, å–˜æ¯é»åœ¨å“ªå…’? æˆ‘æƒ³å°±åœ¨æ»´æ°´ç©¿çŸ³ä¹‹é–“!\u003c/p\u003e\n\u003ch1 id=\"week7-0217\"\u003eWeek7 (02/17)\u003c/h1\u003e\n\u003cp\u003eç™¼ç¾\u003ca href=\"https://github.com/mmistakes/minimal-mistakes\"\u003eminimal-mistakes\u003c/a\u003eä¸Šç¼ºäº†ç¹ä¸­, ä¾¿é–‹äº†å€‹PR\u003ca href=\"https://github.com/mmistakes/minimal-mistakes/pull/838\"\u003e#838\u003c/a\u003e æ²’æƒ³åˆ°å¾ˆå¿«å°±è¢«merge, æ•ˆç‡çœŸå¿«.\u003cbr\u003e\nè©¦ç©\u003ca href=\"https://www.crummy.com/software/BeautifulSoup/\"\u003eBeautifulSoup\u003c/a\u003e å¯«äº†å€‹ç°¡å–®çš„\u003ca href=\"https://github.com/oopsmonk/PiPlayground/tree/master/ck101Comics\"\u003eck101Comics.py\u003c/a\u003eç”¨ä¾†ä¸‹è¼‰å¡æè«¾Ã—æªæ¼«ç•«.\u003c/p\u003e\n\u003ch2 id=\"ç¶²è·¯æ–‡ç« \"\u003eç¶²è·¯æ–‡ç« \u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://newcircle.com/s/post/1739/2015/06/12/diving-into-android-m-doze\"\u003eDiving Into Android \u0026lsquo;M\u0026rsquo; Doze\u003c/a\u003e \u0026amp; \u003ca href=\"https://www.bignerdranch.com/blog/diving-into-doze-mode-for-developers/\"\u003eDiving into Doze Mode for Developers\u003c/a\u003e\u003cbr\u003e\nAndroid Dozeåœ¨Nougatå¤šäº†Light-Doze, Light-Dozeçš„Maintenance Windowsè¼ƒçŸ­ç‚ºäº†é¿å…ä¸åŒæ­¥å•é¡Œ, ç•¶é€²å…¥Deep-Doze(åŸæœ¬Marshmallowçš„Doze), Light-Dozeæœƒé€²å…¥OVERRIDEä¸åšä»»ä½•äº‹.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"ç¶²è·¯è³‡æº\"\u003eç¶²è·¯è³‡æº\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eE-book: \u003ca href=\"http://www.pythonlearn.com/book.php#python-for-informatics\"\u003ePython for Informatics\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"è®€æ›¸å¿ƒå¾—\"\u003eè®€æ›¸å¿ƒå¾—\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://en.wikipedia.org/wiki/Tuesdays_with_Morrie\"\u003eTuesdays with Morrie\u003c/a\u003e\u003cbr\u003e\nè®€å®ŒThe Classroom, ç›´åˆ°é€™ç« ç¯€éƒ½æ˜¯åœ¨è¬›Mitché›¢é–‹å¤§å­¸å¾Œçš„ç”Ÿæ´»åŠå¶ç„¶è½åˆ°é›»è¦–ä¸Šæåˆ°Morrie, å¸«ç”Ÿä¿©å¦‚ä½•å†åº¦æ­ä¸Šç·š. Morrieå°Mitchæœ‰å¾ˆæ·±çš„æƒ…æ„Ÿ, Mitchç¨±ä»–ç‚º\u0026rsquo;Coach\u0026rsquo;.\n\u003cul\u003e\n\u003cli\u003e\u0026ldquo;Dying,\u0026rdquo; Morrie suddenly said, \u0026ldquo;is only one thing to be sad over, Mitch. Living unhappily is something else. So many of the people who come to visit me are unhappy.\u0026rdquo; - The Classroom, p35.\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"è«–æ–‡å­¸ç¿’\"\u003eè«–æ–‡å­¸ç¿’\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"http://www.cs.columbia.edu/~vatlidak/resources/POSIXmagazine.pdf\"\u003ePOSIX Has Become Outdated\u003c/a\u003e\u003cbr\u003e\né€é\u003ca href=\"https://columbia.github.io/libtrack/\"\u003elibtrack\u003c/a\u003eè§€å¯ŸAndorid, OS X, and Ubuntu, ç™¼ç¾ç‚ºäº†UX(user experience)èˆ‡ç¬¦åˆmodern workload, ä¸åŒçš„OSå¯¦ç¾åŸæœ¬ä¸è¶³ä¸”é®®å°‘ä½¿ç”¨çš„POSIX abstractions, å…¶ä¸­IPCåŠAsynchronus I/Oçš„éƒ¨ä»½æ›´æ˜¯è¢«å–ä»£. æœ€å¾Œçµè«–æåˆ°æ–°çš„POSIX standard éœ€è¦è‘—é‡æ–¼graphics, IPC, and threading.\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch1 id=\"week8-0224\"\u003eWeek8 (02/24)\u003c/h1\u003e\n\u003cp\u003eç…§é¡§å°å­©çœŸçš„å¾ˆæ®ºæ™‚é–“, å°¤å…¶æ˜¯è€å©†å‡ºåœ‹æ™‚.\u003cbr\u003e\nè¥¿ç­ç‰™æµ·é®®ç‡‰é£¯(Paella Marinera) è©¦äº†åšä¸€æ¬¡, è¦ºå¾—æ˜¯é“æ“ºç›¤å®¹æ˜“, è‰²å½©è±å¯Œ, ä½†æƒ³åšçš„å¥½åƒè¦å†ç·´ç·´çš„æ–™ç†. å¦å¤–Tortilla de patatasæ•´å€‹å¤±æ•—\u0026hellip;.\u003c/p\u003e","title":"æ–°ç« "},{"content":"A study of adoptable storage in Android Marshmallow and Nougat.\nHow to Setup a Private Disk (External USB Storage) Android adoptable storage allow APP install to external storage that can reserve more internal space for other APPs.\nCreate Adoptable Storage Using Settings GUI Settings -\u0026gt; Storage \u0026amp; USB -\u0026gt; Portable storage -\u0026gt; Settings -\u0026gt; Format as internal\nUse sm (Storage Manager) Command Find disk id # sm list-disks disk:8,16 disk:8,0 Format as internal # sm partition disk:8,0 private # sm list-volumes all public:8,17 mounted 629C-FBAF emulated:8,2 unmounted null private mounted null emulated mounted null private:8,2 mounted 3f538e6e-e6a9-4163-ac1e-e4c6602b3c34 Now, it\u0026rsquo;s a private storage in system.\n# mount /dev/block/mmcblk0p1 /system ext4 ro,seclabel,noatime,data=ordered 0 0 /dev/block/mmcblk0p3 /cache ext4 rw,seclabel,nosuid,nodev,noatime,discard,journal_checksum,errors=continue,data=ordered 0 0 /dev/block/mmcblk0p2 /data ext4 rw,seclabel,nosuid,nodev,noatime,discard,journal_checksum,errors=continue,data=ordered 0 0 /dev/block/dm-0 /mnt/expand/3f538e6e-e6a9-4163-ac1e-e4c6602b3c34 ext4 rw,dirsync,seclabel,nosuid,nodev,noatime 0 0 Moving APP to External(Adoptable) Storage Not all APPs can move to external storage, only the APPs are declared android:installLocation attribute in the Androidmanifest.xml.\nThe value for installLocation are auto, internalOnly, and preferExternal.\n\u0026lt;manifest xmlns:android=\u0026#34;http://schemas.android.com/apk/res/android\u0026#34; android:installLocation=\u0026#34;preferExternal\u0026#34; ... \u0026gt; Install APP to External pm commands can use to select or find APP\u0026rsquo;s install location.\npm path PACKAGE\nGet the location path of the APP. pm get-install-location\nGet the global default install location which is stored in Settings database(default_install_location). pm set-install-location [0|1|2]\nSet default install location 0:auto, 1:internal, 2:external. pm install -f PATH\nInstall on internal storage. pm install -s PATH\nInstall on external storage. pm::makeInstallParams\nHow to Move APPs to External Moving around External and Internal storage:\nSettings Settings -\u0026gt; APPs -\u0026gt; package -\u0026gt; Storage -\u0026gt; Storage Used.\npm (Package Manager) Move APP between internal, and external storage.\npm move-package PACKAGE [internal|UUID]\nEx:\n# pm install /data/app-debug.apk # pm path com.oopsmonk.testinternalinstall package:/data/app/com.oopsmonk.testinternalinstall-1/base.apk # sm list-volumes emulated:8,2 unmounted null private mounted null emulated mounted null private:8,2 mounted 9c019bf2-bb58-4c81-9afe-8ed22d752f91 # pm move-package com.oopsmonk.testinternalinstall 9c019bf2-bb58-4c81-9afe-8ed22d752f91 # pm path com.oopsmonk.testinternalinstall package:/mnt/expand/9c019bf2-bb58-4c81-9afe-8ed22d752f91/app/com.oopsmonk.testinternalinstall-1/base.apk Gaming Rules Adoptable storage will create a new partition table and destroy data on the disk. System APP should not install on external storage. APPs data may lost if external storage was broken. You can create different external storage using separate disks. You should carefully consider whether to install APPs on external storage.\nHow Adoptable Storage Work? Vold(Volume Daemon) is in charge of creating and mounting storage include adoptable storage. It will create two partitions (android_meta and android_expand) for adoptable storage, the android_meta is a reserved space for feature use and android_expand is the external storage which is encrypted via dm-crypt.\nBoth partitions have specific type code.\nandroid_meta: 19A710A2-B3CA-11E4-B026-10604B889DCF android_expand: 193D1EA4-B3CA-11E4-B075-10604B889DCF The encrypt key is located in /data/misc/vold/expand_GUID.key.\nDeclare Adoptable Devices Vold parses mount flags from fstab.{ro.hardware}. As an adoptable device, the flags of voldmanaged and encryptable should be defined. In the meantime, vold.has_adoptable is set to 1.\nfstab.fugu\n/devices/*/dwc3-host.2/usb*\tauto\tauto\tdefaults\tvoldmanaged=usb:auto,encryptable=userdata vold/main\n/* Loop through entries looking for ones that vold manages */ bool has_adoptable = false; for (int i = 0; i \u0026lt; fstab-\u0026gt;num_entries; i++) { if (fs_mgr_is_voldmanaged(\u0026amp;fstab-\u0026gt;recs[i])) { if (fs_mgr_is_nonremovable(\u0026amp;fstab-\u0026gt;recs[i])) { LOG(WARNING) \u0026lt;\u0026lt; \u0026#34;nonremovable no longer supported; ignoring volume\u0026#34;; continue; } std::string sysPattern(fstab-\u0026gt;recs[i].blk_device); std::string nickname(fstab-\u0026gt;recs[i].label); int flags = 0; if (fs_mgr_is_encryptable(\u0026amp;fstab-\u0026gt;recs[i])) { flags |= android::vold::Disk::Flags::kAdoptable; has_adoptable = true; } if (fs_mgr_is_noemulatedsd(\u0026amp;fstab-\u0026gt;recs[i]) || property_get_bool(\u0026#34;vold.debug.default_primary\u0026#34;, false)) { flags |= android::vold::Disk::Flags::kDefaultPrimary; } vm-\u0026gt;addDiskSource(std::shared_ptr\u0026lt;VolumeManager::DiskSource\u0026gt;( new VolumeManager::DiskSource(sysPattern, nickname, flags))); } } property_set(\u0026#34;vold.has_adoptable\u0026#34;, has_adoptable ? \u0026#34;1\u0026#34; : \u0026#34;0\u0026#34;); return 0; fstab is parsed in fs_mgr_fstab.c\nstatic struct flag_list mount_flags[] = { { \u0026#34;noatime\u0026#34;, MS_NOATIME }, { \u0026#34;noexec\u0026#34;, MS_NOEXEC }, { \u0026#34;nosuid\u0026#34;, MS_NOSUID }, { \u0026#34;nodev\u0026#34;, MS_NODEV }, { \u0026#34;nodiratime\u0026#34;, MS_NODIRATIME }, { \u0026#34;ro\u0026#34;, MS_RDONLY }, { \u0026#34;rw\u0026#34;, 0 }, { \u0026#34;remount\u0026#34;, MS_REMOUNT }, { \u0026#34;bind\u0026#34;, MS_BIND }, { \u0026#34;rec\u0026#34;, MS_REC }, { \u0026#34;unbindable\u0026#34;, MS_UNBINDABLE }, { \u0026#34;private\u0026#34;, MS_PRIVATE }, { \u0026#34;slave\u0026#34;, MS_SLAVE }, { \u0026#34;shared\u0026#34;, MS_SHARED }, { \u0026#34;defaults\u0026#34;, 0 }, { 0, 0 }, }; static struct flag_list fs_mgr_flags[] = { { \u0026#34;wait\u0026#34;, MF_WAIT }, { \u0026#34;check\u0026#34;, MF_CHECK }, { \u0026#34;encryptable=\u0026#34;,MF_CRYPT }, { \u0026#34;forceencrypt=\u0026#34;,MF_FORCECRYPT }, { \u0026#34;fileencryption=\u0026#34;,MF_FILEENCRYPTION }, { \u0026#34;forcefdeorfbe=\u0026#34;,MF_FORCEFDEORFBE }, { \u0026#34;nonremovable\u0026#34;,MF_NONREMOVABLE }, { \u0026#34;voldmanaged=\u0026#34;,MF_VOLDMANAGED}, { \u0026#34;length=\u0026#34;, MF_LENGTH }, { \u0026#34;recoveryonly\u0026#34;,MF_RECOVERYONLY }, { \u0026#34;swapprio=\u0026#34;, MF_SWAPPRIO }, { \u0026#34;zramsize=\u0026#34;, MF_ZRAMSIZE }, { \u0026#34;verify\u0026#34;, MF_VERIFY }, { \u0026#34;noemulatedsd\u0026#34;, MF_NOEMULATEDSD }, { \u0026#34;notrim\u0026#34;, MF_NOTRIM }, { \u0026#34;formattable\u0026#34;, MF_FORMATTABLE }, { \u0026#34;slotselect\u0026#34;, MF_SLOTSELECT }, { \u0026#34;nofail\u0026#34;, MF_NOFAIL }, { \u0026#34;latemount\u0026#34;, MF_LATEMOUNT }, { \u0026#34;defaults\u0026#34;, 0 }, { 0, 0 }, }; Creating Private Partition Tracing the code flow via sm partition DISK private command.\nframeworks/base/cmds/sm/src/com/android/commands/sm/Sm.java\npublic void runPartition() throws RemoteException { final String diskId = nextArg(); final String type = nextArg(); if (\u0026#34;public\u0026#34;.equals(type)) { mSm.partitionPublic(diskId); } else if (\u0026#34;private\u0026#34;.equals(type)) { mSm.partitionPrivate(diskId); } else if (\u0026#34;mixed\u0026#34;.equals(type)) { final int ratio = Integer.parseInt(nextArg()); mSm.partitionMixed(diskId, ratio); } else { throw new IllegalArgumentException(\u0026#34;Unsupported partition type \u0026#34; + type); } } then VoldConnector issues partition command to Vold.\nMountService::partitionPrivate\nmConnector.execute(\u0026#34;volume\u0026#34;, \u0026#34;partition\u0026#34;, diskId, \u0026#34;private\u0026#34;); CommandListener::VolumeCmd::runCommand\nreturn sendGenericOkFail(cli, disk-\u0026gt;partitionPrivate()); Vold handles the partition request.\nDisk::partitionMixed\n# Force unmount all volumes destroyAllVolumes(); # Destory the GPT data structures and then exit. # /system/bin/sgdisk # --zap-all # /dev/block/vold/disk:8,0 // Zap sometimes returns an error when it actually succeeded, so // just log as warning and keep rolling forward. if ((res = ForkExecvp(cmd)) != 0) { LOG(WARNING) \u0026lt;\u0026lt; \u0026#34;Failed to zap; status \u0026#34; \u0026lt;\u0026lt; res; } # Create encrypt key and parition GUID for android_expand. if (ReadRandomBytes(16, partGuidRaw) || ReadRandomBytes(16, keyRaw)) { LOG(ERROR) \u0026lt;\u0026lt; \u0026#34;Failed to generate GUID or key\u0026#34;; return -EIO; } # Write key to /data/misc/vold/expand_GUID.key if (!WriteStringToFile(keyRaw, BuildKeyPath(partGuid))) { LOG(ERROR) \u0026lt;\u0026lt; \u0026#34;Failed to persist key\u0026#34;; return -EIO; } else { LOG(DEBUG) \u0026lt;\u0026lt; \u0026#34;Persisted key for GUID \u0026#34; \u0026lt;\u0026lt; partGuid; } # Run partition command via sgdisk tool # /system/bin/sgdisk # --new=0:0:+16M # --typecode=0:19A710A2-B3CA-11E4-B026-10604B889DCF # --change-name=0:android_meta # --new=0:0:-0 # --typecode=0:193D1EA4-B3CA-11E4-B075-10604B889DCF # --partition-guid=0:c245733cd8ed24d20047ba0c3213de60 # --change-name=0:android_expand # /dev/block/vold/disk:8,0 if ((res = ForkExecvp(cmd)) != 0) { LOG(ERROR) \u0026lt;\u0026lt; \u0026#34;Failed to partition; status \u0026#34; \u0026lt;\u0026lt; res; return res; } Mounting Private Partition After disk\u0026rsquo;s partition is changed, kernel rescans the disk and emits an uevent to notify Vold.\nVolumeManager::handleBlockEvent\ncase NetlinkEvent::Action::kAdd: { ... auto disk = new android::vold::Disk(eventPath, device, source-\u0026gt;getNickname(), flags); disk-\u0026gt;create(); mDisks.push_back(std::shared_ptr\u0026lt;android::vold::Disk\u0026gt;(disk)); break; } } break; } Disk::create\nnotifyEvent(ResponseCode::DiskCreated, StringPrintf(\u0026#34;%d\u0026#34;, mFlags)); # Read lable, size, and system path readMetadata(); # parsing partition table readPartitions(); Disk::readPartitions\n# Force unmount all volumes destroyAllVolumes(); # Parsing partition table # /system/bin/sgdisk # --android-dump # /dev/block/vold/disk:8,0 status_t res = ForkExecvp(cmd, output); # Encrypted storage is used GPT partition table only. # Starting to create private volume } else if (table == Table::kGpt) { const char* typeGuid = strtok(nullptr, kSgdiskToken); const char* partGuid = strtok(nullptr, kSgdiskToken); if (!strcasecmp(typeGuid, kGptBasicData)) { createPublicVolume(partDevice); } else if (!strcasecmp(typeGuid, kGptAndroidExpand)) { createPrivateVolume(partDevice, partGuid); } } ... # Notify MountService notifyEvent(ResponseCode::DiskScanned); Creating private volume Disk::createPrivateVolume\n# Verify GUID and encrypt key if (NormalizeHex(partGuid, normalizedGuid)) { LOG(WARNING) \u0026lt;\u0026lt; \u0026#34;Invalid GUID \u0026#34; \u0026lt;\u0026lt; partGuid; return; } std::string keyRaw; if (!ReadFileToString(BuildKeyPath(normalizedGuid), \u0026amp;keyRaw)) { PLOG(ERROR) \u0026lt;\u0026lt; \u0026#34;Failed to load key for GUID \u0026#34; \u0026lt;\u0026lt; normalizedGuid; return; } # Create private volume and format then destroy it. auto vol = std::shared_ptr\u0026lt;VolumeBase\u0026gt;(new PrivateVolume(device, keyRaw)); if (mJustPartitioned) { LOG(DEBUG) \u0026lt;\u0026lt; \u0026#34;Device just partitioned; silently formatting\u0026#34;; vol-\u0026gt;setSilent(true); vol-\u0026gt;create(); vol-\u0026gt;format(\u0026#34;auto\u0026#34;); vol-\u0026gt;destroy(); vol-\u0026gt;setSilent(false); } # volume create again mVolumes.push_back(vol); vol-\u0026gt;setDiskId(getId()); vol-\u0026gt;setPartGuid(partGuid); vol-\u0026gt;create(); VolumeBase::create\n# PrivateVolume::doCreate status_t res = doCreate(); # Notify MountService to mount volume use onVolumeCreatedLocked() notifyEvent(ResponseCode::VolumeCreated, StringPrintf(\u0026#34;%d \\\u0026#34;%s\\\u0026#34; \\\u0026#34;%s\\\u0026#34;\u0026#34;, mType, mDiskId.c_str(), mPartGuid.c_str())); PrivateVolume::doCreate\nif (CreateDeviceNode(mRawDevPath, mRawDevice)) { return -EIO; } // Recover from stale vold by tearing down any old mappings cryptfs_revert_ext_volume(getId().c_str()); // TODO: figure out better SELinux labels for private volumes unsigned char* key = (unsigned char*) mKeyRaw.data(); char crypto_blkdev[MAXPATHLEN]; int res = cryptfs_setup_ext_volume(getId().c_str(), mRawDevPath.c_str(), key, mKeyRaw.size(), crypto_blkdev); mDmDevPath = crypto_blkdev; if (res != 0) { PLOG(ERROR) \u0026lt;\u0026lt; getId() \u0026lt;\u0026lt; \u0026#34; failed to setup cryptfs\u0026#34;; return -EIO; } return OK; When MountService receives VOLUME_CREATED event from VolumeBase::create(), it calls Vold to do mount process.\nMountService::onEventLocked\n# Handle event from VolumeBase::create then get disk info. case VoldResponseCode.VOLUME_CREATED: { final String id = cooked[1]; final int type = Integer.parseInt(cooked[2]); final String diskId = TextUtils.nullIfEmpty(cooked[3]); final String partGuid = TextUtils.nullIfEmpty(cooked[4]); final DiskInfo disk = mDisks.get(diskId); final VolumeInfo vol = new VolumeInfo(id, type, disk, partGuid); mVolumes.put(id, vol); # Ack Vold to mount this volume. onVolumeCreatedLocked(vol); break; } MountService::handleMessage\n# Ack Vold to run mount command via vold/CommandListener. case H_VOLUME_MOUNT: { final VolumeInfo vol = (VolumeInfo) msg.obj; if (isMountDisallowed(vol)) { Slog.i(TAG, \u0026#34;Ignoring mount \u0026#34; + vol.getId() + \u0026#34; due to policy\u0026#34;); break; } try { mConnector.execute(\u0026#34;volume\u0026#34;, \u0026#34;mount\u0026#34;, vol.id, vol.mountFlags, vol.mountUserId); } catch (NativeDaemonConnectorException ignored) { } break; } CommandListener::VolumeCmd::runCommand\n} else if (cmd == \u0026#34;mount\u0026#34; \u0026amp;\u0026amp; argc \u0026gt; 2) { // mount [volId] [flags] [user] std::string id(argv[2]); auto vol = vm-\u0026gt;findVolume(id); if (vol == nullptr) { return cli-\u0026gt;sendMsg(ResponseCode::CommandSyntaxError, \u0026#34;Unknown volume\u0026#34;, false); } int mountFlags = (argc \u0026gt; 3) ? atoi(argv[3]) : 0; userid_t mountUserId = (argc \u0026gt; 4) ? atoi(argv[4]) : -1; vol-\u0026gt;setMountFlags(mountFlags); vol-\u0026gt;setMountUserId(mountUserId); # Call VolumeBase::mount() then PrivateVolume::doMount() int res = vol-\u0026gt;mount(); if (mountFlags \u0026amp; android::vold::VolumeBase::MountFlags::kPrimary) { vm-\u0026gt;setPrimary(vol); } return sendGenericOkFail(cli, res); } else if (cmd == \u0026#34;unmount\u0026#34; \u0026amp;\u0026amp; argc \u0026gt; 2) { Conclusion The prosess of adoptable storage is more simple than Full Disk Encryption\nUnmount all volumes. Create new GPT table, GUID, and encrypt key. Generate android_meta, android_expand, and shared (if ratio partition) partitions. Get block device added uevent from Kernel. Decrypt private volumes. Mount public and private volumes. Related Source code # Communicate with Vold and Framework. frameworks/base/services/core/java/com/android/server/MountService.java # Parse fstab. system/core/fs_mgr # Partition, mount, unmout, and format private volume # Genrate encrypt key. system/vold/ # Decrytp and encrypt private volume, crypto type name is \u0026#34;aes-cbc-essiv:sha256\u0026#34; system/vold/cryptfs.c # Partition tool external/gptfdisk/sgdisk.cc ","permalink":"https://oopsmonk.github.io/posts/2017-02-13-android-adoptable-storage/","summary":"\u003cp\u003eA study of adoptable storage in Android Marshmallow and Nougat.\u003c/p\u003e\n\u003ch1 id=\"how-to-setup-a-private-disk-external-usb-storage\"\u003eHow to Setup a Private Disk (External USB Storage)\u003c/h1\u003e\n\u003cp\u003eAndroid adoptable storage allow APP install to external storage that can reserve more internal space for other APPs.\u003c/p\u003e\n\u003ch3 id=\"create-adoptable-storage-using-settings-gui\"\u003eCreate Adoptable Storage Using Settings GUI\u003c/h3\u003e\n\u003cp\u003eSettings -\u0026gt; Storage \u0026amp; USB -\u0026gt; Portable storage -\u0026gt; Settings -\u0026gt; Format as internal\u003c/p\u003e\n\u003ch3 id=\"use-sm-storage-manager-command\"\u003eUse sm (Storage Manager) Command\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eFind disk id\u003c/li\u003e\n\u003c/ul\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003e# sm list-disks  \ndisk:8,16  \ndisk:8,0  \n\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003eFormat as internal\u003c/li\u003e\n\u003c/ul\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003e# sm partition disk:8,0 private\n# sm list-volumes all\npublic:8,17 mounted 629C-FBAF\nemulated:8,2 unmounted null\nprivate mounted null\nemulated mounted null\nprivate:8,2 mounted 3f538e6e-e6a9-4163-ac1e-e4c6602b3c34\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eNow, it\u0026rsquo;s a private storage in system.\u003c/p\u003e","title":"Android Adoptable Storage"},{"content":"Android APIs for media playback: MediaPlayer and MediaCodec.\nMediaPlayer mediaPlayer.setDataSource(path); //fd or url mediaPlayer.setDisplay(SurfaceHolder sh); //SurfaceView or VideoView mediaPlayer.prepare(); // MediaPlayer.start(); // MediaCodec /* init use MediaExtractor to get mime data create decoder by mime type configure decoder by video format and surface view */ MediaExtractor mExtractor; MediaCodec mDecoder; mExtractor = new MediaExtractor(); mExtractor.setDataSource(filePath); MediaFormat format = mExtractor.getTrackFormat(track_index); String mime = format.getString(MediaFormat.KEY_MIME); if mime.startsWith(\u0026#34;video/\u0026#34;) mExtractor.selectTrack(track_index); mDecoder = MediaCodec.createDecoderByType(mime); mDecoder.configure(format, surface, null, 0 /* Decoder */); mDecoder.start(); /*run start decode video, fill / empty buffer */ MediaCodecExample\nSimple Video Decode/Encode Flow FFmpeg Demultiplexer\nMux? Demux? Remux? Huh?\nGStreamer The Chromium Reference:\nA Weekend with GStreamer\nThe Chromium Projects\nHandy FFMPEG commands for all video processing needs\nHistory of Android Media Framework OpenCore (Android 1.0) OpenCore and Stagefright (Android 2.1, Eclair) stagefrightæ¡†æ¶ï¼ˆä¸€ï¼‰Video Playbackçš„æµç¨‹\nStagefright and AwesomePlayer (Android 4.0, Ice Cream Sandwich)\nStagefright and NuPlayer (Android 5.1, Lollipop)\nAndroid MediaPlayerService Architecture\nWhat are StagefrightPlayer, AwesomePlayer, NuPlayer, OpenCore, OpenMAX, and Exoplayer? OpenCore is a media framework witch is replaced by Stagefright in Android 2.x. Stagefright relies only on OpenMAX interface for all the codecs.\nStagefrightPlayer is an implement of AwesomePlayer, it call AwesomePlayer\u0026rsquo;s API. StagefrightPlayer Constructor\nNuPlayer and AwesomePlayer both are a player. At first NuPlayer is designed for stream playback, but it replaces AwesomePlayer in Android 5.1 (Lollipop).\nExoPlayer is an open source, application level media player built on top of Androidâ€™s low level media APIs, support Android 4.1 above(API level 16).\nExoPlayer Developer Guide\nIntroduction to Android ExoPlayer\nInterface ExoPlayer\nDive into Android 6 Media Framework Current Media Framework Application Framework\nAt the application framework level is the app\u0026rsquo;s code, which utilizes the android.media APIs to interact with the multimedia hardware. Binder IPC\nThe Binder IPC proxies facilitate communication over process boundaries. They are located in the frameworks/av/media/libmedia directory and begin with the letter \u0026ldquo;I\u0026rdquo;. Native Multimedia Framework\nAt the native level, Android provides a multimedia framework that utilizes the Stagefright engine for audio and video recording and playback. Stagefright comes with a default list of supported software codecs and you can implement your own hardware codec by using the OpenMax integration layer standard. For more implementation details, see the various MediaPlayer and Stagefright components located in frameworks/av/media. OpenMAX Integration Layer (IL)\nThe OpenMAX IL provides a standardized way for Stagefright to recognize and use custom hardware-based multimedia codecs called components. You must provide an OpenMAX plugin in the form of a shared library named libstagefrighthw.so. This plugin links your custom codec components to Stagefright. Your custom codecs must be implemented according to the OpenMAX IL component standard. AwesomePlayer is deprecated, but source code still in the path frameworks/av/media/libmediaplayerservice/StagefrightPlayer.cpp\nMedia Playback Architecture MediaPlayerFactory: For different format media files, there are different scoring rule for choosing player. Each factory must has its own score function implement.\nAndroid Multimedia Framework\nInside of Stagefright\nAndroidâ€™s Stagefright Media Player Architecture\nMedia Playback Use MediaPlayer androidå¤šåª’é«”æ¡†æ¶ä¹‹æµåª’é«”å…·é«”æµç¨‹ç¯‡1\u0026mdash;-base on jellybean\nMedia Playback Use MediaExtractor Resources Stagefright vs Gstreamer\nAndroidå¤šåª’ä½“å¼€å‘\nHandy FFMPEG commands for all video processing needs\nMediaExtractorä»‹ç»\nImplement a custom codec\nNuPlayer for HTTP live streaming\n","permalink":"https://oopsmonk.github.io/posts/2016-06-16-android-media-framework/","summary":"\u003cp\u003eAndroid APIs for media playback: MediaPlayer and MediaCodec.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eMediaPlayer\u003c/li\u003e\n\u003c/ul\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003emediaPlayer.\u003cspan style=\"color:#a6e22e\"\u003esetDataSource\u003c/span\u003e(path);    \u003cspan style=\"color:#75715e\"\u003e//fd or url\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003emediaPlayer.\u003cspan style=\"color:#a6e22e\"\u003esetDisplay\u003c/span\u003e(SurfaceHolder sh);  \u003cspan style=\"color:#75715e\"\u003e//SurfaceView or VideoView  \u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003emediaPlayer.\u003cspan style=\"color:#a6e22e\"\u003eprepare\u003c/span\u003e(); \u003cspan style=\"color:#75715e\"\u003e// \u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eMediaPlayer.\u003cspan style=\"color:#a6e22e\"\u003estart\u003c/span\u003e(); \u003cspan style=\"color:#75715e\"\u003e//\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cul\u003e\n\u003cli\u003eMediaCodec\u003c/li\u003e\n\u003c/ul\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e/* init  \n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003euse MediaExtractor to get mime data  \n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003ecreate decoder by mime type \n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003econfigure decoder by video format and surface view  \n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e*/\u003c/span\u003e \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eMediaExtractor mExtractor;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eMediaCodec mDecoder;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003emExtractor \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003enew\u003c/span\u003e MediaExtractor();\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003emExtractor.\u003cspan style=\"color:#a6e22e\"\u003esetDataSource\u003c/span\u003e(filePath);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eMediaFormat format \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e mExtractor.\u003cspan style=\"color:#a6e22e\"\u003egetTrackFormat\u003c/span\u003e(track_index);  \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eString mime \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e format.\u003cspan style=\"color:#a6e22e\"\u003egetString\u003c/span\u003e(MediaFormat.\u003cspan style=\"color:#a6e22e\"\u003eKEY_MIME\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e mime.\u003cspan style=\"color:#a6e22e\"\u003estartsWith\u003c/span\u003e(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;video/\u0026#34;\u003c/span\u003e)  \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    mExtractor.\u003cspan style=\"color:#a6e22e\"\u003eselectTrack\u003c/span\u003e(track_index);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    mDecoder \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e MediaCodec.\u003cspan style=\"color:#a6e22e\"\u003ecreateDecoderByType\u003c/span\u003e(mime);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    mDecoder.\u003cspan style=\"color:#a6e22e\"\u003econfigure\u003c/span\u003e(format, surface, \u003cspan style=\"color:#66d9ef\"\u003enull\u003c/span\u003e, 0 \u003cspan style=\"color:#75715e\"\u003e/* Decoder */\u003c/span\u003e);  \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    mDecoder.\u003cspan style=\"color:#a6e22e\"\u003estart\u003c/span\u003e();\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e/*run\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003estart decode video, fill / empty buffer  \n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e*/\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e\u003ca href=\"https://github.com/taehwandev/MediaCodecExample\"\u003eMediaCodecExample\u003c/a\u003e\u003c/p\u003e","title":"Android Media Framework"},{"content":"After update system from Ubuntu 14.04 to 16.04, I got some problems, when I was building Android source code.\nopenjdk-7-jdk is gone Add PPA for OpenJDK7\nsudo add-apt-repository ppa:openjdk-r/ppa sudo apt remove openjdk-* icedtea-* icedtea6-* sudo apt update \u0026amp;\u0026amp; sudo apt install openjdk-7-jdk git ccache automake lzop bison gperf build-essential zip curl zlib1g-dev zlib1g-dev:i386 g++-multilib python-networkx libxml2-utils bzip2 libbz2-dev libbz2-1.0 libghc-bzlib-dev squashfs-tools pngcrush schedtool dpkg-dev liblz4-tool make optipng maven If you have other java version in system, make sure your java version is correct.\nsudo update-alternatives --config java sudo update-alternatives --config javac sudo update-alternatives --config javadoc sudo update-alternatives --config javap sudo update-alternatives --config javaws sudo update-alternatives --config jar Reference: [GUIDE] How to Setup Ubuntu 16.04 LTS Xenial Xerus for Compiling Android ROMs\nunsupported reloc 43 prebuilts/gcc/linux-x86/host/x86_64-linux-glibc2.11-4.6//x86_64-linux/include/c++/4.6/bits/basic_string.h:270: error: unsupported reloc 43 prebuilts/gcc/linux-x86/host/x86_64-linux-glibc2.11-4.6//x86_64-linux/include/c++/4.6/bits/basic_string.h:270: error: unsupported reloc 43 prebuilts/gcc/linux-x86/host/x86_64-linux-glibc2.11-4.6//x86_64-linux/include/c++/4.6/bits/basic_string.h:235: error: unsupported reloc 43 prebuilts/gcc/linux-x86/host/x86_64-linux-glibc2.11-4.6//x86_64-linux/include/c++/4.6/bits/basic_string.h:235: error: unsupported reloc 43 libnativehelper/JNIHelp.cpp:310: error: unsupported reloc 43 libnativehelper/JNIHelp.cpp:311: error: unsupported reloc 43 libnativehelper/JNIHelp.cpp:332: error: unsupported reloc 43 libnativehelper/JNIHelp.cpp:322: error: unsupported reloc 43 libnativehelper/JNIHelp.cpp:338: error: unsupported reloc 43 ... libnativehelper/JniInvocation.cpp:165: error: unsupported reloc 43 libnativehelper/JniInvocation.cpp:165: error: unsupported reloc 43 libnativehelper/JniInvocation.cpp:165: error: unsupported reloc 43 clang: error: linker command failed with exit code 1 (use -v to see invocation) build/core/host_shared_library_internal.mk:44: recipe for target \u0026#39;out/host/linux-x86/obj32/lib/libnativehelper.so\u0026#39; failed make: *** [out/host/linux-x86/obj32/lib/libnativehelper.so] Error 1 The older prebuilt toolchain have some problems with newer version of \u0026lsquo;as\u0026rsquo; in the native environment.\nThis error will show up when your environment is Ubuntu 16.04 and AOSP before May 7, 2106.\nTo solve this problem:\nModify build/core/clang/HOST_x86_common.mk diff --git a/core/clang/HOST_x86_common.mk b/core/clang/HOST_x86_common.mk index 0241cb6..77547b7 100644 --- a/core/clang/HOST_x86_common.mk +++ b/core/clang/HOST_x86_common.mk @@ -8,6 +8,7 @@ ifeq ($(HOST_OS),linux) CLANG_CONFIG_x86_LINUX_HOST_EXTRA_ASFLAGS := \\ --gcc-toolchain=$($(clang_2nd_arch_prefix)HOST_TOOLCHAIN_FOR_CLANG) \\ --sysroot=$($(clang_2nd_arch_prefix)HOST_TOOLCHAIN_FOR_CLANG)/sysroot \\ + -B$($(clang_2nd_arch_prefix)HOST_TOOLCHAIN_FOR_CLANG)/x86_64-linux/bin \\ -no-integrated-as CLANG_CONFIG_x86_LINUX_HOST_EXTRA_CFLAGS := \\ Use AOSP after May 7, 2016 Reference: https://android-review.googlesource.com/#/c/223100/\n","permalink":"https://oopsmonk.github.io/posts/2016-06-07-android-build-error-on-ubuntu-16-04-lts/","summary":"\u003cp\u003eAfter update system from Ubuntu 14.04 to 16.04, I got some problems, when I was building Android source code.\u003c/p\u003e\n\u003ch2 id=\"openjdk-7-jdk-is-gone\"\u003e\u003cstrong\u003eopenjdk-7-jdk is gone\u003c/strong\u003e\u003c/h2\u003e\n\u003cp\u003eAdd PPA for OpenJDK7\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003esudo add-apt-repository ppa:openjdk-r/ppa  \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003esudo apt remove openjdk-* icedtea-* icedtea6-*  \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003esudo apt update \u003cspan style=\"color:#f92672\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e sudo apt install openjdk-7-jdk git ccache automake lzop bison gperf build-essential zip curl zlib1g-dev zlib1g-dev:i386 g++-multilib python-networkx libxml2-utils bzip2 libbz2-dev libbz2-1.0 libghc-bzlib-dev squashfs-tools pngcrush schedtool dpkg-dev liblz4-tool make optipng maven  \n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eIf you have other java version in system, make sure your java version is correct.\u003c/p\u003e","title":"Android build error on Ubuntu 16.04 LTS"},{"content":"This study is based on Android Marshmallow.\nAndroid full disk encryption use dm-crypt, which works with block devices. Please refer to the following docs for more detail:\nFull Disk Encryption\nHow to setup full disk encryption Android support forceencrypt and encryptable encryption flags, and only support ext4 and f2fs file systems.\nSetup forceencrypt fstab.bullhead:\n/dev/block/platform/soc.0/f9824900.sdhci/by-name/userdata /data ext4 noatime,nosuid,nodev,barrier=1,data=ordered,nomblk_io_submit,noauto_da_alloc,errors=panic wait,check,forceencrypt=/dev/block/platform/soc.0/f9824900.sdhci/by-name/metadata Setup encryptable fstab.hammerhead:\n/dev/block/platform/msm_sdcc.1/by-name/userdata /data ext4 noatime,nosuid,nodev,barrier=1,data=ordered,nomblk_io_submit,noauto_da_alloc,errors=panic wait,check,encryptable=/dev/block/platform/msm_sdcc.1/by-name/metadata Related Properties and source code location Related source code:\ninit.rc: system/core/init/builtins.cpp fs_mgr: system/core/fs_mgr/fs_mgr.c Vold: system/vold/cryptfs.c Ext4Crypt: system/vold/Ext4Crypt.cpp VoldCryptCmdListener: system/vold/CryptCommandListener.cpp MountService: frameworks/base/services/core/java/com/android/server/MountService.java Properties:\nvold.decrypt: fs_mgr and Vold use this property to notify init.rc. vold.post_fs_data_done: Vold set it to 0 will trigger init.rc(on post-fs-data) to prepare necessary path in /data vold.encrypt_progress: Set by Vold to display the percentage value. vold.encrypt_time_remaining: Set by Vold for UX during encryption progress. ro.crypto.state: Set by init to declare encryption status. ro.crypto.type: Set by init to determine crypto type (file or block). ro.crypto.fs_crypto_blkdev: Set by Vold save the name of the crypto block device so we can mount it when restarting the framework. Encryptable flow As a encryptable device, you can use Settings to lunch a full disk encryption:\nSettings -\u0026gt; Security -\u0026gt; Encryption -\u0026gt; Encrypt (tablet/phone)\nEncryption confirm\nWhen you press Encrypt, CryptKeeperConfirm will call mountService.encryptStorage(), MountService use CryptdConnector send command cryptfs enablecrypto inplace default_password to start encrypt process.\nencrypt flags detection\nVold receive enablecrypto command and get encrypt parameters in fstab.{ro.hardware}\nSet or.crypto.state to unencrypted\nSet vold.decrypt to trigger_shutdown_framework\ninit.rc receive trigger_shutdown_framework to take down framework\nUnmount data\nVold unmount data partition and mount tmpfs to /data Set vold.encrypt_progress to 0\nSet vold.post_fs_data_done to 0 and wait DATA_PREP_TIMEOUT for init.rc set vold.post_fs_data_done to 1\ninit receive vold.post_fs_data_done will create necessary path in /data\nSet vold.encrypt_progress to 1\nVold set vold.decrypt to trigger_restart_min_framework and create crypto device via create_crypto_blk_dev()\nSave Key to /dev/block/platform/msm_sdcc.1/by-name/metadata\ninit receive trigger_restart_min_framework will bring up framework to show progress.\nEncrypt data\nVold call cryptfs_enable_all_volumes to do data encryption.\nCall update_progress() to set vold.encrypt_progress and vold.encrypt_time_remaining value.\nAfter encryption Vold set sys.powerctl to reboot.\nReboot system\u0026hellip;\nDetect encrypted /data\ninit.rc: mount_all ./fstab.{ro.hardware}\nVold fs_mgr_mount_all(): possibly an encryptable blkdev /dev/block/platform/msm_sdcc.1/by-name/userdata for mount /data type ext4 )\nVold fs_mgr_do_tmpfs_mount /data (mount tmpfs to /data).\nSet ro.crypto.state to encrypted\nSet ro.crypto.type to block\nSet vold.decrypt to trigger_default_encryption init.rc receive trigger_default_encryption will call defaultcrypto service to run cryptfs mountdefaultencrypted\nMount data Vold run mountdefaultencrypted\nCall test_mount_encrypted_fs() to verify password.\nSet ro.crypto.state to encrypted\nAttempt to mount the volume with default_password and succeeded\nUnmount tmpfs, and mount the real /data volume.\nSet vold.decrypt to trigger_restart_framework\nForceencrypt flow The difference with encryptable flag is that forceencrypt is auto encrypt at first boot, and no need to reboot during encrypt/decrypt.\n","permalink":"https://oopsmonk.github.io/posts/2016-04-29-android-full-disk-encryption-workflow/","summary":"\u003cp\u003eThis study is based on Android Marshmallow.\u003cbr\u003e\nAndroid full disk encryption use dm-crypt, which works with block devices. Please refer to the following docs for more detail:\u003cbr\u003e\n\u003ca href=\"https://source.android.com/security/encryption/\"\u003eFull Disk Encryption\u003c/a\u003e\u003c/p\u003e\n\u003ch2 id=\"how-to-setup-full-disk-encryption\"\u003eHow to setup full disk encryption\u003c/h2\u003e\n\u003cp\u003eAndroid support \u003cstrong\u003eforceencrypt\u003c/strong\u003e and \u003cstrong\u003eencryptable\u003c/strong\u003e encryption flags, and only support ext4 and f2fs file systems.\u003c/p\u003e\n\u003cp\u003eSetup forceencrypt \u003ca href=\"http://androidxref.com/6.0.1_r10/xref/device/lge/bullhead/fstab.bullhead#8\"\u003efstab.bullhead\u003c/a\u003e:\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003e/dev/block/platform/soc.0/f9824900.sdhci/by-name/userdata     /data           ext4    noatime,nosuid,nodev,barrier=1,data=ordered,nomblk_io_submit,noauto_da_alloc,errors=panic wait,check,forceencrypt=/dev/block/platform/soc.0/f9824900.sdhci/by-name/metadata \n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eSetup encryptable \u003ca href=\"http://androidxref.com/6.0.1_r10/xref/device/lge/hammerhead/fstab.hammerhead#7\"\u003efstab.hammerhead\u003c/a\u003e:\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003e/dev/block/platform/msm_sdcc.1/by-name/userdata     /data           ext4    noatime,nosuid,nodev,barrier=1,data=ordered,nomblk_io_submit,noauto_da_alloc,errors=panic wait,check,encryptable=/dev/block/platform/msm_sdcc.1/by-name/metadata \n\u003c/code\u003e\u003c/pre\u003e\u003ch2 id=\"related-properties-and-source-code-location\"\u003eRelated Properties and source code location\u003c/h2\u003e\n\u003cp\u003eRelated source code:\u003c/p\u003e","title":"Android Full Disk Encryption Workflow (default encryption)"},{"content":"Install requirements sudo apt-get install build-essential autoconf liblockdev1-dev \\ libudev-dev git libtool pkg-config cmake libxrandr-dev -y Python and Swing support (Optional)\nsudo apt-get install python-dev swig -y Checkout and build libcec source code The current version is libcec-3.0.1, but I got an error as follows:\nmake[2]: *** No rule to make target '1', needed by 'src/libcec/libcec.so.3.0.1'. Stop. Using libcec-3.0.0 instead of libcec-3.0.1, it\u0026rsquo;s work properly.\ngit clone https://github.com/Pulse-Eight/libcec.git cd libcec git checkout libcec-3.0.0 -b cec3.0.0 Checkout platform source\ncd libcec/src/platform git clone https://github.com/Pulse-Eight/platform.git . mkdir build \u0026amp;\u0026amp; cd $_ Build platform\ncmake -DCMAKE_CXX_COMPILER=g++-4.8 .. make \u0026amp;\u0026amp; sudo make install Modify ~/libcec/src/libcec/cmake/CheckPlatformSupport.cmake\ndiff --git a/src/libcec/cmake/CheckPlatformSupport.cmake b/src/libcec/cmake/CheckPlatformSupport.cmake index 828cdb2..b1ec498 100644 --- a/src/libcec/cmake/CheckPlatformSupport.cmake +++ b/src/libcec/cmake/CheckPlatformSupport.cmake @@ -75,9 +75,10 @@ else() endif() # raspberry pi - check_library_exists(bcm_host vchi_initialise \u0026#34;\u0026#34; HAVE_RPI_API) + check_library_exists(bcm_host bcm_host_init \u0026#34;\u0026#34; HAVE_RPI_API) if (HAVE_RPI_API) set(LIB_INFO \u0026#34;${LIB_INFO}, \u0026#39;RPi\u0026#39;\u0026#34;) + include_directories(/opt/vc/include /opt/vc/include/interface/vcos/pthreads /opt/vc/include/interface/vmcs_host/linux) list(APPEND CMAKE_REQUIRED_LIBRARIES \u0026#34;vcos\u0026#34;) list(APPEND CMAKE_REQUIRED_LIBRARIES \u0026#34;vchiq_arm\u0026#34;) set(CEC_SOURCES_ADAPTER_RPI adapter/RPi/RPiCECAdapterDetection.cpp Build libcec\ncd ~/libcec mkdir build \u0026amp;\u0026amp; cd $_ cmake -DBUILD_SHARED_LIBS=1 -DCMAKE_CXX_COMPILER=g++-4.8 .. The configuration on my pi\n-- Configured features: -- Pulse-Eight CEC Adapter: yes -- Pulse-Eight CEC Adapter detection: yes -- lockdev support: yes -- xrandr support: yes -- Raspberry Pi support: no -- TDA995x support: no -- Exynos support: no -- Python support: version 2.7.3 (2.7) -- lib info: compiled on Linux-3.18.11+, features: P8_USB, P8_detect, randr -- Configuring done -- Generating done Make and install library\nmake \u0026amp;\u0026amp; sudo make install Test libcec Testing Samsung UA46B6000VM\nYou can test via cec-client or libcec/src/pyCecClient/pyCecClient.py(if you built with python support). h for help and q for exit cec-client.\nAs a playback device:\noopsmonk@raspberrypi ~ $ sudo cec-client -t p [sudo] password for oopsmonk: == using device type \u0026#39;playback device\u0026#39; CEC Parser created - libCEC version 3.0.0 no serial port given. trying autodetect: path: Raspberry Pi com port: RPI opening a connection to the CEC adapter... DEBUG: [ 102] Broadcast (F): osd name set to \u0026#39;Broadcast\u0026#39; DEBUG: [ 104] InitHostCEC - vchiq_initialise succeeded DEBUG: [ 105] InitHostCEC - vchi_initialise succeeded DEBUG: [ 107] InitHostCEC - vchi_connect succeeded DEBUG: [ 109] logical address changed to Free use (e) DEBUG: [ 111] Open - vc_cec initialised NOTICE: [ 112] connection opened DEBUG: [ 114] \u0026lt;\u0026lt; Broadcast (F) -\u0026gt; TV (0): POLL DEBUG: [ 114] initiator \u0026#39;Broadcast\u0026#39; is not supported by the CEC adapter. using \u0026#39;Free use\u0026#39; instead TRAFFIC: [ 115] \u0026lt;\u0026lt; e0 DEBUG: [ 119] processor thread started DEBUG: [ 176] \u0026gt;\u0026gt; POLL sent DEBUG: [ 176] TV (0): device status changed into \u0026#39;present\u0026#39; DEBUG: [ 176] \u0026lt;\u0026lt; requesting vendor ID of \u0026#39;TV\u0026#39; (0) TRAFFIC: [ 177] \u0026lt;\u0026lt; e0:8c TRAFFIC: [ 369] \u0026gt;\u0026gt; 0f:87:00:00:f0 DEBUG: [ 369] TV (0): vendor = Samsung (0000f0) DEBUG: [ 371] \u0026gt;\u0026gt; TV (0) -\u0026gt; Broadcast (F): device vendor id (87) DEBUG: [ 372] expected response received (87: device vendor id) DEBUG: [ 373] replacing the command handler for device \u0026#39;TV\u0026#39; (0) NOTICE: [ 373] registering new CEC client - v3.0.0 DEBUG: [ 373] detecting logical address for type \u0026#39;playback device\u0026#39; DEBUG: [ 373] trying logical address \u0026#39;Playback 1\u0026#39; DEBUG: [ 373] \u0026lt;\u0026lt; Playback 1 (4) -\u0026gt; Playback 1 (4): POLL TRAFFIC: [ 374] \u0026lt;\u0026lt; 44 TRAFFIC: [ 464] \u0026lt;\u0026lt; 44 DEBUG: [ 555] \u0026gt;\u0026gt; POLL not sent DEBUG: [ 555] using logical address \u0026#39;Playback 1\u0026#39; DEBUG: [ 555] Playback 1 (4): device status changed into \u0026#39;handled by libCEC\u0026#39; DEBUG: [ 555] Playback 1 (4): power status changed from \u0026#39;unknown\u0026#39; to \u0026#39;on\u0026#39; DEBUG: [ 555] Playback 1 (4): vendor = Pulse Eight (001582) DEBUG: [ 556] Playback 1 (4): CEC version 1.4 DEBUG: [ 556] AllocateLogicalAddresses - device \u0026#39;0\u0026#39;, type \u0026#39;playback device\u0026#39;, LA \u0026#39;4\u0026#39; DEBUG: [ 557] logical address changed to Playback 1 (4) DEBUG: [ 560] Playback 1 (4): osd name set to \u0026#39;CECTester\u0026#39; DEBUG: [ 560] Playback 1 (4): menu language set to \u0026#39;eng\u0026#39; DEBUG: [ 564] GetPhysicalAddress - physical address = 1000 DEBUG: [ 565] AutodetectPhysicalAddress - autodetected physical address \u0026#39;1000\u0026#39; DEBUG: [ 565] Playback 1 (4): physical address changed from ffff to 1000 DEBUG: [ 565] \u0026lt;\u0026lt; Playback 1 (4) -\u0026gt; broadcast (F): physical adddress 1000 TRAFFIC: [ 565] \u0026lt;\u0026lt; 4f:84:10:00:04 NOTICE: [ 716] CEC client registered: libCEC version = 3.0.0, client version = 3.0.0, firmware version = 1, logical address(es) = Playback 1 (4) , physical address: 1.0.0.0, compiled on Linux-3.18.11+, features: P8_USB, P8_detect, randr, \u0026#39;RPi\u0026#39; DEBUG: [ 717] \u0026lt;\u0026lt; Playback 1 (4) -\u0026gt; TV (0): OSD name \u0026#39;CECTester\u0026#39; TRAFFIC: [ 717] \u0026lt;\u0026lt; 40:47:43:45:43:54:65:73:74:65:72 DEBUG: [ 1018] \u0026lt;\u0026lt; requesting power status of \u0026#39;TV\u0026#39; (0) TRAFFIC: [ 1018] \u0026lt;\u0026lt; 40:8f waiting for input TRAFFIC: [ 1162] \u0026gt;\u0026gt; 04:90:00 DEBUG: [ 1162] TV (0): power status changed from \u0026#39;unknown\u0026#39; to \u0026#39;on\u0026#39; DEBUG: [ 1163] expected response received (90: report power status) DEBUG: [ 1165] \u0026gt;\u0026gt; TV (0) -\u0026gt; Playback 1 (4): report power status (90) Get CEC version\nver 0 DEBUG: [ 209560] \u0026lt;\u0026lt; requesting CEC version of \u0026#39;TV\u0026#39; (0) TRAFFIC: [ 209561] \u0026lt;\u0026lt; 40:9f TRAFFIC: [ 209718] \u0026gt;\u0026gt; 04:9e:04 DEBUG: [ 209718] TV (0): CEC version 1.3a DEBUG: [ 209720] \u0026gt;\u0026gt; TV (0) -\u0026gt; Playback 1 (4): cec version (9E) CEC version 1.3a DEBUG: [ 209723] expected response received (9E: cec version) Set inactive source\nis DEBUG: [ 281092] marking Playback 1 (4) as inactive source NOTICE: [ 281094] \u0026gt;\u0026gt; source deactivated: Playback 1 (4) NOTICE: [ 281095] \u0026lt;\u0026lt; Playback 1 (4) -\u0026gt; broadcast (F): inactive source TRAFFIC: [ 281097] \u0026lt;\u0026lt; 40:9d:10:00 TRAFFIC: [ 283632] \u0026gt;\u0026gt; 0f:82:00:00 DEBUG: [ 283632] making TV (0) the active source DEBUG: [ 283635] \u0026gt;\u0026gt; TV (0) -\u0026gt; Broadcast (F): active source (82) TRAFFIC: [ 283850] \u0026gt;\u0026gt; 0f:80:10:00:00:00 DEBUG: [ 283852] \u0026gt;\u0026gt; TV (0) -\u0026gt; Broadcast (F): routing change (80) Set active source\nas DEBUG: [ 288309] making Playback 1 (4) the active source DEBUG: [ 288310] marking TV (0) as inactive source NOTICE: [ 288312] \u0026gt;\u0026gt; source activated: Playback 1 (4) DEBUG: [ 288314] sending active source message for \u0026#39;Playback 1\u0026#39; NOTICE: [ 288315] \u0026lt;\u0026lt; powering on \u0026#39;TV\u0026#39; (0) TRAFFIC: [ 288317] \u0026lt;\u0026lt; 40:04 NOTICE: [ 288379] \u0026lt;\u0026lt; Playback 1 (4) -\u0026gt; broadcast (F): active source (1000) TRAFFIC: [ 288381] \u0026lt;\u0026lt; 4f:82:10:00 DEBUG: [ 288503] \u0026lt;\u0026lt; Playback 1 (4) -\u0026gt; TV (0): menu state \u0026#39;activated\u0026#39; TRAFFIC: [ 288505] \u0026lt;\u0026lt; 40:8e:00 TRAFFIC: [ 288675] \u0026gt;\u0026gt; 04:8d:02 DEBUG: [ 288675] \u0026lt;\u0026lt; Playback 1 (4) -\u0026gt; TV (0): menu state \u0026#39;activated\u0026#39; TRAFFIC: [ 288675] \u0026lt;\u0026lt; 40:8e:00 DEBUG: [ 288677] \u0026gt;\u0026gt; TV (0) -\u0026gt; Playback 1 (4): menu request (8D) TRAFFIC: [ 288853] \u0026gt;\u0026gt; 04:1a:01 DEBUG: [ 288853] \u0026lt;\u0026lt; Playback 1 (4) -\u0026gt; TV (0): deck status \u0026#39;stop\u0026#39; TRAFFIC: [ 288853] \u0026lt;\u0026lt; 40:1b:1a DEBUG: [ 288855] \u0026gt;\u0026gt; TV (0) -\u0026gt; Playback 1 (4): give deck status (1A) Emit Standby command to TV\nstandby 0 NOTICE: [ 40210] \u0026lt;\u0026lt; putting \u0026#39;TV\u0026#39; (0) in standby mode TRAFFIC: [ 40212] \u0026lt;\u0026lt; 40:36 TRAFFIC: [ 40577] \u0026gt;\u0026gt; 0f:36 DEBUG: [ 40577] TV (0): power status changed from \u0026#39;on\u0026#39; to \u0026#39;standby\u0026#39; DEBUG: [ 40579] \u0026gt;\u0026gt; TV (0) -\u0026gt; Broadcast (F): standby (36) Power on TV\non 0 NOTICE: [ 57151] \u0026lt;\u0026lt; powering on \u0026#39;TV\u0026#39; (0) TRAFFIC: [ 57153] \u0026lt;\u0026lt; 40:04 DEBUG: [ 57215] TV (0): power status changed from \u0026#39;standby\u0026#39; to \u0026#39;in transition from standby to on\u0026#39; DEBUG: [ 63175] GetPhysicalAddress - physical address = 1000 NOTICE: [ 63176] physical address changed to 1000 DEBUG: [ 63176] physical address unchanged (1000) TRAFFIC: [ 70645] \u0026gt;\u0026gt; 0f:80:00:00:10:00 DEBUG: [ 70646] TV (0): power status changed from \u0026#39;in transition from standby to on\u0026#39; to \u0026#39;on\u0026#39; DEBUG: [ 70646] making Playback 1 (4) the active source NOTICE: [ 70646] \u0026gt;\u0026gt; source activated: Playback 1 (4) DEBUG: [ 70646] sending active source message for \u0026#39;Playback 1\u0026#39; NOTICE: [ 70646] \u0026lt;\u0026lt; powering on \u0026#39;TV\u0026#39; (0) TRAFFIC: [ 70647] \u0026lt;\u0026lt; 40:04 DEBUG: [ 70648] \u0026gt;\u0026gt; TV (0) -\u0026gt; Broadcast (F): routing change (80) NOTICE: [ 70737] \u0026lt;\u0026lt; Playback 1 (4) -\u0026gt; broadcast (F): active source (1000) TRAFFIC: [ 70738] \u0026lt;\u0026lt; 4f:82:10:00 DEBUG: [ 70889] \u0026lt;\u0026lt; Playback 1 (4) -\u0026gt; TV (0): menu state \u0026#39;activated\u0026#39; TRAFFIC: [ 70889] \u0026lt;\u0026lt; 40:8e:00 TRAFFIC: [ 71160] \u0026gt;\u0026gt; 0f:85 DEBUG: [ 71160] \u0026gt;\u0026gt; 0 requests active source NOTICE: [ 71161] \u0026lt;\u0026lt; Playback 1 (4) -\u0026gt; broadcast (F): active source (1000) TRAFFIC: [ 71161] \u0026lt;\u0026lt; 4f:82:10:00 DEBUG: [ 71162] \u0026gt;\u0026gt; TV (0) -\u0026gt; Broadcast (F): request active source (85) TRAFFIC: [ 71402] \u0026gt;\u0026gt; 0f:80:00:00:10:00 DEBUG: [ 71403] Playback 1 (4) was already marked as active source NOTICE: [ 71403] \u0026gt;\u0026gt; source activated: Playback 1 (4) DEBUG: [ 71403] sending active source message for \u0026#39;Playback 1\u0026#39; NOTICE: [ 71403] \u0026lt;\u0026lt; powering on \u0026#39;TV\u0026#39; (0) TRAFFIC: [ 71403] \u0026lt;\u0026lt; 40:04 DEBUG: [ 71405] \u0026gt;\u0026gt; TV (0) -\u0026gt; Broadcast (F): routing change (80) NOTICE: [ 71554] \u0026lt;\u0026lt; Playback 1 (4) -\u0026gt; broadcast (F): active source (1000) TRAFFIC: [ 71555] \u0026lt;\u0026lt; 4f:82:10:00 DEBUG: [ 71765] \u0026lt;\u0026lt; Playback 1 (4) -\u0026gt; TV (0): menu state \u0026#39;activated\u0026#39; TRAFFIC: [ 71766] \u0026lt;\u0026lt; 40:8e:00 TRAFFIC: [ 71947] \u0026gt;\u0026gt; 0f:32:65:6e:67 DEBUG: [ 71947] TV (0): menu language set to \u0026#39;eng\u0026#39; TRAFFIC: [ 71948] \u0026gt;\u0026gt; 04:8d:02 DEBUG: [ 71948] \u0026lt;\u0026lt; Playback 1 (4) -\u0026gt; TV (0): menu state \u0026#39;activated\u0026#39; TRAFFIC: [ 71948] \u0026lt;\u0026lt; 40:8e:00 DEBUG: [ 71950] \u0026gt;\u0026gt; TV (0) -\u0026gt; Broadcast (F): set menu language (32) DEBUG: [ 71952] \u0026gt;\u0026gt; TV (0) -\u0026gt; Playback 1 (4): menu request (8D) TRAFFIC: [ 72129] \u0026gt;\u0026gt; 04:1a:01 DEBUG: [ 72129] \u0026lt;\u0026lt; Playback 1 (4) -\u0026gt; TV (0): deck status \u0026#39;stop\u0026#39; TRAFFIC: [ 72129] \u0026lt;\u0026lt; 40:1b:1a DEBUG: [ 72132] \u0026gt;\u0026gt; TV (0) -\u0026gt; Playback 1 (4): give deck status (1A) TRAFFIC: [ 72371] \u0026gt;\u0026gt; 04:8d:02 DEBUG: [ 72371] \u0026lt;\u0026lt; Playback 1 (4) -\u0026gt; TV (0): menu state \u0026#39;activated\u0026#39; TRAFFIC: [ 72371] \u0026lt;\u0026lt; 40:8e:00 DEBUG: [ 72373] \u0026gt;\u0026gt; TV (0) -\u0026gt; Playback 1 (4): menu request (8D) TRAFFIC: [ 72642] \u0026gt;\u0026gt; 04:8d:02 DEBUG: [ 72643] \u0026lt;\u0026lt; Playback 1 (4) -\u0026gt; TV (0): menu state \u0026#39;activated\u0026#39; TRAFFIC: [ 72643] \u0026lt;\u0026lt; 40:8e:00 DEBUG: [ 72645] \u0026gt;\u0026gt; TV (0) -\u0026gt; Playback 1 (4): menu request (8D) TRAFFIC: [ 75054] \u0026gt;\u0026gt; 04:8c DEBUG: [ 75055] \u0026lt;\u0026lt; Playback 1 (4) -\u0026gt; TV (0): vendor id Pulse Eight (1582) TRAFFIC: [ 75055] \u0026lt;\u0026lt; 4f:87:00:15:82 DEBUG: [ 75057] \u0026gt;\u0026gt; TV (0) -\u0026gt; Playback 1 (4): give device vendor id (8C) TRAFFIC: [ 75275] \u0026gt;\u0026gt; 04:46 DEBUG: [ 75276] \u0026lt;\u0026lt; Playback 1 (4) -\u0026gt; TV (0): OSD name \u0026#39;CECTester\u0026#39; TRAFFIC: [ 75276] \u0026lt;\u0026lt; 40:47:43:45:43:54:65:73:74:65:72 DEBUG: [ 75278] \u0026gt;\u0026gt; TV (0) -\u0026gt; Playback 1 (4): give osd name (46) TRAFFIC: [ 75744] \u0026gt;\u0026gt; 04:a0:00:00:f0:23 TRAFFIC: [ 75745] \u0026lt;\u0026lt; 40:a0:00:00:f0:24:00:80 DEBUG: [ 75746] \u0026gt;\u0026gt; TV (0) -\u0026gt; Playback 1 (4): vendor command with id (A0) TRAFFIC: [ 76037] \u0026gt;\u0026gt; 04:9f DEBUG: [ 76037] \u0026lt;\u0026lt; Playback 1 (4) -\u0026gt; TV (0): cec version 1.4 TRAFFIC: [ 76037] \u0026lt;\u0026lt; 40:9e:05 DEBUG: [ 76039] \u0026gt;\u0026gt; TV (0) -\u0026gt; Playback 1 (4): get cec version (9F) TRAFFIC: [ 76214] \u0026gt;\u0026gt; 0f:85 DEBUG: [ 76214] \u0026gt;\u0026gt; 0 requests active source NOTICE: [ 76214] \u0026lt;\u0026lt; Playback 1 (4) -\u0026gt; broadcast (F): active source (1000) TRAFFIC: [ 76214] \u0026lt;\u0026lt; 4f:82:10:00 DEBUG: [ 76216] \u0026gt;\u0026gt; TV (0) -\u0026gt; Broadcast (F): request active source (85) TRAFFIC: [ 76417] \u0026gt;\u0026gt; 04:8d:02 DEBUG: [ 76417] \u0026lt;\u0026lt; Playback 1 (4) -\u0026gt; TV (0): menu state \u0026#39;activated\u0026#39; TRAFFIC: [ 76417] \u0026lt;\u0026lt; 40:8e:00 DEBUG: [ 76419] \u0026gt;\u0026gt; TV (0) -\u0026gt; Playback 1 (4): menu request (8D) TRAFFIC: [ 76595] \u0026gt;\u0026gt; 04:8d:02 DEBUG: [ 76595] \u0026lt;\u0026lt; Playback 1 (4) -\u0026gt; TV (0): menu state \u0026#39;activated\u0026#39; TRAFFIC: [ 76595] \u0026lt;\u0026lt; 40:8e:00 DEBUG: [ 76597] \u0026gt;\u0026gt; TV (0) -\u0026gt; Playback 1 (4): menu request (8D) Help\nh ================================================================================ Available commands: [tx] {bytes} transfer bytes over the CEC line. [txn] {bytes} transfer bytes but don\u0026#39;t wait for transmission ACK. [on] {address} power on the device with the given logical address. [standby] {address} put the device with the given address in standby mode. [la] {logical address} change the logical address of the CEC adapter. [p] {device} {port} change the HDMI port number of the CEC adapter. [pa] {physical address} change the physical address of the CEC adapter. [as] make the CEC adapter the active source. [is] mark the CEC adapter as inactive source. [osd] {addr} {string} set OSD message on the specified device. [ver] {addr} get the CEC version of the specified device. [ven] {addr} get the vendor ID of the specified device. [lang] {addr} get the menu language of the specified device. [pow] {addr} get the power status of the specified device. [name] {addr} get the OSD name of the specified device. [poll] {addr} poll the specified device. [lad] lists active devices on the bus [ad] {addr} checks whether the specified device is active. [at] {type} checks whether the specified device type is active. [sp] {addr} makes the specified physical address active. [spl] {addr} makes the specified logical address active. [volup] send a volume up command to the amp if present [voldown] send a volume down command to the amp if present [mute] send a mute/unmute command to the amp if present [self] show the list of addresses controlled by libCEC [scan] scan the CEC bus and display device info [mon] {1|0} enable or disable CEC bus monitoring. [log] {1 - 31} change the log level. see cectypes.h for values. [ping] send a ping command to the CEC adapter. [bl] to let the adapter enter the bootloader, to upgrade the flash rom. [r] reconnect to the CEC adapter. [h] or [help] show this help. [q] or [quit] to quit the CEC test client and switch off all connected CEC devices. ================================================================================ ","permalink":"https://oopsmonk.github.io/posts/2015-11-03-libcec-on-raspberry-pi/","summary":"\u003ch2 id=\"install-requirements\"\u003eInstall requirements\u003c/h2\u003e\n\u003cpre\u003e\u003ccode\u003esudo apt-get install build-essential autoconf liblockdev1-dev \\\nlibudev-dev git libtool pkg-config cmake libxrandr-dev -y  \n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003ePython and Swing support (Optional)\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003esudo apt-get install python-dev swig -y  \n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"checkout-and-build-libcec-source-code\"\u003eCheckout and build libcec source code\u003c/h2\u003e\n\u003cp\u003eThe current version is libcec-3.0.1, but I got an error as follows:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003emake[2]: *** No rule to make target '1', needed by 'src/libcec/libcec.so.3.0.1'.  Stop.  \n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eUsing libcec-3.0.0 instead of libcec-3.0.1, it\u0026rsquo;s work properly.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003egit clone https://github.com/Pulse-Eight/libcec.git  \ncd libcec\ngit checkout libcec-3.0.0 -b cec3.0.0  \n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eCheckout platform source\u003c/p\u003e","title":"LibCEC on Raspberry Pi"},{"content":"Firefox is extremely slow on my system, include menu, right-click, tab opening\u0026hellip;etc.\nMozilla Firefox 40.0\nXubuntu 14.04 LTS 64-bit\nLinux 3.16.0-45-generic #60~14.04.1-Ubuntu SMP Fri Jul 24 21:16:23 UTC 2015 x86_64 x86_64 x86_64 GNU/Linux\nAfter I turned off hardware acceleration, everything is fine.\nType this in the browser\u0026rsquo;s address bar to trun it off:\nabout:preferences#advanced ","permalink":"https://oopsmonk.github.io/posts/2015-08-18-firefox-is-really-slow/","summary":"\u003cp\u003eFirefox is extremely slow on my system, include menu, right-click, tab opening\u0026hellip;etc.\u003cbr\u003e\n\u003cem\u003eMozilla Firefox 40.0\u003cbr\u003e\nXubuntu 14.04 LTS 64-bit\u003cbr\u003e\nLinux 3.16.0-45-generic #60~14.04.1-Ubuntu SMP Fri Jul 24 21:16:23 UTC 2015 x86_64 x86_64 x86_64 GNU/Linux\u003c/em\u003e\u003c/p\u003e\n\u003cp\u003eAfter I turned off \u003cstrong\u003ehardware acceleration\u003c/strong\u003e, everything is fine.\u003cbr\u003e\nType this in the browser\u0026rsquo;s address bar to trun it off:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eabout:preferences#advanced  \n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cimg loading=\"lazy\" src=\"/images/2015-08-18/firefox_setting.jpg\"\u003e\u003c/p\u003e","title":"Firefox is Really Slow"},{"content":"Download Sublime Text 3 http://www.sublimetext.com/3\nInstall Package Control https://packagecontrol.io/installation#st3\nUse Ctrl + ` or View \u0026gt; Show Console open the Sublime Text console.\nCopy the text into console and press Enter to install Package Control.\nOnce finished installation, restart Sublime.\nInstall Markdown Preview package Open command palette via Ctrl + Shift + p or Preferences \u0026gt; Package Control from menu.\nAfter typing install and press Enter, it will pop-up a package menu.\nThen keep typing markdown preview, press Enter.\nThe package will be installed.\nTest Markdown Preview Open a Markdown file and make sure you choose right Build System.\nAnd, press Ctrl + b to build a HTML preview file that you can view on the Browser.\n","permalink":"https://oopsmonk.github.io/posts/2015-08-12-markdown-preview-use-sublime-text-3/","summary":"\u003ch2 id=\"download-sublime-text-3\"\u003eDownload Sublime Text 3\u003c/h2\u003e\n\u003cp\u003e\u003ca href=\"http://www.sublimetext.com/3\"\u003ehttp://www.sublimetext.com/3\u003c/a\u003e\u003c/p\u003e\n\u003ch2 id=\"install-package-control\"\u003eInstall Package Control\u003c/h2\u003e\n\u003cp\u003e\u003ca href=\"https://packagecontrol.io/installation#st3\"\u003ehttps://packagecontrol.io/installation#st3\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eUse \u003ccode\u003eCtrl + `  \u003c/code\u003e or \u003ccode\u003eView \u0026gt; Show Console\u003c/code\u003e open the Sublime Text console.\u003c/p\u003e\n\u003cp\u003e\u003cimg loading=\"lazy\" src=\"/images/2015-08-12/SublimeText3_01.jpg\"\u003e\u003c/p\u003e\n\u003cp\u003eCopy the text into console and press \u003ccode\u003eEnter\u003c/code\u003e to install Package Control.\u003cbr\u003e\nOnce finished installation, restart Sublime.\u003c/p\u003e\n\u003cp\u003e\u003cimg loading=\"lazy\" src=\"/images/2015-08-12/SublimeText3_06.jpg\"\u003e\u003c/p\u003e\n\u003ch2 id=\"install-markdown-preview-package\"\u003eInstall Markdown Preview package\u003c/h2\u003e\n\u003cp\u003eOpen command palette via \u003ccode\u003eCtrl + Shift + p\u003c/code\u003e or \u003ccode\u003ePreferences \u0026gt; Package Control\u003c/code\u003e from menu.\u003c/p\u003e\n\u003cp\u003e\u003cimg loading=\"lazy\" src=\"/images/2015-08-12/SublimeText3_02.jpg\"\u003e\u003c/p\u003e\n\u003cp\u003eAfter typing \u003ccode\u003einstall\u003c/code\u003e and press \u003ccode\u003eEnter\u003c/code\u003e, it will pop-up a package menu.\u003c/p\u003e","title":"Markdown Preview Use Sublime Text 3"},{"content":"I found some mystery visitors in nginx\u0026rsquo;s access log. I tried to figure out the location of those visitors and what they did.\nIP collection First copy nginx\u0026rsquo;s access log to a folder and save all logs into a single file.\n$ mkdir mysteryIPs \u0026amp;\u0026amp; cd $_ $ sudo cp /var/log/nginx/access.log.* . $ zcat access.log.* \u0026gt; access-gz.log $ cat access.log.1 \u0026gt;\u0026gt; access-gz.log $ cat access.log \u0026gt;\u0026gt; access-gz.log Remove LAN accesses from log file, for example my subnet IP rang is 192.168.x.x\n$ sed '/^192.168/d' ./access-gz.log \u0026gt; removeLAN.log Getting unique IP list.\n$ cat removeLAN.log | awk '{print $1}' | sort -u \u0026gt; uniqueIP Drawing visitors on the world map We have to know where are visitors from and mark them on map.\nI found an example of plotting GeoIP on map, PyGeoIpMap. But it took too long on geolocation when I was trying to use it. So I modified it, I use Geocoder instead of the original one.\nInstall dependencies for our python script\n$ sudo apt-get install python-numpy python-matplotlib python-mpltoolkits.basemap $ sudo pip install geocoder Here is the script Ggeoipmap.py, please right click to save.\n$ chmod +x Ggeoipmap.py $ ./Ggeoipmap.py -i uniqueIP -o ipmap.jpg [maxmind] 101.xxx.xx9 (1/332) country: Thailand [maxmind] 104.xxx.xx0 (2/332) country: Canada [maxmind] 104.xxx.xx(3/332) country: United States [maxmind] 104.xxx.xx (4/332) country: United States [maxmind] 104.xxx.xx (5/332) country: United States [maxmind] 104.xxx.xx1 (6/332) country: United States [maxmind] 108.xxx.xx (7/332) country: United States [maxmind] 110.xxx.xx0 (8/332) country: Thailand [maxmind] 111.xxx.xx (9/332) country: Taiwan [maxmind] 112.xxx.xx9 (10/332) country: Republic of Korea [maxmind] 112.xxx.xx5 (11/332) country: Republic of Korea [maxmind] 113.xxx.xx3 (12/332) country: China ... [mapquest] 94.xxx.xx.195 (331/332) country: TH [mapquest] 94.xx.xx.102 (332/332) country: PL Generating map and saving it to mapquest-ipmap.jpg You can find graphics prefixed with geocoding service providers.\n$ find . -name '*ipmap.jpg' ./yahoo-ipmap.jpg ./mapquest-ipmap.jpg ./tomtom-ipmap.jpg ./maxmind-ipmap.jpg ./osm-ipmap.jpg ./google-ipmap.jpg Yahoo\nMapQuest\nTOMTOM\nMaxMind\nOSM\nGoogle\nOther information from access log We can find more information from those logs, as follows.\nAccess counts per visitor\nDisplay access counts with each visitor.\n$ cat removeLAN.log | awk \u0026#39;{print $1}\u0026#39; | sort | uniq -c | sed \u0026#39;s/^[ \\t]*//\u0026#39; | sort -k1 -n 1 11x.xxx.xxx.187 1 1.x.xxx.xxx.0 1 11x.xxx.xxx.1 1 11x.xxx.xxx.225 1 11x.xxx.xxx 1 12x.xxx.xxx.111 13 1x.xxx.xxx.54 13 1x.xxx.xxx.12 13 2x.xxx.xxx.250 14 9x.xxx.xxx.69 15 1x.xxx.xxx.166 15 1x.xxx.xxx.167 15 1x.xxx.xxx.135 15 6x.xxx.xxx.8 17 2x.xxx.xxx.51 45 2x.xxx.xxx.56 52 2x.xxx.xxx.89 56 1x.xxx.xxx.5 62 1x.xxx.xxx.0 84 8x.xxx.xxx.6 85 1x.xxx.xxx.211 90 1x.xxx.xxx.3 100 1xx.xxx.x49 100 6xx.xxx.x6 101 1xx.xxx.x.1 101 8xx.xxx.x146 159 1xx.xxx.x28 $ Requests\nDisplay request and counts with visitors.\n$ cat removeLAN.log | awk \u0026#39;split($0, a, \u0026#34;\\\u0026#34;\u0026#34;) {$6 = \u0026#34;\\\u0026#34;\u0026#34;a[2]\u0026#34;\\\u0026#34;\u0026#34;} {print $1 \u0026#34; \u0026#34; $6}\u0026#39; | sort | uniq -c | sort -k 1 -n 23 1xx.xxx.xxx.231 \u0026#34;GET / HTTP/1.1\u0026#34; 23 5x.xxx.xxx.182 \u0026#34;GET http://www.baidu.com/ HTTP/1.1\u0026#34; 26 2xx.xxx.xxx.130 \u0026#34;\\x03\\x00\\x00)$\\xE0\\x00\\x00\\x00\\x00\\x00Cookie: mstshash=NCRACK_USER\u0026#34; 27 2xx.xxx.xxx.6 \u0026#34;GET http://www.baidu.com/ HTTP/1.1\u0026#34; 30 5xx.xxx.xxx.169 \u0026#34;GET http://www.baidu.com/ HTTP/1.1\u0026#34; 32 5xx.xxx.xxx.136 \u0026#34;GET http://www.baidu.com/ HTTP/1.1\u0026#34; 34 1xx.xxx.xxx.0 \u0026#34;GET / HTTP/1.1\u0026#34; 34 2xx.xxx.xxx.55 \u0026#34;GET http://www.baidu.com/ HTTP/1.1\u0026#34; 34 2xx.xxx.xxx.90 \u0026#34;GET http://www.baidu.com/ HTTP/1.1\u0026#34; 38 2xx.xxx.xxx.54 \u0026#34;GET http://www.baidu.com/ HTTP/1.1\u0026#34; 42 2xx.xxx.xxx.52 \u0026#34;GET http://www.baidu.com/ HTTP/1.1\u0026#34; 42 2xx.xxx.xxx.53 \u0026#34;GET http://www.baidu.com/ HTTP/1.1\u0026#34; 44 2xx.xxx.xxx.58 \u0026#34;GET http://www.baidu.com/ HTTP/1.1\u0026#34; 45 2xx.xxx.xxx.56 \u0026#34;GET http://www.baidu.com/ HTTP/1.1\u0026#34; 52 2xx.xxx.xxx.89 \u0026#34;GET http://www.baidu.com/ HTTP/1.1\u0026#34; 54 2xx.xxx.xxx.50 \u0026#34;GET http://www.baidu.com/ HTTP/1.1\u0026#34; 54 6x.xxx.xxx.229 \u0026#34;-\u0026#34; Counting Requests\nDisplay what kind of request from visitor.\n$ cat removeLAN.log | awk \u0026#39;split($0, a, \u0026#34;\\\u0026#34;\u0026#34;) {$6 = \u0026#34;\\\u0026#34;\u0026#34;a[2]\u0026#34;\\\u0026#34;\u0026#34;} {print $6}\u0026#39; | sort | uniq -c | sort -n 2 \u0026#34;GET /phpMyAdmin-2.2.3/ HTTP/1.1\u0026#34; 2 \u0026#34;GET /phpMyAdmin-2.2.6/ HTTP/1.1\u0026#34; 2 \u0026#34;GET /phpMyAdmin-2.3.0/ HTTP/1.1\u0026#34; 2 \u0026#34;GET /phpMyAdmin-2.3.1/ HTTP/1.1\u0026#34; 2 \u0026#34;GET /phpMyAdmin-2.3.2/ HTTP/1.1\u0026#34; 2 \u0026#34;GET /phpMyAdmin-2.3.3/ HTTP/1.1\u0026#34; 2 \u0026#34;GET /phpMyAdmin-2.3.4/ HTTP/1.1\u0026#34; 2 \u0026#34;GET /phpMyAdmin-2.3.5/ HTTP/1.1\u0026#34; 2 \u0026#34;GET /phpMyAdmin-2.3.6/ HTTP/1.1\u0026#34; 2 \u0026#34;GET /phpMyAdmin-2.3.7/ HTTP/1.1\u0026#34; 2 \u0026#34;GET /phpMyAdmin-2.3.8/ HTTP/1.1\u0026#34; 2 \u0026#34;GET /phpMyAdmin-2.3.9/ HTTP/1.1\u0026#34; 2 \u0026#34;GET /phpMyAdmin-2.4.0/ HTTP/1.1\u0026#34; 2 \u0026#34;GET /phpMyAdmin-2.4.1/ HTTP/1.1\u0026#34; 2 \u0026#34;GET /phpMyAdmin-2.4.2/ HTTP/1.1\u0026#34; 2 \u0026#34;GET /phpMyAdmin-2.4.3/ HTTP/1.1\u0026#34; 2 \u0026#34;GET /phpMyAdmin-2.4.4/ HTTP/1.1\u0026#34; 2 \u0026#34;GET /phpMyAdmin-2.4.5/ HTTP/1.1\u0026#34; 15 \u0026#34;GET //cpphpmyadmin/scripts/setup.php HTTP/1.1\u0026#34; 15 \u0026#34;GET //forum/phpmyadmin/scripts/setup.php HTTP/1.1\u0026#34; 15 \u0026#34;GET //_phpmyadmin/scripts/setup.php HTTP/1.1\u0026#34; 15 \u0026#34;GET //websql/scripts/setup.php HTTP/1.1\u0026#34; 16 \u0026#34;GET //php-my-admin/scripts/setup.php HTTP/1.1\u0026#34; 16 \u0026#34;GET //php/phpmyadmin/scripts/setup.php HTTP/1.1\u0026#34; 16 \u0026#34;GET //typo3/phpmyadmin/scripts/setup.php HTTP/1.1\u0026#34; 16 \u0026#34;GET //web/scripts/setup.php HTTP/1.1\u0026#34; 17 \u0026#34;GET //admin/phpmyadmin/scripts/setup.php HTTP/1.1\u0026#34; 17 \u0026#34;GET //admin/pma/scripts/setup.php HTTP/1.1\u0026#34; 17 \u0026#34;GET //admin/scripts/setup.php HTTP/1.1\u0026#34; 17 \u0026#34;GET //db/scripts/setup.php HTTP/1.1\u0026#34; 17 \u0026#34;GET //phpadmin/scripts/setup.php HTTP/1.1\u0026#34; 17 \u0026#34;GET //scripts/setup.php HTTP/1.1\u0026#34; 17 \u0026#34;GET //web/phpMyAdmin/scripts/setup.php HTTP/1.1\u0026#34; 17 \u0026#34;GET //xampp/phpmyadmin/scripts/setup.php HTTP/1.1\u0026#34; 18 \u0026#34;GET //dbadmin/scripts/setup.php HTTP/1.1\u0026#34; 18 \u0026#34;GET //mysql/scripts/setup.php HTTP/1.1\u0026#34; 18 \u0026#34;GET //phpMyAdmin-2/scripts/setup.php HTTP/1.1\u0026#34; 19 \u0026#34;GET /myadmin/scripts/setup.php HTTP/1.1\u0026#34; 19 \u0026#34;GET /pma/scripts/setup.php HTTP/1.1\u0026#34; 20 \u0026#34;GET //mysqladmin/scripts/setup.php HTTP/1.1\u0026#34; 20 \u0026#34;GET /phpMyAdmin/scripts/setup.php HTTP/1.1\u0026#34; 591 \u0026#34;GET http://www.baidu.com/ HTTP/1.1\u0026#34; 692 \u0026#34;GET / HTTP/1.1\u0026#34; Response Codes\nDisplay count of response codes.\n$ cat removeLAN.log | cut -d \u0026#39;\u0026#34;\u0026#39; -f3 | cut -d \u0026#39; \u0026#39; -f2 | sort | uniq -c | sort -rn 4567 200 1970 404 255 400 244 304 22 206 18 302 12 408 11 502 11 401 9 405 7 409 2 499 1 500 $ Weird requests\n\u0026#34;MZ\\x02\\x01\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x02\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x18\\x00\\x00\\x00\\x00\\x00\\x00\\x00G\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x01\\x00\\x00\\x00\u0026#34; \u0026#34;MZ\\x02\\x01\\x90\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x01\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00~\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x01\\x02\\x01\\x00\\xFF\\x01\\x00\\x00\\x01\\x00\\x00\\x00\\x00microsof-c5a626\\x00Windows XP Professional Service Pack 3 Version 5.1.2600\\x00Intel(R) Core(TM) i5-4200U CPU @ 1.60GHz\\x00\u0026#34; \u0026#34;POST /cgi-bin/php5?%2D%64+%61%6C%6C%6F%77%5F%75%72%6C%5F%69%6E%63%6C%75%64%65%3D%6F%6E+%2D%64+%73%61%66%65%5F%6D%6F%64%65%3D%6F%66%66+%2D%64+%73%75%68%6F%73%69%6E%2E%73%69%6D%75%6C%61%74%69%6F%6E%3D%6F%6E+%2D%64+%64%69%73%61%62%6C%65%5F%66%75%6E%63%74%69%6F%6E%73%3D%22%22+%2D%64+%6F%70%65%6E%5F%62%61%73%65%64%69%72%3D%6E%6F%6E%65+%2D%64+%61%75%74%6F%5F%70%72%65%70%65%6E%64%5F%66%69%6C%65%3D%70%68%70%3A%2F%2F%69%6E%70%75%74+%2D%64+%63%67%69%2E%66%6F%72%63%65%5F%72%65%64%69%72%65%63%74%3D%30+%2D%64+%63%67%69%2E%72%65%64%69%72%65%63%74%5F%73%74%61%74%75%73%5F%65%6E%76%3D%30+%2D%6E HTTP/1.1\u0026#34; \u0026#34;POST /cgi-bin/php-cgi?%2D%64+%61%6C%6C%6F%77%5F%75%72%6C%5F%69%6E%63%6C%75%64%65%3D%6F%6E+%2D%64+%73%61%66%65%5F%6D%6F%64%65%3D%6F%66%66+%2D%64+%73%75%68%6F%73%69%6E%2E%73%69%6D%75%6C%61%74%69%6F%6E%3D%6F%6E+%2D%64+%64%69%73%61%62%6C%65%5F%66%75%6E%63%74%69%6F%6E%73%3D%22%22+%2D%64+%6F%70%65%6E%5F%62%61%73%65%64%69%72%3D%6E%6F%6E%65+%2D%64+%61%75%74%6F%5F%70%72%65%70%65%6E%64%5F%66%69%6C%65%3D%70%68%70%3A%2F%2F%69%6E%70%75%74+%2D%64+%63%67%69%2E%66%6F%72%63%65%5F%72%65%64%69%72%65%63%74%3D%30+%2D%64+%63%67%69%2E%72%65%64%69%72%65%63%74%5F%73%74%61%74%75%73%5F%65%6E%76%3D%30+%2D%6E HTTP/1.1\u0026#34; \u0026#34;POST /cgi-bin/php.cgi?%2D%64+%61%6C%6C%6F%77%5F%75%72%6C%5F%69%6E%63%6C%75%64%65%3D%6F%6E+%2D%64+%73%61%66%65%5F%6D%6F%64%65%3D%6F%66%66+%2D%64+%73%75%68%6F%73%69%6E%2E%73%69%6D%75%6C%61%74%69%6F%6E%3D%6F%6E+%2D%64+%64%69%73%61%62%6C%65%5F%66%75%6E%63%74%69%6F%6E%73%3D%22%22+%2D%64+%6F%70%65%6E%5F%62%61%73%65%64%69%72%3D%6E%6F%6E%65+%2D%64+%61%75%74%6F%5F%70%72%65%70%65%6E%64%5F%66%69%6C%65%3D%70%68%70%3A%2F%2F%69%6E%70%75%74+%2D%64+%63%67%69%2E%66%6F%72%63%65%5F%72%65%64%69%72%65%63%74%3D%30+%2D%64+%63%67%69%2E%72%65%64%69%72%65%63%74%5F%73%74%61%74%75%73%5F%65%6E%76%3D%30+%2D%6E HTTP/1.1\u0026#34; \u0026#34;POST /cgi-bin/wlogin.cgi HTTP/1.1\u0026#34; \u0026#34;POST / HTTP/1.1\u0026#34; \u0026#34;POST /login.action HTTP/1.1\u0026#34; \u0026#34;POST /login.do HTTP/1.1\u0026#34; \u0026#34;POST /OvCgi/getnnmdata.exe HTTP/1.1\u0026#34; \u0026#34;POST /user.action HTTP/1.1\u0026#34; \u0026#34;\\x03\\x00\\x00)$\\xE0\\x00\\x00\\x00\\x00\\x00Cookie: mstshash=NCRACK_USER\u0026#34; \u0026#34;\\x04\\x01\\x1F\\x00\\x00\\x00\\x00\\x00\\x00\u0026#34; \u0026#34;\\x05\\x01\\x00\u0026#34; ","permalink":"https://oopsmonk.github.io/posts/2015-08-01-drawing-ip-geolocation-to-the-world-map/","summary":"\u003cp\u003eI found some mystery visitors in nginx\u0026rsquo;s access log. I tried to figure out the location of those visitors and what they did.\u003c/p\u003e\n\u003ch2 id=\"ip-collection\"\u003eIP collection\u003c/h2\u003e\n\u003cp\u003eFirst copy nginx\u0026rsquo;s access log to a folder and save all logs into a single file.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ mkdir mysteryIPs \u0026amp;\u0026amp; cd $_\n$ sudo cp /var/log/nginx/access.log.* .\n$ zcat access.log.* \u0026gt; access-gz.log\n$ cat access.log.1 \u0026gt;\u0026gt; access-gz.log\n$ cat access.log \u0026gt;\u0026gt; access-gz.log\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eRemove LAN accesses from log file, for example my subnet IP rang is 192.168.x.x\u003c/p\u003e","title":"Drawing IP Geolocation on World Map"},{"content":"This problem appered when I was checking out older tag from the Chromium project.\nWorking with Release Branches\n~/chromium_build/src$ git fetch --tags ~/chromium_build/src$ git checkout -b tag_35.0.1849.0 35.0.1849.0 ~/chromium_build/src$ gclient sync --with_branch_heads --jobs 16 Error log:\nSyncing projects: 100% ( 1/ 1) src src (ERROR) ---------------------------------------- [0:00:00] Started. ________ running 'git reset --hard HEAD' in '/home/sam.chen/chromium_source/src' [0:00:00] HEAD is now at 77bd011 Publish DEPS for Chromium 35.0.1849.0 [0:00:00] _____ src : Attempting rebase onto 77bd011602b1799f715591e697806c55e7ef8b7f... [0:00:00] Current branch tag_35.0.1849.0 is up to date. [0:00:00] ---------------------------------------- Error: 1\u0026gt; Dependency src specified more than once: 1\u0026gt; src(https://chromium.googlesource.com/chromium/src.git) [https://chromium.googlesource.com/chromium/src.git] 1\u0026gt; vs 1\u0026gt; src(https://chromium.googlesource.com/chromium/src.git) -\u0026gt; src(https://chromium.googlesource.com/chromium/src.git@ae69ae7642 35ccaac55fc44a3b5f3276ff34cb58) [https://chromium.googlesource.com/chromium/src.git@ae69ae764235ccaac55fc44a3b5f3276ff34cb58] You need to edit the .DEPS.git file, remove the entry \u0026lsquo;src\u0026rsquo; and then gcient sync --with_branch_heads.\n~/chromium_build/src$ git diff .DEPS.git diff --git a/.DEPS.git b/.DEPS.git index aa9f7a2a..81e870b 100644 --- a/.DEPS.git +++ b/.DEPS.git @@ -31,8 +31,6 @@ deps = { Var('git_url') + '/chromium/tools/commit-queue.git@7779c66e03aa5b87a2d7354387b3d16338da9e29', 'depot_tools': Var('git_url') + '/chromium/tools/depot_tools.git@9a8b066e52dff833016db0fcea69072814162ffe', - 'src': - Var('git_url') + '/chromium/src.git@ae69ae764235ccaac55fc44a3b5f3276ff34cb58', 'src/breakpad/src': Var('git_url') + '/external/google-breakpad/src.git@d7b5ea03d763b25445c198963034b49596da45f0', 'src/chrome/browser/resources/pdf/html_office': ~/chromium_build/src$ gclient sync --with_branch_heads --jobs 16 --force Reference:\nhttps://groups.google.com/a/chromium.org/forum/#!msg/chromium-dev/1iNTFLNjUQo/LgCPaxkbd-4J\n","permalink":"https://oopsmonk.github.io/posts/2015-07-31-dependency-src-specified-more-than-once/","summary":"\u003cp\u003eThis problem appered when I was checking out older tag from the Chromium project.\u003cbr\u003e\n\u003ca href=\"https://www.chromium.org/developers/how-tos/get-the-code/working-with-release-branches\"\u003eWorking with Release Branches\u003c/a\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e~/chromium_build/src$ git fetch --tags\n~/chromium_build/src$ git checkout -b tag_35.0.1849.0 35.0.1849.0\n~/chromium_build/src$ gclient sync --with_branch_heads --jobs 16\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eError log:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eSyncing projects: 100% ( 1/ 1) src\n\nsrc (ERROR)\n----------------------------------------\n[0:00:00] Started.\n\n________ running 'git reset --hard HEAD' in '/home/sam.chen/chromium_source/src'\n[0:00:00] HEAD is now at 77bd011 Publish DEPS for Chromium 35.0.1849.0\n[0:00:00] _____ src : Attempting rebase onto 77bd011602b1799f715591e697806c55e7ef8b7f...\n[0:00:00] Current branch tag_35.0.1849.0 is up to date.\n[0:00:00]\n----------------------------------------\nError: 1\u0026gt; Dependency src specified more than once:\n1\u0026gt;   src(https://chromium.googlesource.com/chromium/src.git) [https://chromium.googlesource.com/chromium/src.git]\n1\u0026gt; vs\n1\u0026gt;   src(https://chromium.googlesource.com/chromium/src.git) -\u0026gt; src(https://chromium.googlesource.com/chromium/src.git@ae69ae7642\n35ccaac55fc44a3b5f3276ff34cb58) [https://chromium.googlesource.com/chromium/src.git@ae69ae764235ccaac55fc44a3b5f3276ff34cb58]\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eYou need to edit the \u003ccode\u003e.DEPS.git\u003c/code\u003e file, remove the entry \u0026lsquo;src\u0026rsquo; and then \u003ccode\u003egcient sync --with_branch_heads\u003c/code\u003e.\u003c/p\u003e","title":"Dependency src specified more than once"},{"content":"First, check out and install the depot_tools package. $ git clone https://chromium.googlesource.com/chromium/tools/depot_tools.git $ export PATH=$PATH:/path/to/depot_tools Checkout source code $ mkdir ~/chromium_build \u0026amp;\u0026amp; cd $_ ~/chromium_build$ fetch --nohooks android //Configure GYP ~/chromium_build$ echo \u0026quot;{ 'GYP_DEFINES': 'OS=android', }\u0026quot; \u0026gt; chromium.gyp_env //Update projects from gyp files. //You may need to run this again when you have added new files, updated gyp files, or sync'ed your repository. ~/chromium_build$ gclient runhooks Environment setup ~/chromium_build$ sudo apt-get install openjdk-7-jdk //config default JDK ~/chromium_build$ sudo update-alternatives --config javac ~/chromium_build$ sudo update-alternatives --config java ~/chromium_build$ sudo update-alternatives --config javaws ~/chromium_build$ sudo update-alternatives --config javap ~/chromium_build$ sudo update-alternatives --config jar ~/chromium_build$ sudo update-alternatives --config jarsigner //install build dependencies ~/chromium_build$ src/build/install-build-deps-android.sh // Install Google Play Services ~/chromium_build$ src/third_party/android_tools/sdk/tools/android update sdk --no-ui --filter 57 Build ~/chromium_build$ cd ~/chromium_build/src //Full browser ~/chromium_build/src$ ninja -C out/Debug chrome_public_apk //WebView ~/chromium_build/src$ ninja -C out/Debug android_webview_apk //sync source ~/chromium_build/src$ gclient sync Android APK location: ~/chromium_source/src/out/Debug/apks/\nReference:\nAndroid Build Instructions\ndepot_tools_tutorial Manual Page\nGetting Around the Chromium Source Code Directory Structure\nOrganization of code for Android WebView\nDesign Documents HW Video Acceleration\n","permalink":"https://oopsmonk.github.io/posts/2015-07-31-build-android-webview-from-the-chromium-projects/","summary":"\u003ch2 id=\"first-check-out-and-install-the-depot_toolshttpscommondatastoragegoogleapiscomchrome-infra-docsflatdepot_toolsdocshtmldepot_tools_tutorialhtml_setting_up-package\"\u003eFirst, check out and install the \u003ca href=\"https://commondatastorage.googleapis.com/chrome-infra-docs/flat/depot_tools/docs/html/depot_tools_tutorial.html#_setting_up\"\u003edepot_tools\u003c/a\u003e package.\u003c/h2\u003e\n\u003cpre\u003e\u003ccode\u003e$ git clone https://chromium.googlesource.com/chromium/tools/depot_tools.git\n$ export PATH=$PATH:/path/to/depot_tools\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"checkout-source-code\"\u003eCheckout source code\u003c/h2\u003e\n\u003cpre\u003e\u003ccode\u003e$ mkdir ~/chromium_build \u0026amp;\u0026amp; cd $_\n~/chromium_build$ fetch --nohooks android \n//Configure GYP\n~/chromium_build$ echo \u0026quot;{ 'GYP_DEFINES': 'OS=android', }\u0026quot; \u0026gt; chromium.gyp_env\n//Update projects from gyp files. \n//You may need to run this again when you have added new files, updated gyp files, or sync'ed your repository.\n~/chromium_build$ gclient runhooks\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"environment-setup\"\u003eEnvironment setup\u003c/h2\u003e\n\u003cpre\u003e\u003ccode\u003e~/chromium_build$ sudo apt-get install openjdk-7-jdk\n//config default JDK\n~/chromium_build$ sudo update-alternatives --config javac\n~/chromium_build$ sudo update-alternatives --config java\n~/chromium_build$ sudo update-alternatives --config javaws\n~/chromium_build$ sudo update-alternatives --config javap\n~/chromium_build$ sudo update-alternatives --config jar\n~/chromium_build$ sudo update-alternatives --config jarsigner\n//install build dependencies\n~/chromium_build$ src/build/install-build-deps-android.sh \n// Install Google Play Services\n~/chromium_build$ src/third_party/android_tools/sdk/tools/android update sdk --no-ui --filter 57\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"build\"\u003eBuild\u003c/h2\u003e\n\u003cpre\u003e\u003ccode\u003e~/chromium_build$ cd ~/chromium_build/src\n//Full browser\n~/chromium_build/src$ ninja -C out/Debug chrome_public_apk\n//WebView\n~/chromium_build/src$ ninja -C out/Debug android_webview_apk\n//sync source\n~/chromium_build/src$ gclient sync\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eAndroid APK location: \u003ccode\u003e~/chromium_source/src/out/Debug/apks/\u003c/code\u003e\u003c/p\u003e","title":"Build Android WebView From The Chromium Projects"},{"content":"This is a How-To article that include installation and compile LaTeX file to PDF using Texmaker, Sublime Text 3, and Vim.\nInstall TeX Live Install texlive-latex-extra instead of texlive-latex-base.\n$sudo apt-get install texlive-latex-extra -y Initial user tree in home directory Before using tlmgr in user mode, you have to set up the user tree with the init-usertree action.\ntlmgr is TeX Live package manager, you can run tlmgr --help for more detail.\nThe full documentation for tlmgr\n$ tlmgr init-usertree (running on Debian, switching to user mode!) Install packages Run tlmgr install package-name to install a package, if an error has occurred with following.\n$ tlmgr install bytefield (running on Debian, switching to user mode!) /usr/bin/tlmgr: Initialization failed (in setup_unix_one): /usr/bin/tlmgr: could not find a usable xzdec. /usr/bin/tlmgr: Please install xzdec and try again. Couldn't set up the necessary programs. Installation of packages is not supported. Please report to texlive@tug.org. tlmgr: exiting unsuccessfully (status 1). Install zxedc to solve this problem.\n$sudo apt-get install xzdec If you have no problem with install a package\n$ tlmgr install bytefield (running on Debian, switching to user mode!) tlmgr: package repository http://ftp.yzu.edu.tw/CTAN/systems/texlive/tlnet [1/1, ??:??/??:??] install: bytefield [5k] tlmgr: package log updated: /home/oopsmonk/texmf/web2c/tlmgr.log running mktexlsr ... done running mktexlsr. Manually install packages\nInstall Editor Here are some editors you can choose.\nTexmaker\n$sudo apt-get install texmaker\nSublime Text 3 with LaTeXTools\nInstall latexmk\n$ sudo apt-get install latexmk Install Package Control Install LaTeXTools\nPerferences -\u0026gt; Package Control Build system configuration\nTool -\u0026gt; Build System -\u0026gt; New Build System\nCopy Latex.sublime-build and save. Vim with vimtex\nNeoBundle 'lervag/vimtex'\nOthers\nHello LaTex {% highlight tex %} \\documentclass[12pt]{article} \\begin{document} Hello world! $Hello world!$ %math mode \\end{document} {% endhighlight %}\nSave to hello.tex and compile to PDF\nTexmaker\nSublime Text 3 with LaTeXTools\nVim with vimtex\nlaunch Vim via vim --servername vimlatex\nReferences:\nåœ¨Macç³»çµ±ä¸Šæ’°å¯«å°å¤§ç¢©å£«è«–æ–‡(XeLaTexæ¨£æ¿)\ntlmgr cannot setup TLPDB\n","permalink":"https://oopsmonk.github.io/posts/2015-07-09-install-latex-on-ubuntu-14-04/","summary":"\u003cp\u003eThis is a How-To article that include installation and compile LaTeX file to PDF using Texmaker, Sublime Text 3, and Vim.\u003c/p\u003e\n\u003ch2 id=\"install-tex-live\"\u003eInstall TeX Live\u003c/h2\u003e\n\u003cp\u003eInstall \u003ccode\u003etexlive-latex-extra\u003c/code\u003e instead of \u003ccode\u003etexlive-latex-base\u003c/code\u003e.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e$sudo apt-get install texlive-latex-extra -y\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"initial-user-tree-in-home-directory\"\u003eInitial user tree in home directory\u003c/h2\u003e\n\u003cp\u003eBefore using \u003ccode\u003etlmgr\u003c/code\u003e in user mode, you have to set up the user tree with the \u003ccode\u003einit-usertree\u003c/code\u003e action.\u003cbr\u003e\n\u003ccode\u003etlmgr\u003c/code\u003e is TeX Live package manager, you can run \u003ccode\u003etlmgr --help\u003c/code\u003e for more detail.\u003cbr\u003e\n\u003ca href=\"https://www.tug.org/texlive/doc/tlmgr.html\"\u003eThe full documentation for tlmgr\u003c/a\u003e\u003c/p\u003e","title":"Install LaTeX on Ubuntu 14.04"},{"content":"Real-Time Monitor for rpi-monitor:\nUpdate system status every 5 seconds. Two HTML layouts: change different layout via click Real-Time on navigation bar. Project on github: rpi-monitor Layout 1(default):\nLayout 2:\n","permalink":"https://oopsmonk.github.io/posts/2015-07-04-new-feature-real-time-monitoring/","summary":"\u003cp\u003eReal-Time Monitor for rpi-monitor:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eUpdate system status every 5 seconds.\u003c/li\u003e\n\u003cli\u003eTwo HTML layouts: change different layout via click \u003ccode\u003eReal-Time\u003c/code\u003e on navigation bar.\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ca target=\"_blank\" href=\"https://github.com/oopsmonk/rpi-monitor\"\u003eProject on github: rpi-monitor\u003c/a\u003e  \n\n\u003cp\u003eLayout 1(default):\u003cbr\u003e\n\u003cimg loading=\"lazy\" src=\"/images/2015-07-04/RealTime_s.png\"\u003e\u003c/p\u003e\n\u003cp\u003eLayout 2:\u003cbr\u003e\n\u003cimg loading=\"lazy\" src=\"/images/2015-07-04/RealTime2_s.png\"\u003e\u003c/p\u003e","title":"New Feature: Real-Time Monitoring"},{"content":"Core Hollow Body Hold\nPlank Variation\nL Sit\nUpper Chest/Push up Exercises \u0026amp; Variations\nPull-up\nDips\nLower Lower Back\nLeg workout\nOther resources Full Body workout\nCore beginner to advanced\nPush beginner to advanced\nPush beginner to advanced\nComprehensive handstand tutorial\n","permalink":"https://oopsmonk.github.io/posts/2015-04-22-basic-calisthenics-workout/","summary":"\u003ch2 id=\"core\"\u003eCore\u003c/h2\u003e\n\u003cp\u003eHollow Body Hold\u003c/p\u003e\n\n\u003ciframe src=\"https://www.youtube.com/embed/LlDNef_Ztsc\" frameborder=\"0\"\u003e\u003c/iframe\u003e  \n\n\u003cp\u003ePlank Variation\u003c/p\u003e\n\n\u003ciframe src=\"https://www.youtube.com/embed/6mV-c3u2KAQ\" frameborder=\"0\"\u003e\u003c/iframe\u003e  \n\n\u003cp\u003eL Sit\u003c/p\u003e\n\n\u003ciframe src=\"https://www.youtube.com/embed/gc0-uVMGCSM\" frameborder=\"0\"\u003e\u003c/iframe\u003e  \n\u003c/br\u003e\n\u003ciframe src=\"https://www.youtube.com/embed/16a529mtX68\" frameborder=\"0\"\u003e\u003c/iframe\u003e  \n\n\u003ch2 id=\"upper\"\u003eUpper\u003c/h2\u003e\n\u003cp\u003eChest/Push up Exercises \u0026amp; Variations\u003c/p\u003e\n\n\u003ciframe src=\"https://www.youtube.com/embed/eUBc5uKg1Ik\" frameborder=\"0\"\u003e\u003c/iframe\u003e  \n\n\u003cp\u003ePull-up\u003c/p\u003e\n\n\u003ciframe src=\"https://www.youtube.com/embed/8t2AdK5DcZY\" frameborder=\"0\"\u003e\u003c/iframe\u003e  \n\n\u003cp\u003eDips\u003c/p\u003e\n\n\u003ciframe src=\"https://www.youtube.com/embed/Z8C3d9Gcdk0\" frameborder=\"0\"\u003e\u003c/iframe\u003e  \n\n\u003ch2 id=\"lower\"\u003eLower\u003c/h2\u003e\n\u003cp\u003eLower Back\u003c/p\u003e\n\n\u003ciframe src=\"https://www.youtube.com/embed/HtatwlHhHp8\" frameborder=\"0\"\u003e\u003c/iframe\u003e  \n\n\u003cp\u003eLeg workout\u003c/p\u003e\n\n\u003ciframe src=\"https://www.youtube.com/embed/0b_h7Or6gec\" frameborder=\"0\"\u003e\u003c/iframe\u003e  \n\n\u003ch2 id=\"other-resources\"\u003eOther resources\u003c/h2\u003e\n\u003cp\u003eFull Body workout\u003c/p\u003e\n\n\u003ciframe src=\"https://www.youtube.com/embed/sxCeGmVWNw0\" frameborder=\"0\"\u003e\u003c/iframe\u003e  \n\n\u003cp\u003eCore beginner to advanced\u003c/p\u003e\n\n\u003ciframe src=\"https://www.youtube.com/embed/x0Lsp_6V47E\" frameborder=\"0\"\u003e\u003c/iframe\u003e  \n\n\u003cp\u003ePush beginner to advanced\u003c/p\u003e\n\n\u003ciframe src=\"https://www.youtube.com/embed/qHvMDlQ8Zyk\" frameborder=\"0\"\u003e\u003c/iframe\u003e  \n\n\u003cp\u003ePush beginner to advanced\u003c/p\u003e\n\n\u003ciframe src=\"https://www.youtube.com/embed/_Qwqqyj4jkk\" frameborder=\"0\"\u003e\u003c/iframe\u003e  \n\n\u003cp\u003e\u003ca href=\"http://antranik.org/comprehensive-handstand-tutorial/\"\u003eComprehensive handstand tutorial\u003c/a\u003e\u003c/p\u003e","title":"Basic Calisthenics Workout"},{"content":"I recently switched my blog from Google Blogger to GitHub Pages, here is how I built my blog. I\u0026rsquo;ll go through the following:\nInstall Jekyll on Raspberry Pi Setup Jekyll Theme Post a new article Images minimization Commit to GitHub Using Jekyll and Minimal Mistake build a blog and host on GitHub and Raspberry Pi(or Ubuntu).\nRequirements:\nRaspberry Pi(or Ubuntu) GitHub account Jekyll 2.2+ Minimal Mistake Grunt If you have no idea with these things, here are useful resources:\nHow Jekyll Works\nJekyll Installation\nMinimal Mistake Theme Setup\nGitHub Pages\nGetting started - Grunt\nJekyll Installation Because some packages are out of date in Raspberry Pi\u0026rsquo;s repository, we are going to install packages manually.\nJekyll requirements:\nRuby RubyGems (default in Ruby1.9 above) NodeJS or another JavaScript runtime (it\u0026rsquo;s for CoffeeScript support) Build packages using Raspberry Pi will spend a lot of time. Ruby took me about 80 minutes and NodeJS around 4 hours. So have a walk after make :-).\nInstall Ruby2.2\n$ wget http://cache.ruby-lang.org/pub/ruby/2.2/ruby-2.2.0.tar.gz $ tar xf ruby-2.2.0.tar.gz $ cd ruby-2.2.0 $ ./configure $ make $ sudo make install Install NodeJS\n$ wget http://nodejs.org/dist/v0.10.36/node-v0.10.36.tar.gz $ tar xf node-v0.10.36.tar.gz $ cd node-v0.10.36 $ ./configure $ make $ sudo make install Jekyll Theme Setup Install Jekyll Theme is pretty easy, download and do some modify in _config.yml.\nI use the Minimal Mistake for example, you can find the others on Jekyll Themes.\nSteps:\nDownload Minimal Mistakes Unzip Install all dependencies via bundle install $ wget https://github.com/mmistakes/minimal-mistakes/archive/master.zip $ unsip master.zip $ cd minimal-mistakes-master $ sudo gem install bundler $ bundle install $ jekyll s Now you can connect to http://127.0.0.1:4000 see the prototype.\nIf you don\u0026rsquo;t know how to modify _config.yml, Please refer to Site Setup or my _config.yml.\nI got a problem when I was running jekyll s, to solve this problem remove the Gemfile.lock file and it\u0026rsquo;s work properly.\n$ jekyll s WARN: Unresolved specs during Gem::Specification.reset: pygments.rb (~\u0026gt; 0.6.0) redcarpet (~\u0026gt; 3.1) jekyll-watch (~\u0026gt; 1.1) classifier-reborn (~\u0026gt; 2.0) WARN: Clearing out unresolved specs. Please report a bug if this causes problems. /usr/local/lib/ruby/gems/2.2.0/gems/jekyll-2.5.3/bin/jekyll:21:in `block in \u0026lt;top (required)\u0026gt;\u0026#39;: cannot load such file -- jekyll /version (LoadError) from /usr/local/lib/ruby/gems/2.2.0/gems/mercenary-0.3.5/lib/mercenary.rb:18:in `program\u0026#39; from /usr/local/lib/ruby/gems/2.2.0/gems/jekyll-2.5.3/bin/jekyll:20:in `\u0026lt;top (required)\u0026gt;\u0026#39; from /usr/local/bin/jekyll:23:in `load\u0026#39; from /usr/local/bin/jekyll:23:in `\u0026lt;main\u0026gt;\u0026#39; $ rm Gemfile.lock Post a new article The simplest way to post an article is create a file with date prefix in _post folder and fill in header, but as a lazy person like me Minimal Mistake provide octopress command to create a new post. Personally, I use vim-jekyll instead.\nUse octopress\nUse vim-jekyll\nAfter vim-jekyll is installed, add configuration in .vimrc is shown below:\n{% highlight vim %} let g:jekyll_post_dirs = [\u0026rsquo;_posts\u0026rsquo;] let g:jekyll_post_extension = \u0026lsquo;.md\u0026rsquo; let g:jekyll_post_template = [ \\ \u0026lsquo;\u0026mdash;\u0026rsquo;, \\ \u0026rsquo;layout: post\u0026rsquo;, \\ \u0026rsquo;title: \u0026ldquo;JEKYLL_TITLE\u0026rdquo;\u0026rsquo;, \\ \u0026lsquo;modified: \u0026lsquo;, \\ \u0026lsquo;categories: \u0026lsquo;, \\ \u0026lsquo;comments: true\u0026rsquo;, \\ \u0026rsquo;excerpt:\u0026rsquo;, \\ \u0026rsquo;tags: []\u0026rsquo;, \\ \u0026lsquo;image:\u0026rsquo;, \\ \u0026rsquo; feature:\u0026rsquo;, \\ \u0026lsquo;date: \u0026ldquo;JEKYLL_DATE\u0026rdquo;\u0026rsquo;, \\ \u0026lsquo;\u0026mdash;\u0026rsquo;, \\ \u0026lsquo;\u0026rsquo;] {% endhighlight %}\nImages minimization Gruent is a JavaScript Task Runner performs repetitive tasks. Minimal Mistakes have a Gruntfile already, we can use it for minimizing images and JavaScript, but we have to install Gruent first and install dependencies via npm install. By default it minimizes all scripts into scripts.min.js and optimize .jpg, .png, and .svg files in the images/ folder.\nAlternatively, you can use grunt imagemin to minimize images only.\n$ cd minimal-mistakes-master $ sudo npm install -g grunt-cli $ sudo npm install $ grunt Commit to GitHub You can host your blog by your own or use GitHub Pages, how to work with GitHub Pages:\nCreate a repository called account.github.io (mine is oopsmonk.github.io) Clone repository to your blog folder Commit to GitHub Yes, it\u0026rsquo;s extremely convenient and easy, thanks GitHub.\nHere is what I did:\n$ cd minimal-mistakes-master $ git clone https://github.com/oopsmonk/oopsmonk.github.io.git . $ git add . $ git commit $ git push Then you can see your blog at https://account.github.io\nConclusion Create a Jekyll blog doesn\u0026rsquo;t like Google Blogger, even use themes to build a blog, it\u0026rsquo;s not ready to go after unboxing.You have to do some modifications, understanding HTML, CSS, and Jekyll is necessary. Here are Pros/Corns for using GitHub Pages with Jekyll.\nPros Flexible customization Keep contents in local or on Internet Offline writing and preview Write in terminal Corn Learning curve ","permalink":"https://oopsmonk.github.io/posts/2015-03-05-build-a-blog-with-jekyll-on-raspberry-pi/","summary":"\u003cp\u003eI recently switched my blog from \u003ca href=\"http://oopsmonk.blogspot.tw/\"\u003eGoogle Blogger\u003c/a\u003e to GitHub Pages, here is how I built my blog. I\u0026rsquo;ll go through the following:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eInstall Jekyll on Raspberry Pi\u003c/li\u003e\n\u003cli\u003eSetup Jekyll Theme\u003c/li\u003e\n\u003cli\u003ePost a new article\u003c/li\u003e\n\u003cli\u003eImages minimization\u003c/li\u003e\n\u003cli\u003eCommit to GitHub\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eUsing Jekyll and Minimal Mistake build a blog and host on GitHub and Raspberry Pi(or Ubuntu).\u003cbr\u003e\nRequirements:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eRaspberry Pi(or Ubuntu)\u003c/li\u003e\n\u003cli\u003eGitHub account\u003c/li\u003e\n\u003cli\u003eJekyll 2.2+\u003c/li\u003e\n\u003cli\u003eMinimal Mistake\u003c/li\u003e\n\u003cli\u003eGrunt\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eIf you have no idea with these things, here are useful resources:\u003cbr\u003e\n\u003ca href=\"http://jekyllbootstrap.com/lessons/jekyll-introduction.html\"\u003eHow Jekyll Works\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"http://jekyllrb.com/docs/installation/\"\u003eJekyll Installation\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"http://mmistakes.github.io/minimal-mistakes/theme-setup/\"\u003eMinimal Mistake Theme Setup\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://pages.github.com/\"\u003eGitHub Pages\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"http://gruntjs.com/getting-started\"\u003eGetting started - Grunt\u003c/a\u003e\u003c/p\u003e","title":"Build A Blog with Jekyll and GitHub on Raspberry Pi"},{"content":"åŸå‘³æˆšé¢¨è›‹ç³•(Chiffon Cake) èŠ‹é ­éºµåŒ…(Taro Bread) å°é¤…ä¹¾(Biscuit) è¬è–ç¯€é¤…ä¹¾(Halloween Cookies) æµ·è’‚ç™½éºµåŒ…(ã‚¢ãƒ«ãƒ—ã‚¹ã®å°‘å¥³ãƒã‚¤ã‚¸ãƒ»ãƒã‚¤ã‚¸ã®ç™½ãƒ‘ãƒ³) é»‘ç³–é¥…é ­(Brown Sugar Steamed Bread) è›‹ç³•åœŸå¸(Cake Toast) é¦™è•‰åœŸå¸(Banana Toast) ","permalink":"https://oopsmonk.github.io/posts/2014-12-31-baking2014/","summary":"\u003ch2 id=\"åŸå‘³æˆšé¢¨è›‹ç³•chiffon-cake\"\u003eåŸå‘³æˆšé¢¨è›‹ç³•(Chiffon Cake)\u003c/h2\u003e\n\u003cp\u003e\u003cimg loading=\"lazy\" src=\"/images/2014-12-31/IMG_20140111_205810.jpg\"\u003e\u003c/p\u003e\n\u003ch2 id=\"èŠ‹é ­éºµåŒ…taro-bread\"\u003eèŠ‹é ­éºµåŒ…(Taro Bread)\u003c/h2\u003e\n\u003cp\u003e\u003cimg loading=\"lazy\" src=\"/images/2014-12-31/IMG_20140628_104724.jpg\"\u003e\u003cbr\u003e\n\u003cimg loading=\"lazy\" src=\"/images/2014-12-31/IMG_20140628_112854.jpg\"\u003e\u003c/p\u003e\n\u003ch2 id=\"å°é¤…ä¹¾biscuit\"\u003eå°é¤…ä¹¾(Biscuit)\u003c/h2\u003e\n\u003cp\u003e\u003cimg loading=\"lazy\" src=\"/images/2014-12-31/IMG_20141013_220645.jpg\"\u003e\u003cbr\u003e\n\u003cimg loading=\"lazy\" src=\"/images/2014-12-31/PhotoGrid_1413211752052.jpg\"\u003e\u003c/p\u003e\n\u003ch2 id=\"è¬è–ç¯€é¤…ä¹¾halloween-cookies\"\u003eè¬è–ç¯€é¤…ä¹¾(Halloween Cookies)\u003c/h2\u003e\n\u003cp\u003e\u003cimg loading=\"lazy\" src=\"/images/2014-12-31/IMG_20141029_220627.jpg\"\u003e\u003cbr\u003e\n\u003cimg loading=\"lazy\" src=\"/images/2014-12-31/IMG_20141029_222520.jpg\"\u003e\u003cbr\u003e\n\u003cimg loading=\"lazy\" src=\"/images/2014-12-31/IMG_20141029_233648.jpg\"\u003e\u003cbr\u003e\n\u003cimg loading=\"lazy\" src=\"/images/2014-12-31/IMG_20141029_222700.jpg\"\u003e\u003cbr\u003e\n\u003cimg loading=\"lazy\" src=\"/images/2014-12-31/PhotoGrid_1414683095094.jpg\"\u003e\u003c/p\u003e\n\u003ch2 id=\"æµ·è’‚ç™½éºµåŒ…ã‚¢ãƒ«ãƒ—ã‚¹ã®å°‘å¥³ãƒã‚¤ã‚¸ãƒã‚¤ã‚¸ã®ç™½ãƒ‘ãƒ³\"\u003eæµ·è’‚ç™½éºµåŒ…(ã‚¢ãƒ«ãƒ—ã‚¹ã®å°‘å¥³ãƒã‚¤ã‚¸ãƒ»ãƒã‚¤ã‚¸ã®ç™½ãƒ‘ãƒ³)\u003c/h2\u003e\n\u003cp\u003e\u003cimg loading=\"lazy\" src=\"/images/2014-12-31/IMG_20141106_225348.jpg\"\u003e\u003cbr\u003e\n\u003cimg loading=\"lazy\" src=\"/images/2014-12-31/IMG_20141106_231927.jpg\"\u003e\u003cbr\u003e\n\u003cimg loading=\"lazy\" src=\"/images/2014-12-31/IMG_20141106_232705.jpg\"\u003e\u003cbr\u003e\n\u003cimg loading=\"lazy\" src=\"/images/2014-12-31/IMG_20141106_232822.jpg\"\u003e\u003cbr\u003e\n\u003cimg loading=\"lazy\" src=\"/images/2014-12-31/PhotoGrid_1415291340569.jpg\"\u003e\u003c/p\u003e\n\u003ch2 id=\"é»‘ç³–é¥…é ­brown-sugar-steamed-bread\"\u003eé»‘ç³–é¥…é ­(Brown Sugar Steamed Bread)\u003c/h2\u003e\n\u003cp\u003e\u003cimg loading=\"lazy\" src=\"/images/2014-12-31/IMG_20141111_070147.jpg\"\u003e\u003c/p\u003e\n\u003ch2 id=\"è›‹ç³•åœŸå¸cake-toast\"\u003eè›‹ç³•åœŸå¸(Cake Toast)\u003c/h2\u003e\n\u003cp\u003e\u003cimg loading=\"lazy\" src=\"/images/2014-12-31/PhotoGrid_1413649257777.jpg\"\u003e\u003c/p\u003e\n\u003ch2 id=\"é¦™è•‰åœŸå¸banana-toast\"\u003eé¦™è•‰åœŸå¸(Banana Toast)\u003c/h2\u003e\n\u003cp\u003e\u003cimg loading=\"lazy\" src=\"/images/2014-12-31/IMG_20141119_210933.jpg\"\u003e\u003cbr\u003e\n\u003cimg loading=\"lazy\" src=\"/images/2014-12-31/IMG_20141119_215540.jpg\"\u003e\u003cbr\u003e\n\u003cimg loading=\"lazy\" src=\"/images/2014-12-31/PhotoGrid_1416624253619.jpg\"\u003e\u003c/p\u003e","title":"Baking 2014"},{"content":"Generating SSH keys for GitHub Here are github account and work account.\nGitHub:\nSSH Key: github_id_rsa\nAccount: oopsmonk\nWork:\nSSH Key: work_id_rsa\nAccount: SamChen\nAdd SSH config File Modify ~/.ssh/config\n# Default github Host github.com HostName github.com PreferredAuthentications publickey IdentityFile ~/.ssh/github_id_rsa # Work git server Host work.gitserver.com HostName work.gitserver.com PreferredAuthentications publickey IdentityFile ~/.ssh/work_id_rsa Git Repository Configuation GitHub Project: $ git clone https://github.com/abc/projectA.git $ cd projectA #github account $ git config user.name \u0026#34;oopsmonk\u0026#34; $ git config user.email \u0026#34;oopsmonk@example.com.tw\u0026#34; Working Project: $ git clone https://work.com.tw/repo/projectW.git $ cd projectW #working account $ git config user.name \u0026#34;SamChen\u0026#34; $ git config user.email \u0026#34;SamChen@example.com.tw\u0026#34; Now you can deal with git repositories using different accounts.\n(Additional) Using ssh-agent to access GitHub without password Check key list\n# No ssh-agent running $ ssh-add -l Could not open a connection to your authentication agent. $ Enable ssh-agent (Ubuntu12.04):\n#enable ssh-agent $ eval `ssh-agent -s` #add keys to agent $ cd ~/.ssh $ ssh-add work_id_rsa github_id_rsa Identity added: work_id_rsa (work_id_rsa) Identity added: github_id_rsa (github_id_rsa) #list added keys $ ssh-add -L #delete keys in agent $ ssh-add -D Now you can commit modifications to git repository without password.\nReferences:\nUnderstanding ssh-agent and ssh-add\nHow can I run ssh-add automatically, without password prompt?\n","permalink":"https://oopsmonk.github.io/posts/2014-12-12-multiplesshkeyswithgithub/","summary":"\u003ch2 id=\"generating-ssh-keys-for-githubhttpshelpgithubcomarticlesgenerating-ssh-keys\"\u003e\u003ca href=\"https://help.github.com/articles/generating-ssh-keys/\"\u003eGenerating SSH keys for GitHub\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eHere are github account and work account.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eGitHub:\u003cbr\u003e\nSSH Key: github_id_rsa\u003cbr\u003e\nAccount: oopsmonk\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eWork:\u003cbr\u003e\nSSH Key: work_id_rsa\u003cbr\u003e\nAccount: SamChen\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"add-ssh-config-file\"\u003eAdd SSH config File\u003c/h2\u003e\n\u003cp\u003eModify \u003cstrong\u003e\u003ccode\u003e~/.ssh/config\u003c/code\u003e\u003c/strong\u003e\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003e# Default github\nHost github.com\n    HostName github.com\n    PreferredAuthentications publickey\n    IdentityFile ~/.ssh/github_id_rsa\n\n# Work git server\nHost work.gitserver.com\n    HostName work.gitserver.com\n    PreferredAuthentications publickey\n    IdentityFile ~/.ssh/work_id_rsa\n\u003c/code\u003e\u003c/pre\u003e\u003ch2 id=\"git-repository-configuation\"\u003eGit Repository Configuation\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eGitHub Project:\u003c/li\u003e\n\u003c/ul\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003e$ git clone https://github.com/abc/projectA.git  \n$ cd projectA\n#github account\n$ git config user.name \u0026#34;oopsmonk\u0026#34;\n$ git config user.email \u0026#34;oopsmonk@example.com.tw\u0026#34;\n\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003eWorking Project:\u003c/li\u003e\n\u003c/ul\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003e$ git clone https://work.com.tw/repo/projectW.git  \n$ cd projectW\n#working account\n$ git config user.name \u0026#34;SamChen\u0026#34;\n$ git config user.email \u0026#34;SamChen@example.com.tw\u0026#34;\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e\u003cstrong\u003eNow you can deal with git repositories using different accounts.\u003c/strong\u003e\u003c/p\u003e","title":"Using Git With Multiple SSH Keys and Accounts"},{"content":"installation Requirements $ sudo apt-get install -y make build-essential libssl-dev zlib1g-dev libbz2-dev \\ libreadline-dev libsqlite3-dev wget curl llvm install pyenv $ cd ~ $ git clone git://github.com/yyuu/pyenv.git .pyenv $ echo \u0026#39;export PYENV_ROOT=\u0026#34;$HOME/.pyenv\u0026#34;\u0026#39; \u0026gt;\u0026gt; ~/.bashrc $ echo \u0026#39;export PATH=\u0026#34;$PYENV_ROOT/bin:$PATH\u0026#34;\u0026#39; \u0026gt;\u0026gt; ~/.bashrc $ echo \u0026#39;eval \u0026#34;$(pyenv init -)\u0026#34;\u0026#39; \u0026gt;\u0026gt; ~/.bashrc install pyenv-virtualenv $ git clone https://github.com/yyuu/pyenv-virtualenv.git ~/.pyenv/plugins/pyenv-virtualenv $ echo \u0026#39;eval \u0026#34;$(pyenv virtualenv-init -)\u0026#34;\u0026#39; \u0026gt;\u0026gt; ~/.bashrc $ exec $SHELL Common Usage (Command Reference) List all available versions $ pyenv version -l Install python2.7.8 to pyenv $ pyenv install 2.7.8 List installed versions $ pyenv versions * system (set by /home/oopsmonk/.pyenv/version) 2.7.8 3.4.2 Creating a virtualenv $ pyenv virtualenv 2.7.8 mypy-2.7.8 List virtualenvs $ pyenv virtualenvs mypy-2.7.8 (created from /home/oopsmonk/.pyenv/versions/2.7.8) mypy-3.4.2 (created from /home/oopsmonk/.pyenv/versions/3.4.2) # current versions $ pyenv versions * system (set by /home/oopsmonk/.pyenv/version) 2.7.8 3.4.2 mypy-2.7.8 mypy-3.4.2 Use python via virtualenv # show current version oopsmonk@VBox:~/markdown-note$ python --version Python 2.7.6 # Change to other version oopsmonk@VBox:~/markdown-note$ pyenv activate mypy-2.7.8 (mypy-2.7.8)oopsmonk@VBox:~/markdown-note$ python --version Python 2.7.8 # Deactivate (mypy-2.7.8)oopsmonk@oopsmonk-VBox:~/markdown-note$ pyenv deactivate oopsmonk@oopsmonk-VBox:~/markdown-note$ python --version Python 2.7.8 # Why current version is 2.7.8? it\u0026#39;s supposed to 2.7.6. oopsmonk@oopsmonk-VBox:~/markdown-note$ pyenv activate mypy-3.4.2 (mypy-3.4.2) oopsmonk@oopsmonk-VBox:~/markdown-note$ pyenv deactivate oopsmonk@oopsmonk-VBox:~/markdown-note$ python --version Python 3.4.2 oopsmonk@oopsmonk-VBox:~/markdown-note$ pyenv versions system 2.7.8 3.4.2 mypy-2.7.8 * mypy-3.4.2 (set by PYENV_VERSION environment variable) # delete a virtualenv $ pyenv uninstall mypy-2.7.8 # Go back to original system version $ alias pyenv_deactivate=\u0026#39;pyenv deactivate \u0026amp;\u0026amp; unset PYENV_VERSION\u0026#39; oopsmonk@oopsmonk-VBox:~/markdown-note$ pyenv activate mypy-3.4.2 (mypy-3.4.2) oopsmonk@oopsmonk-VBox:~/markdown-note$ pyenv_deactivate oopsmonk@oopsmonk-VBox:~/markdown-note$ python --version Python 2.7.6 Use python via pyenv # Global python version $ pyenv global # python version in current folder oopsmonk@oopsmonk-VBox:~/markdown-note$ pyenv local mypy-3.4.2 oopsmonk@oopsmonk-VBox:~/markdown-note$ pyenv version mypy-3.4.2 (set by /home/oopsmonk/markdown-note/.python-version) oopsmonk@oopsmonk-VBox:~/markdown-note$ cd .. oopsmonk@oopsmonk-VBox:~$ pyenv version system (set by /home/oopsmonk/.pyenv/version) oopsmonk@oopsmonk-VBox:~$ cd - /home/oopsmonk/markdown-note oopsmonk@oopsmonk-VBox:~/markdown-note$ pyenv version mypy-3.4.2 (set by /home/oopsmonk/markdown-note/.python-version) oopsmonk@oopsmonk-VBox:~/markdown-note$ pyenv local --unset oopsmonk@oopsmonk-VBox:~/markdown-note$ pyenv version system (set by /home/oopsmonk/.pyenv/version) # python version in current shell oopsmonk@oopsmonk-VBox:~/markdown-note$ pyenv shell mypy-3.4.2 oopsmonk@oopsmonk-VBox:~/markdown-note$ pyenv version mypy-3.4.2 (set by PYENV_VERSION environment variable) oopsmonk@oopsmonk-VBox:~/markdown-note$ cd - /home/oopsmonk oopsmonk@oopsmonk-VBox:~$ pyenv version mypy-3.4.2 (set by PYENV_VERSION environment variable) oopsmonk@oopsmonk-VBox:~$ pyenv shell --unset oopsmonk@oopsmonk-VBox:~$ pyenv version system (set by /home/oopsmonk/.pyenv/version) oopsmonk@oopsmonk-VBox:~$ cd - /home/oopsmonk/markdown-note oopsmonk@oopsmonk-VBox:~/markdown-note$ pyenv version system (set by /home/oopsmonk/.pyenv/version) ","permalink":"https://oopsmonk.github.io/posts/2014-12-10-pyenv/","summary":"\u003ch2 id=\"installation\"\u003einstallation\u003c/h2\u003e\n\u003ch3 id=\"requirements\"\u003eRequirements\u003c/h3\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003e$ sudo apt-get install -y make build-essential libssl-dev zlib1g-dev libbz2-dev \\\nlibreadline-dev libsqlite3-dev wget curl llvm\n\u003c/code\u003e\u003c/pre\u003e\u003ch3 id=\"install-pyenvhttpsgithubcomyyuupyenvblobmasterreadmemd\"\u003e\u003ca href=\"https://github.com/yyuu/pyenv/blob/master/README.md\"\u003einstall pyenv\u003c/a\u003e\u003c/h3\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003e$ cd ~\n$ git clone git://github.com/yyuu/pyenv.git .pyenv\n$ echo \u0026#39;export PYENV_ROOT=\u0026#34;$HOME/.pyenv\u0026#34;\u0026#39; \u0026gt;\u0026gt; ~/.bashrc\n$ echo \u0026#39;export PATH=\u0026#34;$PYENV_ROOT/bin:$PATH\u0026#34;\u0026#39; \u0026gt;\u0026gt; ~/.bashrc\n$ echo \u0026#39;eval \u0026#34;$(pyenv init -)\u0026#34;\u0026#39; \u0026gt;\u0026gt; ~/.bashrc\n\u003c/code\u003e\u003c/pre\u003e\u003ch3 id=\"install-pyenv-virtualenvhttpsgithubcomyyuupyenv-virtualenvblobmasterreadmemd\"\u003e\u003ca href=\"https://github.com/yyuu/pyenv-virtualenv/blob/master/README.md\"\u003einstall pyenv-virtualenv\u003c/a\u003e\u003c/h3\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003e$ git clone https://github.com/yyuu/pyenv-virtualenv.git ~/.pyenv/plugins/pyenv-virtualenv \n$ echo \u0026#39;eval \u0026#34;$(pyenv virtualenv-init -)\u0026#34;\u0026#39; \u0026gt;\u0026gt; ~/.bashrc\n$ exec $SHELL\n\u003c/code\u003e\u003c/pre\u003e\u003ch2 id=\"common-usage-command-referencehttpsrawgithubusercontentcomyyuupyenvmastercommandsmd\"\u003eCommon Usage (\u003ca href=\"https://raw.githubusercontent.com/yyuu/pyenv/master/COMMANDS.md\"\u003eCommand Reference\u003c/a\u003e)\u003c/h2\u003e\n\u003ch3 id=\"list-all-available-versions\"\u003eList all available versions\u003c/h3\u003e\n\u003cpre\u003e\u003ccode\u003e$ pyenv version -l  \n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id=\"install-python278-to-pyenv\"\u003eInstall python2.7.8 to pyenv\u003c/h3\u003e\n\u003cpre\u003e\u003ccode\u003e$ pyenv install 2.7.8  \n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id=\"list-installed-versions\"\u003eList installed versions\u003c/h3\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003e$ pyenv versions\n* system (set by /home/oopsmonk/.pyenv/version)\n  2.7.8\n  3.4.2\n\u003c/code\u003e\u003c/pre\u003e\u003ch3 id=\"creating-a-virtualenv\"\u003eCreating a virtualenv\u003c/h3\u003e\n\u003cpre\u003e\u003ccode\u003e$ pyenv virtualenv 2.7.8 mypy-2.7.8\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id=\"list-virtualenvs\"\u003eList virtualenvs\u003c/h3\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003e$ pyenv virtualenvs\n  mypy-2.7.8 (created from /home/oopsmonk/.pyenv/versions/2.7.8)\n  mypy-3.4.2 (created from /home/oopsmonk/.pyenv/versions/3.4.2)\n\n# current versions \n$ pyenv versions\n  * system (set by /home/oopsmonk/.pyenv/version)\n  2.7.8\n  3.4.2\n  mypy-2.7.8\n  mypy-3.4.2\n\u003c/code\u003e\u003c/pre\u003e\u003ch3 id=\"use-python-via-virtualenv\"\u003eUse python via virtualenv\u003c/h3\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003e# show current version\noopsmonk@VBox:~/markdown-note$ python --version\nPython 2.7.6\n\n# Change to other version\noopsmonk@VBox:~/markdown-note$ pyenv activate mypy-2.7.8\n(mypy-2.7.8)oopsmonk@VBox:~/markdown-note$ python --version\nPython 2.7.8\n\n# Deactivate\n(mypy-2.7.8)oopsmonk@oopsmonk-VBox:~/markdown-note$ pyenv deactivate\noopsmonk@oopsmonk-VBox:~/markdown-note$  python --version\nPython 2.7.8\n# Why current version is 2.7.8? it\u0026#39;s supposed to 2.7.6.\n\noopsmonk@oopsmonk-VBox:~/markdown-note$ pyenv activate mypy-3.4.2\n(mypy-3.4.2) oopsmonk@oopsmonk-VBox:~/markdown-note$ pyenv deactivate\noopsmonk@oopsmonk-VBox:~/markdown-note$ python --version\nPython 3.4.2\n\noopsmonk@oopsmonk-VBox:~/markdown-note$ pyenv versions\n  system\n  2.7.8\n  3.4.2\n  mypy-2.7.8\n* mypy-3.4.2 (set by PYENV_VERSION environment variable)\n\n# delete a virtualenv   \n$ pyenv uninstall mypy-2.7.8\n\n# Go back to original system version  \n$ alias pyenv_deactivate=\u0026#39;pyenv deactivate \u0026amp;\u0026amp; unset PYENV_VERSION\u0026#39;\noopsmonk@oopsmonk-VBox:~/markdown-note$ pyenv activate mypy-3.4.2\n(mypy-3.4.2) oopsmonk@oopsmonk-VBox:~/markdown-note$ pyenv_deactivate\noopsmonk@oopsmonk-VBox:~/markdown-note$ python --version\nPython 2.7.6\n\u003c/code\u003e\u003c/pre\u003e\u003ch3 id=\"use-python-via-pyenv\"\u003eUse python via pyenv\u003c/h3\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003e# Global python version\n$ pyenv global \n\n# python version in current folder\noopsmonk@oopsmonk-VBox:~/markdown-note$ pyenv local mypy-3.4.2\noopsmonk@oopsmonk-VBox:~/markdown-note$ pyenv version\nmypy-3.4.2 (set by /home/oopsmonk/markdown-note/.python-version)\noopsmonk@oopsmonk-VBox:~/markdown-note$ cd ..\noopsmonk@oopsmonk-VBox:~$ pyenv version\nsystem (set by /home/oopsmonk/.pyenv/version)\noopsmonk@oopsmonk-VBox:~$ cd -\n/home/oopsmonk/markdown-note\noopsmonk@oopsmonk-VBox:~/markdown-note$ pyenv version\nmypy-3.4.2 (set by /home/oopsmonk/markdown-note/.python-version)\noopsmonk@oopsmonk-VBox:~/markdown-note$ pyenv local --unset\noopsmonk@oopsmonk-VBox:~/markdown-note$ pyenv version\nsystem (set by /home/oopsmonk/.pyenv/version)\n\n# python version in current shell \noopsmonk@oopsmonk-VBox:~/markdown-note$ pyenv shell mypy-3.4.2\noopsmonk@oopsmonk-VBox:~/markdown-note$ pyenv version\nmypy-3.4.2 (set by PYENV_VERSION environment variable)\noopsmonk@oopsmonk-VBox:~/markdown-note$ cd -\n/home/oopsmonk\noopsmonk@oopsmonk-VBox:~$ pyenv version\nmypy-3.4.2 (set by PYENV_VERSION environment variable)\noopsmonk@oopsmonk-VBox:~$ pyenv shell --unset\noopsmonk@oopsmonk-VBox:~$ pyenv version\nsystem (set by /home/oopsmonk/.pyenv/version)\noopsmonk@oopsmonk-VBox:~$ cd -\n/home/oopsmonk/markdown-note\noopsmonk@oopsmonk-VBox:~/markdown-note$ pyenv version\nsystem (set by /home/oopsmonk/.pyenv/version)\n\u003c/code\u003e\u003c/pre\u003e","title":"pyenv Quick Start (Utunbu 14.04)"},{"content":"Advanced Bash-Scripting Guide\nsed\nawk\nInternal Variables #current parent pid $$ #last background process pid $! #last exit status $? #current instance pid, Bash 4.x above. $BASHPID Arithmetic Expansion a=12 b=$(($a + 10)) b=`expr $a + 1` b=$(expr $a + 1) let b=$a+3 #let b=$a + 3 #incorrect let \u0026#34;b = $a + 3\u0026#34; declare -i b=$a+$a Manipulating Strings String is a number if [[ $var =~ ^-?[0-9]+$ ]]; then echo \u0026#34;$var is a number\u0026#34; fi if [[ ! $var =~ ^-?[0-9]+$ ]]; then echo \u0026#34;$var is not a number\u0026#34; fi Find String between two words or characters var=\u0026#34;Hello there are (123340) and (123)\u0026#34; #last string between \u0026#39;(\u0026#39; and \u0026#39;)\u0026#39;. substr=$( echo $var | sed \u0026#39;s/.*(\\(.*\\)).*/\\1/\u0026#39; ) #String between \u0026#39;(\u0026#39; and \u0026#39;)\u0026#39;. substr=$( echo $var | awk -v FS=\u0026#34;(\\(|\\))\u0026#34; \u0026#39;{print $2 \u0026#34; \u0026#34; $4}\u0026#39; ) #String between \u0026#39;there\u0026#39; and \u0026#39;and\u0026#39;. substr=$( echo $var | awk -v FS=\u0026#34;(there|and)\u0026#34; \u0026#39;{print $2}\u0026#39; ) #String between \u0026#39;there\u0026#39; and \u0026#39;and\u0026#39;. substr=$( echo $var | sed \u0026#39;s/.*there\\(.*\\)and.*/\\1/\u0026#39; ) #String between \u0026#39;there\u0026#39; and \u0026#39;and\u0026#39;. substr=$( echo $var | grep -o -P \u0026#39;(?\u0026lt;=there).*(?=and)\u0026#39; ) Loop read variables #read from file echo \u0026#34;123, abc, hello world!\u0026#34; \u0026gt; /tmp/test echo \u0026#34;12 43, ddd, !\u0026#34; \u0026gt;\u0026gt; /tmp/test while IFS=\u0026#39;,\u0026#39; read var1 var2 var3 do echo \u0026#34;var1=$var1 var2=$var2 var3=$var3\u0026#34; done \u0026lt; \u0026#34;/tmp/test\u0026#34; #read from variable x=\u0026#34;one, two, three\u0026#34; while IFS=\u0026#39;,\u0026#39; read var1 var2 var3 do echo \u0026#34;var1=$var1 var2=$var2 var3=$var3\u0026#34; done \u0026lt;\u0026lt;\u0026lt; $x iterate IP address #iterate class C ip address for i in 192.168.100.{1..10} do echo \u0026#34;$i\u0026#34; done #iterate class B ip address for x in 192.168.{1..5} do for i in $x.{1..10} do echo \u0026#34;$i\u0026#34; done done infinite while loop while : do echo \u0026#34;infinite loops [ CTRL+C to stop]\u0026#34; sleep 5 done Array # Simple array arrayA=( Mon Tue Wed Thu Fri Sat Sun ) echo \u0026#34;${!arrayA[*]}\u0026#34; # 0 1 2 3 4 5 6 echo \u0026#34;${#arrayA[*]}\u0026#34; # 7 echo \u0026#34;${arrayA[*]}\u0026#34; # Mon Tue Wed Thu Fri Sat Sun echo \u0026#34;${!arrayA[@]}\u0026#34; # 0 1 2 3 4 5 6 echo \u0026#34;${#arrayA[@]}\u0026#34; # 7 echo \u0026#34;${arrayA[@]}\u0026#34; # Mon Tue Wed Thu Fri Sat Sun echo \u0026#34;${arrayA[2]}\u0026#34; # Wed echo \u0026#34;$arrayA\u0026#34; # Mon echo \u0026#34;${arrayA[20]}\u0026#34; # null arrayA=( one two ) echo \u0026#34;${arrayA[*]}\u0026#34; # one two arrayA+=( three \u0026#34;four\u0026#34; ) echo \u0026#34;${arrayA[*]}\u0026#34; # one two three four # Key/Value declare -A arrayB=( [\u0026#34;Mon\u0026#34;]=\u0026#34;Monday\u0026#34; [\u0026#34;Tue\u0026#34;]=\u0026#34;Tuesday\u0026#34; [\u0026#34;Wed\u0026#34;]=\u0026#34;Wednesday\u0026#34; [\u0026#34;Thu\u0026#34;]=\u0026#34;Thursday\u0026#34; [\u0026#34;Fri\u0026#34;]=\u0026#34;Friday\u0026#34; [\u0026#34;Sat\u0026#34;]=\u0026#34;Saturday\u0026#34; [\u0026#34;Sun\u0026#34;]=\u0026#34;Sunday\u0026#34; ) echo \u0026#34;${!arrayB[*]}\u0026#34; # Thu Tue Wed Mon Fri Sat Sun echo \u0026#34;${#arrayB[*]}\u0026#34; # 7 echo \u0026#34;${arrayB[*]}\u0026#34; # Thursday Tuesday Wednesday Monday Friday Saturday Sunday echo \u0026#34;${!arrayB[@]}\u0026#34; # Thu Tue Wed Mon Fri Sat Sun echo \u0026#34;${#arrayB[@]}\u0026#34; # 7 echo \u0026#34;${arrayB[@]}\u0026#34; # Thursday Tuesday Wednesday Monday Friday Saturday Sunday echo \u0026#34;${arrayB[2]}\u0026#34; # null echo \u0026#34;$arrayB\u0026#34; # null echo \u0026#34;${arrayB[\u0026#34;Tue\u0026#34;]}\u0026#34; # Tuesday declare -A arrayB=( [\u0026#34;one\u0026#34;]=1 [\u0026#34;two\u0026#34;]=\u0026#34;2\u0026#34; ) echo \u0026#34;${!arrayB[*]}\u0026#34; # one two echo \u0026#34;${arrayB[*]}\u0026#34; # 1 2 arrayB+=( [\u0026#34;three\u0026#34;]=\u0026#34;3\u0026#34; [\u0026#34;four\u0026#34;]=4 ) echo \u0026#34;${!arrayB[*]}\u0026#34; # four one two three echo \u0026#34;${arrayB[*]}\u0026#34; # 4 1 2 3 arrayB+=( [\u0026#34;four\u0026#34;]=\u0026#34;aa\u0026#34; [\u0026#34;five\u0026#34;]=\u0026#34;5a1c\u0026#34; ) echo \u0026#34;${!arrayB[*]}\u0026#34; # four one five two three echo \u0026#34;${arrayB[*]}\u0026#34; # 4aa 1 5a1c 2 3 I/O redirection Forking Processes pid_perfix=\u0026#34;/tmp/proc-\u0026#34; function doSomething(){ local pid_file=\u0026#34;$pid_perfix$BASHPID\u0026#34; echo \u0026#34;this is task $1 : $pid_file \u0026#34; \u0026gt; $pid_file sleep 5 } w_pid=\u0026#34;\u0026#34; for task in {1..5} do doSomething $task \u0026amp; w_pid+=\u0026#34;$! \u0026#34; sleep 1 done for p in $w_pid do wait $p done #clean up for p in $w_pid do #del pid file rm \u0026#34;$pid_perfix$p\u0026#34; done exit 0 ","permalink":"https://oopsmonk.github.io/posts/2014-12-04-bashquickref/","summary":"\u003cp\u003e\u003ca href=\"http://tldp.org/LDP/abs/html/index.html\"\u003eAdvanced Bash-Scripting Guide\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"http://www.grymoire.com/Unix/Sed.html\"\u003esed\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"http://www.grymoire.com/Unix/Awk.html\"\u003eawk\u003c/a\u003e\u003c/p\u003e\n\u003ch2 id=\"internal-variableshttptldporgldpabshtmlinternalvariableshtml\"\u003e\u003ca href=\"http://tldp.org/LDP/abs/html/internalvariables.html\"\u003eInternal Variables\u003c/a\u003e\u003c/h2\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#current parent pid\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e$$\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#last background process pid\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e$!\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#last exit status\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e$?\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#current instance pid, Bash 4.x above.\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e$BASHPID\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch2 id=\"arithmetic-expansionhttptldporgldpabshtmlarithexphtml\"\u003e\u003ca href=\"http://tldp.org/LDP/abs/html/arithexp.html\"\u003eArithmetic Expansion\u003c/a\u003e\u003c/h2\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ea\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e12\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eb\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003e$((\u003c/span\u003e$a \u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e10\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003e))\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eb\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e`\u003c/span\u003eexpr $a + 1\u003cspan style=\"color:#e6db74\"\u003e`\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eb\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003e$(\u003c/span\u003eexpr $a + 1\u003cspan style=\"color:#66d9ef\"\u003e)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003elet b\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e$a+3\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#let b=$a + 3 #incorrect \u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003elet \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;b = \u003c/span\u003e$a\u003cspan style=\"color:#e6db74\"\u003e + 3\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003edeclare -i b\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e$a+$a\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch2 id=\"manipulating-stringshttpwwwthegeekstuffcom201007bash-string-manipulation\"\u003e\u003ca href=\"http://www.thegeekstuff.com/2010/07/bash-string-manipulation/\"\u003eManipulating Strings\u003c/a\u003e\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eString is a number\u003c/li\u003e\n\u003c/ul\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e[[\u003c/span\u003e $var \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e~ ^-?\u003cspan style=\"color:#f92672\"\u003e[\u003c/span\u003e0-9\u003cspan style=\"color:#f92672\"\u003e]\u003c/span\u003e+$ \u003cspan style=\"color:#f92672\"\u003e]]\u003c/span\u003e; \u003cspan style=\"color:#66d9ef\"\u003ethen\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    echo \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e$var\u003cspan style=\"color:#e6db74\"\u003e is a number\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003efi\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e[[\u003c/span\u003e ! $var \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e~ ^-?\u003cspan style=\"color:#f92672\"\u003e[\u003c/span\u003e0-9\u003cspan style=\"color:#f92672\"\u003e]\u003c/span\u003e+$ \u003cspan style=\"color:#f92672\"\u003e]]\u003c/span\u003e; \u003cspan style=\"color:#66d9ef\"\u003ethen\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    echo \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e$var\u003cspan style=\"color:#e6db74\"\u003e is not a number\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003efi\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cul\u003e\n\u003cli\u003eFind String between two words or characters\u003c/li\u003e\n\u003c/ul\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003evar\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;Hello there are (123340) and (123)\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#last string between \u0026#39;(\u0026#39; and \u0026#39;)\u0026#39;.\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003esubstr\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003e$(\u003c/span\u003e echo $var | sed \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;s/.*(\\(.*\\)).*/\\1/\u0026#39;\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003e)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#String between \u0026#39;(\u0026#39; and \u0026#39;)\u0026#39;.\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003esubstr\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003e$(\u003c/span\u003e echo $var | awk -v FS\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;(\\(|\\))\u0026#34;\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;{print $2 \u0026#34; \u0026#34; $4}\u0026#39;\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003e)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#String between \u0026#39;there\u0026#39; and \u0026#39;and\u0026#39;.\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003esubstr\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003e$(\u003c/span\u003e echo $var | awk -v FS\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;(there|and)\u0026#34;\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;{print $2}\u0026#39;\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003e)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#String between \u0026#39;there\u0026#39; and \u0026#39;and\u0026#39;.\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003esubstr\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003e$(\u003c/span\u003e echo $var | sed \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;s/.*there\\(.*\\)and.*/\\1/\u0026#39;\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003e)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#String between \u0026#39;there\u0026#39; and \u0026#39;and\u0026#39;.\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003esubstr\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003e$(\u003c/span\u003e echo $var | grep -o -P \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;(?\u0026lt;=there).*(?=and)\u0026#39;\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003e)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch2 id=\"loop\"\u003eLoop\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eread variables\u003c/li\u003e\n\u003c/ul\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#read from file\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eecho \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;123, abc, hello world!\u0026#34;\u003c/span\u003e \u0026gt; /tmp/test\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eecho \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;12 43, ddd, !\u0026#34;\u003c/span\u003e \u0026gt;\u0026gt; /tmp/test\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003ewhile\u003c/span\u003e IFS\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;,\u0026#39;\u003c/span\u003e read var1 var2 var3\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003edo\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    echo \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;var1=\u003c/span\u003e$var1\u003cspan style=\"color:#e6db74\"\u003e var2=\u003c/span\u003e$var2\u003cspan style=\"color:#e6db74\"\u003e var3=\u003c/span\u003e$var3\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003edone\u003c/span\u003e \u0026lt; \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;/tmp/test\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#read from variable\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ex\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;one, two, three\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003ewhile\u003c/span\u003e IFS\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;,\u0026#39;\u003c/span\u003e read var1 var2 var3\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003edo\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    echo \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;var1=\u003c/span\u003e$var1\u003cspan style=\"color:#e6db74\"\u003e var2=\u003c/span\u003e$var2\u003cspan style=\"color:#e6db74\"\u003e var3=\u003c/span\u003e$var3\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003edone\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u0026lt;\u0026lt;\u003c/span\u003e $x\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cul\u003e\n\u003cli\u003eiterate IP address\u003c/li\u003e\n\u003c/ul\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#iterate class C ip address\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e i in 192.168.100.\u003cspan style=\"color:#f92672\"\u003e{\u003c/span\u003e1..10\u003cspan style=\"color:#f92672\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003edo\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    echo \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e$i\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003edone\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#iterate class B ip address\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e x in 192.168.\u003cspan style=\"color:#f92672\"\u003e{\u003c/span\u003e1..5\u003cspan style=\"color:#f92672\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003edo\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e i in $x.\u003cspan style=\"color:#f92672\"\u003e{\u003c/span\u003e1..10\u003cspan style=\"color:#f92672\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003edo\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        echo \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e$i\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003edone\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003edone\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cul\u003e\n\u003cli\u003einfinite while loop\u003c/li\u003e\n\u003c/ul\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003ewhile\u003c/span\u003e :\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003edo\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    echo \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;infinite loops [ CTRL+C to stop]\u0026#34;\u003c/span\u003e \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    sleep \u003cspan style=\"color:#ae81ff\"\u003e5\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003edone\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch2 id=\"arrayhttpwwwlinuxjournalcomcontentbash-arrays\"\u003e\u003ca href=\"http://www.linuxjournal.com/content/bash-arrays\"\u003eArray\u003c/a\u003e\u003c/h2\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# Simple array\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003earrayA\u003cspan style=\"color:#f92672\"\u003e=(\u003c/span\u003e Mon Tue Wed Thu Fri Sat Sun \u003cspan style=\"color:#f92672\"\u003e)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eecho \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003e!arrayA[*]\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e    \u003cspan style=\"color:#75715e\"\u003e# 0 1 2 3 4 5 6\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eecho \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${#\u003c/span\u003earrayA[*]\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e    \u003cspan style=\"color:#75715e\"\u003e# 7\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eecho \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003earrayA[*]\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e     \u003cspan style=\"color:#75715e\"\u003e# Mon Tue Wed Thu Fri Sat Sun\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eecho \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003e!arrayA[@]\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e    \u003cspan style=\"color:#75715e\"\u003e# 0 1 2 3 4 5 6\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eecho \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${#\u003c/span\u003earrayA[@]\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e    \u003cspan style=\"color:#75715e\"\u003e# 7\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eecho \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003earrayA[@]\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e     \u003cspan style=\"color:#75715e\"\u003e# Mon Tue Wed Thu Fri Sat Sun\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eecho \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003earrayA[2]\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e     \u003cspan style=\"color:#75715e\"\u003e# Wed\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eecho \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e$arrayA\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e          \u003cspan style=\"color:#75715e\"\u003e# Mon\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eecho \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003earrayA[20]\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e    \u003cspan style=\"color:#75715e\"\u003e# null \u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003earrayA\u003cspan style=\"color:#f92672\"\u003e=(\u003c/span\u003e one two \u003cspan style=\"color:#f92672\"\u003e)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eecho \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003earrayA[*]\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e     \u003cspan style=\"color:#75715e\"\u003e# one two\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003earrayA\u003cspan style=\"color:#f92672\"\u003e+=(\u003c/span\u003e three \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;four\u0026#34;\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eecho \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003earrayA[*]\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e     \u003cspan style=\"color:#75715e\"\u003e# one two three four\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# Key/Value \u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003edeclare -A arrayB\u003cspan style=\"color:#f92672\"\u003e=(\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e[\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;Mon\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e]=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;Monday\u0026#34;\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e[\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;Tue\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e]=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;Tuesday\u0026#34;\u003c/span\u003e \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#f92672\"\u003e[\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;Wed\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e]=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;Wednesday\u0026#34;\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e[\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;Thu\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e]=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;Thursday\u0026#34;\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e[\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;Fri\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e]=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;Friday\u0026#34;\u003c/span\u003e \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#f92672\"\u003e[\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;Sat\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e]=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;Saturday\u0026#34;\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e[\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;Sun\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e]=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;Sunday\u0026#34;\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eecho \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003e!arrayB[*]\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e    \u003cspan style=\"color:#75715e\"\u003e# Thu Tue Wed Mon Fri Sat Sun\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eecho \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${#\u003c/span\u003earrayB[*]\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e    \u003cspan style=\"color:#75715e\"\u003e# 7\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eecho \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003earrayB[*]\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e     \u003cspan style=\"color:#75715e\"\u003e# Thursday Tuesday Wednesday Monday Friday Saturday Sunday\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eecho \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003e!arrayB[@]\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e    \u003cspan style=\"color:#75715e\"\u003e# Thu Tue Wed Mon Fri Sat Sun\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eecho \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${#\u003c/span\u003earrayB[@]\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e    \u003cspan style=\"color:#75715e\"\u003e# 7\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eecho \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003earrayB[@]\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e     \u003cspan style=\"color:#75715e\"\u003e# Thursday Tuesday Wednesday Monday Friday Saturday Sunday\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eecho \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003earrayB[2]\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e     \u003cspan style=\"color:#75715e\"\u003e# null\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eecho \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e$arrayB\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e          \u003cspan style=\"color:#75715e\"\u003e# null\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eecho \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003earrayB[\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;Tue\u0026#34;\u003c/span\u003e]\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e# Tuesday\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003edeclare -A arrayB\u003cspan style=\"color:#f92672\"\u003e=(\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e[\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;one\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e]=\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e[\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;two\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e]=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;2\u0026#34;\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eecho \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003e!arrayB[*]\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e    \u003cspan style=\"color:#75715e\"\u003e# one two\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eecho \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003earrayB[*]\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e     \u003cspan style=\"color:#75715e\"\u003e# 1 2\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003earrayB\u003cspan style=\"color:#f92672\"\u003e+=(\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e[\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;three\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e]=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;3\u0026#34;\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e[\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;four\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e]=\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e4\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eecho \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003e!arrayB[*]\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e    \u003cspan style=\"color:#75715e\"\u003e# four one two three\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eecho \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003earrayB[*]\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e     \u003cspan style=\"color:#75715e\"\u003e# 4 1 2 3\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003earrayB\u003cspan style=\"color:#f92672\"\u003e+=(\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e[\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;four\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e]=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;aa\u0026#34;\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e[\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;five\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e]=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;5a1c\u0026#34;\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eecho \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003e!arrayB[*]\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e    \u003cspan style=\"color:#75715e\"\u003e# four one five two three\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eecho \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003earrayB[*]\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e     \u003cspan style=\"color:#75715e\"\u003e# 4aa 1 5a1c 2 3\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch2 id=\"io-redirectionhttpwwwtldporgldpabshtmlio-redirectionhtml\"\u003e\u003ca href=\"http://www.tldp.org/LDP/abs/html/io-redirection.html\"\u003eI/O redirection\u003c/a\u003e\u003c/h2\u003e\n\u003ch2 id=\"forking-processes\"\u003eForking Processes\u003c/h2\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003epid_perfix\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;/tmp/proc-\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003efunction\u003c/span\u003e doSomething\u003cspan style=\"color:#f92672\"\u003e(){\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    local pid_file\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e$pid_perfix$BASHPID\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    echo \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;this is task \u003c/span\u003e$1\u003cspan style=\"color:#e6db74\"\u003e : \u003c/span\u003e$pid_file\u003cspan style=\"color:#e6db74\"\u003e \u0026#34;\u003c/span\u003e \u0026gt; $pid_file\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    sleep \u003cspan style=\"color:#ae81ff\"\u003e5\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#f92672\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ew_pid\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e task in \u003cspan style=\"color:#f92672\"\u003e{\u003c/span\u003e1..5\u003cspan style=\"color:#f92672\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003edo\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    doSomething $task \u0026amp;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    w_pid\u003cspan style=\"color:#f92672\"\u003e+=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e$!\u003cspan style=\"color:#e6db74\"\u003e \u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    sleep \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003edone\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e p in $w_pid\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003edo\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    wait $p\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003edone\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#clean up\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e p in $w_pid\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003edo\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#75715e\"\u003e#del pid file \u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    rm \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e$pid_perfix$p\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003edone\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eexit \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e","title":"Bash Quick Reference"},{"content":"Use RRDTool monitor Raspberry Pi, include CPU temperture, Memory usage, Disk I/O, Network I/O\u0026hellip;\nInstall install packages\n$sudo apt-get install libcairo2-dev libpango1.0-dev libglib2.0-dev libxml2-dev \\ librrd-dev python2.7-dev rrdtool python-rrdtool $wget https://pypi.python.org/packages/source/p/psutil/psutil-2.1.1.tar.gz $tar xf psutil-2.1.1.tar.gz $cd psutil-2.1.1 $sudo python setup.py install Download or clone rpi-monitor on github\nhttps://github.com/oopsmonk/rpi-monitor\nSetup Crontab By defualt, the cron.log is disabled in Raspbian. To enable it:\nsudo vi /etc/rsyslog.conf find the line and uncomment it.\n# cron.* /var/log/cron.log Restart rsyslog via:\nsudo /etc/init.d/rsyslog restart Modify crontab\ncrontab -e Add schedule as below\n#data collection every 5 minutes */5 * * * * /path/to/rpi-monitor/rpi_monitor.py #generate daily graph report at 00:01 1 0 * * * /path/to/rpi-monitor/graphReport.py -1d #generate weekly graph report at 00:03 on Monday 3 0 * * 1 /path/to/rpi-monitor/graphReport.py -1w Report example Raspberry Pi Hardware CPU Temperture The temperture drop to 44 because I add a fan on CPU.\nCPU Used Percentage PID Count Memory Usage Mount point Usage Mount Point Percentage HDD I/O eth0 I/O eth1 I/O ","permalink":"https://oopsmonk.github.io/posts/2014-07-21-rpimonitor/","summary":"\u003cp\u003eUse RRDTool monitor Raspberry Pi, include CPU temperture, Memory usage, Disk I/O, Network I/O\u0026hellip;\u003c/p\u003e\n\u003ch2 id=\"install\"\u003eInstall\u003c/h2\u003e\n\u003cp\u003einstall packages\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003e$sudo apt-get install libcairo2-dev libpango1.0-dev libglib2.0-dev libxml2-dev \\ \n librrd-dev python2.7-dev rrdtool python-rrdtool\n$wget https://pypi.python.org/packages/source/p/psutil/psutil-2.1.1.tar.gz\n$tar xf psutil-2.1.1.tar.gz\n$cd psutil-2.1.1\n$sudo python setup.py install\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eDownload or clone rpi-monitor on github\u003cbr\u003e\n\u003ca href=\"https://github.com/oopsmonk/rpi-monitor\"\u003ehttps://github.com/oopsmonk/rpi-monitor\u003c/a\u003e\u003c/p\u003e\n\u003ch2 id=\"setup-crontab\"\u003eSetup Crontab\u003c/h2\u003e\n\u003cp\u003eBy defualt, the \u003ccode\u003ecron.log\u003c/code\u003e is disabled in \u003ca href=\"http://www.raspbian.org/\"\u003eRaspbian\u003c/a\u003e.\nTo enable it:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003esudo vi /etc/rsyslog.conf\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003efind the line and uncomment it.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e# cron.*                          /var/log/cron.log\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eRestart \u003ccode\u003ersyslog\u003c/code\u003e via:\u003c/p\u003e","title":"Raspberry Pi Monitor"},{"content":"èµ·å¸éºµåŒ… ç¶œåˆéºµåŒ… å¹³åº•é‹åšéºµåŒ… æˆšé¢¨è›‹ç³• é¦™è•‰æ ¸æ¡ƒé¦¬èŠ¬è›‹ç³• é®­é­šç‚’é£¯ ","permalink":"https://oopsmonk.github.io/posts/2013-12-31-baking2013/","summary":"\u003ch2 id=\"èµ·å¸éºµåŒ…\"\u003eèµ·å¸éºµåŒ…\u003c/h2\u003e\n\u003cp\u003e\u003cimg loading=\"lazy\" src=\"/images/2013-12-31/20130506_IMG_0185.jpg\"\u003e\u003c/p\u003e\n\u003ch2 id=\"ç¶œåˆéºµåŒ…\"\u003eç¶œåˆéºµåŒ…\u003c/h2\u003e\n\u003cp\u003e\u003cimg loading=\"lazy\" src=\"/images/2013-12-31/20131124_IMG_0914.jpg\"\u003e\u003cbr\u003e\n\u003cimg loading=\"lazy\" src=\"/images/2013-12-31/20131124_IMG_0915.jpg\"\u003e\u003cbr\u003e\n\u003cimg loading=\"lazy\" src=\"/images/2013-12-31/20131124_IMG_0916.jpg\"\u003e\u003c/p\u003e\n\u003ch2 id=\"å¹³åº•é‹åšéºµåŒ…\"\u003eå¹³åº•é‹åšéºµåŒ…\u003c/h2\u003e\n\u003cp\u003e\u003cimg loading=\"lazy\" src=\"/images/2013-12-31/PhotoGrid_1384960331106.jpg\"\u003e\u003c/p\u003e\n\u003ch2 id=\"æˆšé¢¨è›‹ç³•\"\u003eæˆšé¢¨è›‹ç³•\u003c/h2\u003e\n\u003cp\u003e\u003cimg loading=\"lazy\" src=\"/images/2013-12-31/20130807_IMG_0744.jpg\"\u003e\u003cbr\u003e\n\u003cimg loading=\"lazy\" src=\"/images/2013-12-31/PhotoGrid_1389446323544.jpg\"\u003e\u003cbr\u003e\n\u003cimg loading=\"lazy\" src=\"/images/2013-12-31/PhotoGrid_1389447130839.jpg\"\u003e\u003cbr\u003e\n\u003cimg loading=\"lazy\" src=\"/images/2013-12-31/PhotoGrid_1389447362487.jpg\"\u003e\u003c/p\u003e\n\u003ch2 id=\"é¦™è•‰æ ¸æ¡ƒé¦¬èŠ¬è›‹ç³•\"\u003eé¦™è•‰æ ¸æ¡ƒé¦¬èŠ¬è›‹ç³•\u003c/h2\u003e\n\u003cp\u003e\u003cimg loading=\"lazy\" src=\"/images/2013-12-31/PhotoGrid_1389446874095.jpg\"\u003e\u003c/p\u003e\n\u003ch2 id=\"é®­é­šç‚’é£¯\"\u003eé®­é­šç‚’é£¯\u003c/h2\u003e\n\u003cp\u003e\u003cimg loading=\"lazy\" src=\"/images/2013-12-31/PhotoGrid_1385790108144.jpg\"\u003e\u003c/p\u003e","title":"Baking 2013"},{"content":"This is a git tutorial, create svn upstream on GitHub.\nUse MOC project as a example.\n#Checkout SVN and push to GitHub. Install packages\n$ sudo apt-get install subversion git-svn Create git repository (it will take a long time)\n$ git svn clone svn://daper.net/moc/trunk --no-metadata ./moc-svn-git $ cat moc-svn-git/.git/config [core] repositoryformatversion = 0 filemode = true bare = false logallrefupdates = true [svn-remote \u0026#34;svn\u0026#34;] noMetadata = 1 url = svn://daper.net/moc/trunk fetch = :refs/remotes/git-svn Update SVN repository\n$ git svn fetch $ git cehckout remotes/git-svn -b svn-upstream Creat repository on GitHub\n$ cd moc-svn-git $ git svn show-ignore \u0026gt; .gitignore $ git add -f .gitignore $ git commit -m \u0026#34;Convert svn:ignore to .gitignore\u0026#34; $ mkdir ../moc-bare $ git clone --bare ../moc-bare $ cd ../moc-bare/ Create empty repository on GitHub. (named moc-git) $ git push --mirror https://github.com/\u0026#39;your-account\u0026#39;/moc-git.git After this step, we create two folders.\nmoc-svn-git: SVN and Git Workspace.\nmoc-bare: Git bare for GitHub.\n#Add GitHub repository to workspace\n$ cd moc-svn-git $ git remote add github-moc https://github.com/\u0026#39;your-account\u0026#39;/moc-git.git $ git remote update $ git branch -a * master svn-upstream remotes/git-svn remotes/github-moc/master $ git checkout remotes/github-moc/master -b github-moc $ git branch -a * github-moc master svn-upstream remotes/git-svn remotes/github-moc/master #Merge upstream\n$ cd moc-svn-git $ git pull fetch remotes/git-svn $ git svn fetch $ git checkout remotes/git-svn -b upstream-now $ git checkout master $ git merge upstream-now Fix Conflicts... $ git add . $ git commit $ git push Ref:\nConverting a Subverion repository to Git\nGit SVN Tutorial\n","permalink":"https://oopsmonk.github.io/posts/2013-08-26-git-svn-upstream/","summary":"\u003cp\u003eThis is a git tutorial, create svn upstream on GitHub.\u003cbr\u003e\nUse \u003ca href=\"http://moc.daper.net/\"\u003eMOC\u003c/a\u003e project as a example.\u003c/p\u003e\n\u003cp\u003e#Checkout SVN and push to GitHub. \u003cbr\u003e\nInstall packages\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ sudo apt-get install subversion git-svn\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eCreate git repository (it will take a long time)\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003e$ git svn clone svn://daper.net/moc/trunk --no-metadata ./moc-svn-git  \n$ cat moc-svn-git/.git/config  \n[core]\n        repositoryformatversion = 0\n        filemode = true\n        bare = false\n        logallrefupdates = true\n[svn-remote \u0026#34;svn\u0026#34;]\n        noMetadata = 1\n        url = svn://daper.net/moc/trunk\n        fetch = :refs/remotes/git-svn\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eUpdate SVN repository\u003c/p\u003e","title":"GitHub SVN Upstream (on Ubuntu12.04)"},{"content":"clone MOC svn repository to github Ref: Converting a Subversion repository to Git\n$ sudo apt-get install subversion git-svn $ mkdir moc-svn $ cd moc-svn $ svn co svn://daper.net/moc/trunk $ svn log -q | awk -F \u0026#39;|\u0026#39; \u0026#39;/^r/ {sub(\u0026#34;^ \u0026#34;, \u0026#34;\u0026#34;, $2); sub(\u0026#34; $\u0026#34;, \u0026#34;\u0026#34;, $2); print $2\u0026#34; = \u0026#34;$2\u0026#34; \u0026lt;\u0026#34;$2\u0026#34;\u0026gt;\u0026#34;}\u0026#39; | sort -u \u0026gt; authors-transform.txt $ cd .. $ mkdir moc-git $ git svn clone svn://daper.net/moc/trunk --no-metadata -A ./moc-svn/authors-transform.txt ./moc-git $ cd moc-git $ git svn show-ignore \u0026gt; .gitignore $ git add -f .gitignore $ git commit -m \u0026#34;Convert svn:ignore to .gitignore.\u0026#34; $ mkdir ../moc-bare $ git clone --bare ../moc-bare $ cd ../moc-bare/moc-git.git #Create empty repository on GitHub. $ git push --mirror https://github.com/oopsmonk/moc-git.git install develop package for MOC (Ubuntu) $ sudo apt-get install build-essential libdb-dev gettext Optional libraries: Sound driver: ALSA - libasound2-dev JACK - libjack-dev Decoder: FLAC - libflac-dev MP3 - libmad0-dev, libid3tag0-dev sndfile, vorbis - libsndfile1-dev Network: libcurl4-gnutls-dev RCC: librcc-dev Resample : libsamplerate0-dev MIME magic: libmagic-dev After release 2.5 MOC will require libpopt. $ sudo apt-get install libasound2-dev libjack-dev \\ libflac-dev libmad0-dev libid3tag0-dev libsndfile1-dev $ sudo apt-get install libcurl4-gnutls-dev librcc-dev \\ libsamplerate0-dev libmagic-dev libpopt ----------------------------------------------------------------------- MOC will be compiled with: Decoder plugins: flac mp3 sndfile vorbis Sound Drivers: OSS ALSA JACK DEBUG: yes RCC: yes Network streams: yes Resampling: yes MIME magic: yes ----------------------------------------------------------------------- install develop package for MOC (Raspberry Pi) $ sudo apt-get install build-essential autoconf automake libtool $ sudo apt-get install libncurses5-dev libdb-dev gettext $ sudo apt-get install libasound2-dev libjack-dev libflac-dev \\ libmad0-dev libid3tag0-dev libsndfile1-dev $ sudo apt-get install libcurl4-gnutls-dev librcc-dev libsamplerate0-dev libmagic-dev Build libpopt $ wget http://rpm5.org/files/popt/popt-1.16.tar.gz $ tar xf popt-1.16.tar.gz $ cd popt-1.16 $ autoreconf $ ./configure --prefix=/usr/lib --enable-shared $ make $ sudo make install check out from repository $ svn co svn://daper.net/moc/trunk moc-svn Build step $ cd moc-svn $ autoreconf $ ./configure --enable-debug --perfix=/path/to/dev $ make \u0026amp;\u0026amp; make install Debugging $cd /path/to/dev $ ./bin/mocp --debug ","permalink":"https://oopsmonk.github.io/posts/2013-08-23-mocbuilding/","summary":"\u003ch2 id=\"clone-moc-svn-repository-to-github\"\u003eclone MOC svn repository to github\u003c/h2\u003e\n\u003cp\u003eRef: \u003ca href=\"http://john.albin.net/git/convert-subversion-to-git\"\u003eConverting a Subversion repository to Git\u003c/a\u003e\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003e$ sudo apt-get install subversion git-svn  \n$ mkdir moc-svn  \n$ cd moc-svn  \n$ svn co svn://daper.net/moc/trunk  \n$ svn log -q | awk -F \u0026#39;|\u0026#39; \u0026#39;/^r/ {sub(\u0026#34;^ \u0026#34;, \u0026#34;\u0026#34;, $2); sub(\u0026#34; $\u0026#34;, \u0026#34;\u0026#34;, $2); print $2\u0026#34; = \u0026#34;$2\u0026#34; \u0026lt;\u0026#34;$2\u0026#34;\u0026gt;\u0026#34;}\u0026#39; | sort -u \u0026gt; authors-transform.txt  \n$ cd ..  \n$ mkdir moc-git  \n$ git svn clone svn://daper.net/moc/trunk --no-metadata -A ./moc-svn/authors-transform.txt ./moc-git  \n$ cd moc-git  \n$ git svn show-ignore \u0026gt; .gitignore  \n$ git add -f .gitignore  \n$ git commit -m \u0026#34;Convert svn:ignore to .gitignore.\u0026#34;  \n$ mkdir ../moc-bare  \n$ git clone --bare ../moc-bare  \n$ cd ../moc-bare/moc-git.git  \n#Create empty repository on GitHub.  \n$ git push --mirror https://github.com/oopsmonk/moc-git.git  \n\u003c/code\u003e\u003c/pre\u003e\u003ch2 id=\"install-develop-package-for-moc-ubuntu\"\u003einstall develop package for MOC (Ubuntu)\u003c/h2\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003e$ sudo apt-get install build-essential libdb-dev gettext  \n\nOptional libraries:  \n\nSound driver:\nALSA - libasound2-dev\nJACK - libjack-dev\n\nDecoder:\nFLAC - libflac-dev\nMP3 - libmad0-dev, libid3tag0-dev\nsndfile, vorbis - libsndfile1-dev\n\nNetwork: libcurl4-gnutls-dev\nRCC: librcc-dev\nResample : libsamplerate0-dev\nMIME magic: libmagic-dev\nAfter release 2.5 MOC will require libpopt.\n\n$ sudo apt-get install libasound2-dev libjack-dev \\ \n libflac-dev libmad0-dev libid3tag0-dev libsndfile1-dev \n$ sudo apt-get install libcurl4-gnutls-dev librcc-dev \\\n libsamplerate0-dev libmagic-dev libpopt\n\n-----------------------------------------------------------------------\nMOC will be compiled with:\n\nDecoder plugins:   flac mp3 sndfile vorbis\nSound Drivers:     OSS ALSA JACK\nDEBUG:             yes\nRCC:               yes\nNetwork streams:   yes\nResampling:        yes\nMIME magic:        yes\n-----------------------------------------------------------------------\n\u003c/code\u003e\u003c/pre\u003e\u003ch2 id=\"install-develop-package-for-moc-raspberry-pi\"\u003einstall develop package for MOC (Raspberry Pi)\u003c/h2\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003e$ sudo apt-get install build-essential autoconf automake libtool\n$ sudo apt-get install libncurses5-dev libdb-dev gettext\n$ sudo apt-get install libasound2-dev libjack-dev libflac-dev \\ \n libmad0-dev libid3tag0-dev libsndfile1-dev \n$ sudo apt-get install libcurl4-gnutls-dev librcc-dev libsamplerate0-dev libmagic-dev\n\nBuild libpopt\n$ wget http://rpm5.org/files/popt/popt-1.16.tar.gz\n$ tar xf popt-1.16.tar.gz  \n$ cd popt-1.16\n$ autoreconf  \n$ ./configure --prefix=/usr/lib --enable-shared\n$ make \n$ sudo make install  \n\u003c/code\u003e\u003c/pre\u003e\u003ch2 id=\"check-out-from-repository\"\u003echeck out from repository\u003c/h2\u003e\n\u003cpre\u003e\u003ccode\u003e$ svn co svn://daper.net/moc/trunk  moc-svn\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"build-step\"\u003eBuild step\u003c/h2\u003e\n\u003cpre\u003e\u003ccode\u003e$ cd moc-svn  \n$ autoreconf \n$ ./configure --enable-debug --perfix=/path/to/dev  \n$ make \u0026amp;\u0026amp; make install  \n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"debugging\"\u003eDebugging\u003c/h2\u003e\n\u003cpre\u003e\u003ccode\u003e$cd /path/to/dev\n$ ./bin/mocp --debug  \n\u003c/code\u003e\u003c/pre\u003e","title":"Building MOC"},{"content":"Bottle is a fast, simple and lightweight WSGI micro web-framework for Python.\njQuery Mobile base on jQuery for mobile device.\njQuery vs. jQuery Mobile vs. jQuery UI\nInstall bottle: $ sudo apt-get install python-setuptools $ easy_install bottle Demo server deployment file structure: BottlejQuery â”œâ”€â”€ bottleJQuery.py â””â”€â”€ index.html run command: $ ./bottleJQuery.py connect to server: http://localhost:8080/bottle Building simple web server use bottle bottleJQuery.py #!/usr/bin/env python from bottle import route, static_file, debug, run, get, redirect from bottle import post, request import os, inspect, json #enable bottle debug debug(True) # WebApp route path routePath = \u0026#39;/bottle\u0026#39; # get directory of WebApp (bottleJQuery.py\u0026#39;s dir) rootPath = os.path.dirname(os.path.abspath(inspect.getfile(inspect.currentframe()))) @route(routePath) def rootHome(): return redirect(routePath+\u0026#39;/index.html\u0026#39;) @route(routePath + \u0026#39;/\u0026lt;filename:re:.*\\.html\u0026gt;\u0026#39;) def html_file(filename): return static_file(filename, root=rootPath) @get(routePath + \u0026#39;/jsontest\u0026#39;) def testJsonGET(): print \u0026#34;GET Header : \\n %s\u0026#34; % dict(request.headers) #for debug header return {\u0026#34;id\u0026#34;:2,\u0026#34;name\u0026#34;:\u0026#34;Jone\u0026#34;} @post(routePath + \u0026#39;/jsontest\u0026#39;) def testJsonPost(): print \u0026#34;POST Header : \\n %s\u0026#34; % dict(request.headers) #for debug header data = request.json print \u0026#34;data : %s\u0026#34; % data if data == None: return json.dumps({\u0026#39;Status\u0026#39;:\u0026#34;Failed!\u0026#34;}) else: return json.dumps({\u0026#39;Status\u0026#39;:\u0026#34;Success!\u0026#34;}) run(host=\u0026#39;localhost\u0026#39;, port=8080, reloader=True) Test GET request: $ curl -i -X GET http://localhost:8080/bottle/jsontest HTTP/1.0 200 OK Date: Wed, 07 Aug 2013 16:03:53 GMT Server: WSGIServer/0.1 Python/2.7.3 Content-Length: 25 Content-Type: application/json {\u0026#34;id\u0026#34;: 2, \u0026#34;name\u0026#34;: \u0026#34;Jone\u0026#34;} bottle debug message:\nGET Header : {\u0026#39;Host\u0026#39;: \u0026#39;localhost:8080\u0026#39;, \u0026#39;Content-Type\u0026#39;: \u0026#39;text/plain\u0026#39;, \u0026#39;Content-Length\u0026#39;: \u0026#39;\u0026#39;, \u0026#39;Accept\u0026#39;: \u0026#39;*/*\u0026#39;, \u0026#39;User-Agent\u0026#39;: \u0026#39;curl/7.22.0 (x86_64-pc-linux-gnu) libcurl/7.22.0 OpenSSL/1.0.1 zlib/1.2.3.4 libidn/1.23 librtmp/2.3\u0026#39;} localhost - - [08/Aug/2013 00:03:53] \u0026#34;GET /bottle/jsontest HTTP/1.1\u0026#34; 200 25 Test POST request: $ curl -X POST -H \u0026#34;Content-Type: application/json\u0026#34; \\ -d \u0026#39;{\u0026#34;name\u0026#34;:\u0026#34;OopsMonk\u0026#34;,\u0026#34;pwd\u0026#34;:\u0026#34;abc\u0026#34;}\u0026#39; \\ http://localhost:8080/bottle/jsontest {\u0026#34;Status\u0026#34;: \u0026#34;Success!\u0026#34;} bottle debug message:\nPOST Header : {\u0026#39;Host\u0026#39;: \u0026#39;localhost:8080\u0026#39;, \u0026#39;Content-Type\u0026#39;: \u0026#39;application/json\u0026#39;, \u0026#39;Content-Length\u0026#39;: \u0026#39;31\u0026#39;, \u0026#39;Accept\u0026#39;: \u0026#39;*/*\u0026#39;, \u0026#39;User-Agent\u0026#39;: \u0026#39;curl/7.22.0 (x86_64-pc-linux-gnu) libcurl/7.22.0 OpenSSL/1.0.1 zlib/1.2.3.4 libidn/1.23 librtmp/2.3\u0026#39;} data : {u\u0026#39;pwd\u0026#39;: u\u0026#39;abc\u0026#39;, u\u0026#39;name\u0026#39;: u\u0026#39;OopsMonk\u0026#39;} localhost - - [08/Aug/2013 00:04:56] \u0026#34;POST /bottle/jsontest HTTP/1.1\u0026#34; 200 22 Building simple web page Create 4 buttons in the index.html file:\njQuery.getJSON : use jQuery.getJSON API.\nbottle debug message: GET Header : {\u0026#39;Content-Length\u0026#39;: \u0026#39;\u0026#39;, \u0026#39;Accept-Language\u0026#39;: \u0026#39;zh-tw,zh;q=0.8,en-us;q=0.5,en;q=0.3\u0026#39;, \u0026#39;Accept-Encoding\u0026#39;: \u0026#39;gzip, deflate\u0026#39;, \u0026#39;Host\u0026#39;: \u0026#39;127.0.0.1:8080\u0026#39;, \u0026#39;Accept\u0026#39;: \u0026#39;application/json, text/javascript, */*; q=0.01\u0026#39;, \u0026#39;User-Agent\u0026#39;: \u0026#39;Mozilla/5.0 (Windows NT 6.1; WOW64; rv:22.0) Gecko/20100101 Firefox/22.0\u0026#39;, \u0026#39;Connection\u0026#39;: \u0026#39;close\u0026#39;, \u0026#39;X-Requested-With\u0026#39;: \u0026#39;XMLHttpRequest\u0026#39;, \u0026#39;Referer\u0026#39;: \u0026#39;http://192.168.1.38/bottle/index.html\u0026#39;, \u0026#39;Content-Type\u0026#39;: \u0026#39;text/plain\u0026#39;} localhost - - [08/Aug/2013 00:42:08] \u0026#34;GET /bottle/jsontest HTTP/1.0\u0026#34; 200 25 jQuery.post : use jQuery.post API.\nUnfortunately it\u0026rsquo;s not work, because the content-Type is fixed \u0026lsquo;application/x-www-form-urlencoded; charset=UTF-8\u0026rsquo;, that\u0026rsquo;s a problem when using bottle.request.json API to retrieve JSON from request.\nFor this perpose we have to overwirte jQuery.post or use jQuery.ajax. bottle debug message: POST Header : {\u0026#39;Content-Length\u0026#39;: \u0026#39;22\u0026#39;, \u0026#39;Accept-Language\u0026#39;: \u0026#39;zh-tw,zh;q=0.8,en-us;q=0.5,en;q=0.3\u0026#39;, \u0026#39;Accept-Encoding\u0026#39;: \u0026#39;gzip, deflate\u0026#39;, \u0026#39;Host\u0026#39;: \u0026#39;127.0.0.1:8080\u0026#39;, \u0026#39;Accept\u0026#39;: \u0026#39;application/json, text/javascript, */*; q=0.01\u0026#39;, \u0026#39;User-Agent\u0026#39;: \u0026#39;Mozilla/5.0 (Windows NT 6.1; WOW64; rv:22.0) Gecko/20100101 Firefox/22.0\u0026#39;, \u0026#39;Connection\u0026#39;: \u0026#39;close\u0026#39;, \u0026#39;X-Requested-With\u0026#39;: \u0026#39;XMLHttpRequest\u0026#39;, \u0026#39;Pragma\u0026#39;: \u0026#39;no-cache\u0026#39;, \u0026#39;Cache-Control\u0026#39;: \u0026#39;no-cache\u0026#39;, \u0026#39;Referer\u0026#39;: \u0026#39;http://192.168.1.38/bottle/index.html\u0026#39;, \u0026#39;Content-Type\u0026#39;: \u0026#39;application/x-www-form-urlencoded; charset=UTF-8\u0026#39;} data : None localhost - - [08/Aug/2013 00:55:17] \u0026#34;POST /bottle/jsontest HTTP/1.0\u0026#34; 200 21 jQuery.ajax GET, jQuery.ajax POST : use jQuery.ajax API. GET debug message:\nGET Header : {\u0026#39;Content-Length\u0026#39;: \u0026#39;\u0026#39;, \u0026#39;Accept-Language\u0026#39;: \u0026#39;zh-tw,zh;q=0.8,en-us;q=0.5,en;q=0.3\u0026#39;, \u0026#39;Accept-Encoding\u0026#39;: \u0026#39;gzip, deflate\u0026#39;, \u0026#39;Host\u0026#39;: \u0026#39;127.0.0.1:8080\u0026#39;, \u0026#39;Accept\u0026#39;: \u0026#39;application/json, text/javascript, */*; q=0.01\u0026#39;, \u0026#39;User-Agent\u0026#39;: \u0026#39;Mozilla/5.0 (Windows NT 6.1; WOW64; rv:22.0) Gecko/20100101 Firefox/22.0\u0026#39;, \u0026#39;Connection\u0026#39;: \u0026#39;close\u0026#39;, \u0026#39;X-Requested-With\u0026#39;: \u0026#39;XMLHttpRequest\u0026#39;, \u0026#39;Referer\u0026#39;: \u0026#39;http://192.168.1.38/bottle/index.html\u0026#39;, \u0026#39;Content-Type\u0026#39;: \u0026#39;text/plain\u0026#39;} localhost - - [08/Aug/2013 01:00:17] \u0026#34;GET /bottle/jsontest HTTP/1.0\u0026#34; 200 25 POST debug message:\nPOST Header : {\u0026#39;Content-Length\u0026#39;: \u0026#39;22\u0026#39;, \u0026#39;Accept-Language\u0026#39;: \u0026#39;zh-tw,zh;q=0.8,en-us;q=0.5,en;q=0.3\u0026#39;, \u0026#39;Accept-Encoding\u0026#39;: \u0026#39;gzip, deflate\u0026#39;, \u0026#39;Host\u0026#39;: \u0026#39;127.0.0.1:8080\u0026#39;, \u0026#39;Accept\u0026#39;: \u0026#39;application/json, text/javascript, */*; q=0.01\u0026#39;, \u0026#39;User-Agent\u0026#39;: \u0026#39;Mozilla/5.0 (Windows NT 6.1; WOW64; rv:22.0) Gecko/20100101 Firefox/22.0\u0026#39;, \u0026#39;Connection\u0026#39;: \u0026#39;close\u0026#39;, \u0026#39;X-Requested-With\u0026#39;: \u0026#39;XMLHttpRequest\u0026#39;, \u0026#39;Pragma\u0026#39;: \u0026#39;no-cache\u0026#39;, \u0026#39;Cache-Control\u0026#39;: \u0026#39;no-cache\u0026#39;, \u0026#39;Referer\u0026#39;: \u0026#39;http://192.168.1.38/bottle/index.html\u0026#39;, \u0026#39;Content-Type\u0026#39;: \u0026#39;application/json; charset=utf-8\u0026#39;} data : {u\u0026#39;id\u0026#39;: 3, u\u0026#39;name\u0026#39;: u\u0026#39;Ping\u0026#39;} localhost - - [08/Aug/2013 01:01:40] \u0026#34;POST /bottle/jsontest HTTP/1.0\u0026#34; 200 22 ###index.html\n\u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html\u0026gt; \u0026lt;head\u0026gt; \u0026lt;title\u0026gt;Bottle \u0026amp; jQuery Mobile\u0026lt;/title\u0026gt; \u0026lt;link rel=\u0026#34;stylesheet\u0026#34; href=\u0026#34;http://code.jquery.com/mobile/1.3.2/jquery.mobile-1.3.2.min.css\u0026#34; /\u0026gt; \u0026lt;script src=\u0026#34;http://code.jquery.com/jquery-1.9.1.min.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;script src=\u0026#34;http://code.jquery.com/mobile/1.3.2/jquery.mobile-1.3.2.min.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;h3\u0026gt;This is a example using jQuery Mobile and pyhton bottle fromwork. \u0026lt;/h3\u0026gt; \u0026lt;div data-role=\u0026#34;controlgroup\u0026#34; data-type=\u0026#34;horizontal\u0026#34;\u0026gt; \u0026lt;a href=\u0026#34;#\u0026#34; id=\u0026#34;btnGetJSON\u0026#34; data-role=\u0026#34;button\u0026#34;\u0026gt;jQuery.getJSON\u0026lt;/a\u0026gt; \u0026lt;a href=\u0026#34;#\u0026#34; id=\u0026#34;btnPOSTJSON\u0026#34; data-role=\u0026#34;button\u0026#34;\u0026gt;jQuery.post\u0026lt;/a\u0026gt; \u0026lt;a href=\u0026#34;#\u0026#34; id=\u0026#34;btnAJAXGet\u0026#34; data-role=\u0026#34;button\u0026#34;\u0026gt;jQuery.ajax GET\u0026lt;/a\u0026gt; \u0026lt;a href=\u0026#34;#\u0026#34; id=\u0026#34;btnAJAXPOST\u0026#34; data-role=\u0026#34;button\u0026#34;\u0026gt;jQuery.ajax POST\u0026lt;/a\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script\u0026gt; //button action $(\u0026#34;#btnGetJSON\u0026#34;).click(function(){ $.getJSON(\u0026#34;jsontest\u0026#34;, function(data){ $.each(data, function(index, value){ alert(\u0026#34;index: \u0026#34; + index + \u0026#34; , value: \u0026#34;+ value); }); }); }); $(\u0026#34;#btnPOSTJSON\u0026#34;).click(function(){ alert(\u0026#34;Not easy work on bottle !!!\u0026#34;); /* It\u0026#39;s not work, send JSON via jQuery.post(). because the content-Type is not \u0026#39;application/json\u0026#39;, The content type is fixed : \u0026#39;Content-Type\u0026#39;: \u0026#39;application/x-www-form-urlencoded; charset=UTF-8\u0026#39; that\u0026#39;s a problem on bottle.request.json. */ $.post( \u0026#34;jsontest\u0026#34;, JSON.stringify({\u0026#34;id\u0026#34;:3, \u0026#34;name\u0026#34;:\u0026#34;Ping\u0026#34;}), function(ret_data, st){ $.each(ret_data, function(index, value){ alert(\u0026#34;index: \u0026#34; + index + \u0026#34; , value: \u0026#34;+ value); }); alert(\u0026#34;Server return status : \u0026#34; + st); }, \u0026#39;json\u0026#39; ); }); $(\u0026#34;#btnAJAXGet\u0026#34;).click(function(){ $.ajax ({ url: \u0026#39;jsontest\u0026#39;, success: function(data){ $.each(data, function(index, value){ alert(\u0026#34;index: \u0026#34; + index + \u0026#34; , value: \u0026#34;+ value); }); }, /* if dataType not set, the Accept in request header is: \u0026#39;Accept\u0026#39;: \u0026#39;* / *\u0026#39; dataType = json : \u0026#39;Accept\u0026#39;: \u0026#39;application/json, text/javascript, * /*; q=0.01\u0026#39; */ dataType: \u0026#39;json\u0026#39; }); }); $(\u0026#34;#btnAJAXPOST\u0026#34;).click(function(){ var post_data = {\u0026#34;id\u0026#34;:3, \u0026#34;name\u0026#34;:\u0026#34;Ping\u0026#34;}; $.ajax ({ type: \u0026#39;POST\u0026#39;, url: \u0026#39;jsontest\u0026#39;, data:JSON.stringify(post_data), contentType: \u0026#34;application/json; charset=utf-8\u0026#34;, dataType: \u0026#39;json\u0026#39;, success: function(data){ $.each(data, function(index, value){ alert(\u0026#34;index: \u0026#34; + index + \u0026#34; , value: \u0026#34;+ value); }); } }); }); \u0026lt;/script\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; ","permalink":"https://oopsmonk.github.io/posts/2013-08-07-bottlejqueryjson/","summary":"\u003cp\u003e\u003ca href=\"http://bottlepy.org/docs/dev/\"\u003eBottle\u003c/a\u003e is a fast, simple and lightweight WSGI micro web-framework for Python.\u003cbr\u003e\n\u003ca href=\"http://jquerymobile.com/\"\u003ejQuery Mobile\u003c/a\u003e base on jQuery for mobile device.\u003cbr\u003e\n\u003ca href=\"http://stackoverflow.com/questions/6636388/jquery-vs-jquery-mobile-vs-jquery-ui\"\u003ejQuery vs. jQuery Mobile vs. jQuery UI\u003c/a\u003e\u003c/p\u003e\n\u003ch2 id=\"install-bottle\"\u003eInstall bottle:\u003c/h2\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003e$ sudo apt-get install python-setuptools\n$ easy_install bottle\n\u003c/code\u003e\u003c/pre\u003e\u003ch2 id=\"demo-server-deployment\"\u003eDemo server deployment\u003c/h2\u003e\n\u003ch3 id=\"file-structure\"\u003efile structure:\u003c/h3\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003eBottlejQuery\nâ”œâ”€â”€ bottleJQuery.py\nâ””â”€â”€ index.html\n\u003c/code\u003e\u003c/pre\u003e\u003ch3 id=\"run-command\"\u003erun command:\u003c/h3\u003e\n\u003cpre\u003e\u003ccode\u003e$ ./bottleJQuery.py\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id=\"connect-to-server\"\u003econnect to server:\u003c/h3\u003e\n\u003cpre\u003e\u003ccode\u003ehttp://localhost:8080/bottle  \n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"building-simple-web-server-use-bottle\"\u003eBuilding simple web server use bottle\u003c/h2\u003e\n\u003ch3 id=\"bottlejquerypy\"\u003ebottleJQuery.py\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-python\" data-lang=\"python\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#!/usr/bin/env python\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#f92672\"\u003efrom\u003c/span\u003e bottle \u003cspan style=\"color:#f92672\"\u003eimport\u003c/span\u003e route, static_file, debug, run, get, redirect\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#f92672\"\u003efrom\u003c/span\u003e bottle \u003cspan style=\"color:#f92672\"\u003eimport\u003c/span\u003e post, request\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#f92672\"\u003eimport\u003c/span\u003e os\u003cspan style=\"color:#f92672\"\u003e,\u003c/span\u003e inspect\u003cspan style=\"color:#f92672\"\u003e,\u003c/span\u003e json\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#enable bottle debug\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003edebug(\u003cspan style=\"color:#66d9ef\"\u003eTrue\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# WebApp route path\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eroutePath \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;/bottle\u0026#39;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# get directory of WebApp (bottleJQuery.py\u0026#39;s dir)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003erootPath \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e os\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003epath\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003edirname(os\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003epath\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eabspath(inspect\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003egetfile(inspect\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ecurrentframe())))\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#a6e22e\"\u003e@route\u003c/span\u003e(routePath)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003edef\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003erootHome\u003c/span\u003e():\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e redirect(routePath\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;/index.html\u0026#39;\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#a6e22e\"\u003e@route\u003c/span\u003e(routePath \u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;/\u0026lt;filename:re:.*\\.html\u0026gt;\u0026#39;\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003edef\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003ehtml_file\u003c/span\u003e(filename):\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e static_file(filename, root\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003erootPath)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#a6e22e\"\u003e@get\u003c/span\u003e(routePath \u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;/jsontest\u0026#39;\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003edef\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003etestJsonGET\u003c/span\u003e():\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    print \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;GET Header : \u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e\\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e \u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e%s\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e dict(request\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eheaders) \u003cspan style=\"color:#75715e\"\u003e#for debug header\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e {\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;id\u0026#34;\u003c/span\u003e:\u003cspan style=\"color:#ae81ff\"\u003e2\u003c/span\u003e,\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;name\u0026#34;\u003c/span\u003e:\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;Jone\u0026#34;\u003c/span\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#a6e22e\"\u003e@post\u003c/span\u003e(routePath \u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;/jsontest\u0026#39;\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003edef\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003etestJsonPost\u003c/span\u003e():\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    print \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;POST Header : \u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e\\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e \u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e%s\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e dict(request\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eheaders) \u003cspan style=\"color:#75715e\"\u003e#for debug header\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    data \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e request\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ejson\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    print \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;data : \u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e%s\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e data \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e data \u003cspan style=\"color:#f92672\"\u003e==\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003eNone\u003c/span\u003e:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e json\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003edumps({\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;Status\u0026#39;\u003c/span\u003e:\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;Failed!\u0026#34;\u003c/span\u003e})\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003eelse\u003c/span\u003e:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e json\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003edumps({\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;Status\u0026#39;\u003c/span\u003e:\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;Success!\u0026#34;\u003c/span\u003e})\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003erun(host\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;localhost\u0026#39;\u003c/span\u003e, port\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e8080\u003c/span\u003e, reloader\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003eTrue\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3 id=\"test-get-request\"\u003eTest GET request:\u003c/h3\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003e$ curl -i -X GET http://localhost:8080/bottle/jsontest\n\nHTTP/1.0 200 OK\nDate: Wed, 07 Aug 2013 16:03:53 GMT\nServer: WSGIServer/0.1 Python/2.7.3\nContent-Length: 25\nContent-Type: application/json\n\n{\u0026#34;id\u0026#34;: 2, \u0026#34;name\u0026#34;: \u0026#34;Jone\u0026#34;}\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e\u003cem\u003ebottle debug message:\u003c/em\u003e\u003c/p\u003e","title":"Web dev example : JSON \u0026 jQuery Mobile \u0026 Bottle"},{"content":"Here is a text/plain MIME type parts in official exmaple code.\nI remove it from my sample code, because it\u0026rsquo;s not show up in mail at Office Outlook 2010.\n#!/usr/bin/env python \u0026#34;\u0026#34;\u0026#34; File name: sendMail.py Python send HTML mail using SMTP with authorization Usage : ./sendMail.py to@gmail.com Subtitle [ FilePath | txt ] \u0026#34;\u0026#34;\u0026#34; import smtplib import sys,traceback from email.mime.multipart import MIMEMultipart from email.mime.text import MIMEText from time import gmtime, strftime #log file location log_path = \u0026#34;./mail-log\u0026#34;; #log timestamp format logger_tstamp = \u0026#34;%Y-%m-%d %H:%M:%S\u0026#34; #SMPT server smtp_server = \u0026#34;smtp.gmail.com\u0026#34; #gmail 465 or 578 smtp_port = 587 #mail from user = \u0026#34;from@gmail.com\u0026#34; pwd = \u0026#34;password\u0026#34; # log method class Logger: file = 1 err = 2 class ContentType: file = 1 txt = 2 #select log method debug_log = Logger.err #select content type content_type = ContentType.txt def debug(msg): if debug_log == Logger.file: with open(log_path, \u0026#39;a\u0026#39;) as log_file: log_file.write(strftime(logger_tstamp, gmtime()) + msg) log_file.close() elif debug_log == Logger.err: sys.stderr.write(strftime(logger_tstamp, gmtime()) + msg) else: print(strftime(logger_tstamp, gmtime()) + msg) #check argument number arg_count = len(sys.argv) if arg_count !=4: debug(\u0026#34;[Error]: invalid argument\\n\u0026#34;) sys.exit(1) try: mail_to = sys.argv[1] subject = sys.argv[2] if content_type == ContentType.file: content_path = sys.argv[3] with open(content_path, \u0026#39;r\u0026#39;) as f_content: content = f_content.read() f_content.close() else: content = sys.argv[3] serv = smtplib.SMTP(smtp_server, smtp_port) # serv.ehlo() serv.starttls() # serv.ehlo() serv.login(user, pwd); msg = MIMEMultipart(\u0026#39;alternative\u0026#39;) msg[\u0026#39;Subject\u0026#39;] = subject msg[\u0026#39;From\u0026#39;] = user msg[\u0026#39;To\u0026#39;] = mail_to part1 = MIMEText(content, \u0026#39;html\u0026#39;) msg.attach(part1) serv.sendmail(user, mail_to, msg.as_string()) serv.quit() debug(\u0026#34;[Debug] subject : \u0026#34; + subject + \u0026#34;\\n\u0026#34;) except: debug(\u0026#34;[Error]: send mail error\\n\u0026#34;) debug(\u0026#34;[Error]:\\n\u0026#34; + traceback.format_exc()) sys.exit(2); Reference:\nemail: Examples\nsmtplib\nHow to send email in Python via SMTPLIB\n","permalink":"https://oopsmonk.github.io/posts/2013-07-31-sendingmailsmtp/","summary":"\u003cp\u003eHere is a  \u003cem\u003e\u003cstrong\u003etext/plain\u003c/strong\u003e\u003c/em\u003e MIME type parts in official exmaple code.\u003cbr\u003e\nI remove it from my sample code, because it\u0026rsquo;s not show up in mail at Office Outlook 2010.\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-python\" data-lang=\"python\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#!/usr/bin/env python\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u0026#34;\u0026#34;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003eFile name: sendMail.py\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003ePython send HTML mail using SMTP with authorization\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003eUsage :\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003e./sendMail.py to@gmail.com Subtitle [ FilePath | txt ]\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u0026#34;\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#f92672\"\u003eimport\u003c/span\u003e smtplib\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#f92672\"\u003eimport\u003c/span\u003e sys\u003cspan style=\"color:#f92672\"\u003e,\u003c/span\u003etraceback\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#f92672\"\u003efrom\u003c/span\u003e email.mime.multipart \u003cspan style=\"color:#f92672\"\u003eimport\u003c/span\u003e MIMEMultipart\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#f92672\"\u003efrom\u003c/span\u003e email.mime.text \u003cspan style=\"color:#f92672\"\u003eimport\u003c/span\u003e MIMEText\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#f92672\"\u003efrom\u003c/span\u003e time \u003cspan style=\"color:#f92672\"\u003eimport\u003c/span\u003e gmtime, strftime\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#log file location\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003elog_path \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;./mail-log\u0026#34;\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#log timestamp format\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003elogger_tstamp \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;%Y-%m-\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e%d\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e %H:%M:%S\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#SMPT server\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003esmtp_server \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;smtp.gmail.com\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#gmail 465 or 578\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003esmtp_port \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e587\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#mail from \u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003euser \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;from@gmail.com\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003epwd \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;password\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# log method\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003eclass\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eLogger\u003c/span\u003e:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    file \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    err \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e2\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003eclass\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eContentType\u003c/span\u003e:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    file \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    txt \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e2\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#select log method \u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003edebug_log \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e Logger\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eerr\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#select content type\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003econtent_type \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e ContentType\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003etxt\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003edef\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003edebug\u003c/span\u003e(msg):\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e debug_log \u003cspan style=\"color:#f92672\"\u003e==\u003c/span\u003e Logger\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003efile:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003ewith\u003c/span\u003e open(log_path, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;a\u0026#39;\u003c/span\u003e) \u003cspan style=\"color:#66d9ef\"\u003eas\u003c/span\u003e log_file:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            log_file\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ewrite(strftime(logger_tstamp, gmtime()) \u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e msg)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        log_file\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eclose()\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003eelif\u003c/span\u003e debug_log \u003cspan style=\"color:#f92672\"\u003e==\u003c/span\u003e Logger\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eerr:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        sys\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003estderr\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ewrite(strftime(logger_tstamp, gmtime()) \u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e msg)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003eelse\u003c/span\u003e: \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        print(strftime(logger_tstamp, gmtime()) \u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e msg)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#check argument number\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003earg_count \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e len(sys\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eargv)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e arg_count \u003cspan style=\"color:#f92672\"\u003e!=\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e4\u003c/span\u003e:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    debug(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;[Error]: invalid argument\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e\\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    sys\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eexit(\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003etry\u003c/span\u003e:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    mail_to \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e sys\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eargv[\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    subject \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e sys\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eargv[\u003cspan style=\"color:#ae81ff\"\u003e2\u003c/span\u003e]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e content_type \u003cspan style=\"color:#f92672\"\u003e==\u003c/span\u003e ContentType\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003efile:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        content_path \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e sys\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eargv[\u003cspan style=\"color:#ae81ff\"\u003e3\u003c/span\u003e]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003ewith\u003c/span\u003e open(content_path, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;r\u0026#39;\u003c/span\u003e) \u003cspan style=\"color:#66d9ef\"\u003eas\u003c/span\u003e f_content:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            content \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e f_content\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eread()\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        f_content\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eclose()\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003eelse\u003c/span\u003e:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        content \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e sys\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eargv[\u003cspan style=\"color:#ae81ff\"\u003e3\u003c/span\u003e]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    serv \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e smtplib\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eSMTP(smtp_server, smtp_port)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#    serv.ehlo()\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    serv\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003estarttls()\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#    serv.ehlo()\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    serv\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003elogin(user, pwd);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    msg \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e MIMEMultipart(\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;alternative\u0026#39;\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    msg[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;Subject\u0026#39;\u003c/span\u003e] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e subject\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    msg[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;From\u0026#39;\u003c/span\u003e] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e user\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    msg[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;To\u0026#39;\u003c/span\u003e] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e mail_to\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    part1 \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e MIMEText(content, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;html\u0026#39;\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    msg\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eattach(part1)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    serv\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003esendmail(user, mail_to, msg\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eas_string())\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    serv\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003equit()\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    debug(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;[Debug] subject : \u0026#34;\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e subject \u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e\\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003eexcept\u003c/span\u003e:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    debug(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;[Error]: send mail error\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e\\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    debug(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;[Error]:\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e\\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e traceback\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eformat_exc())\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    sys\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eexit(\u003cspan style=\"color:#ae81ff\"\u003e2\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eReference:\u003cbr\u003e\n\u003ca href=\"http://docs.python.org/2/library/email-examples.html\"\u003eemail: Examples\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"http://docs.python.org/2/library/smtplib.html\"\u003esmtplib\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"http://www.mkyong.com/python/how-do-send-email-in-python-via-smtplib/\"\u003eHow to send email in Python via SMTPLIB\u003c/a\u003e\u003c/p\u003e","title":"Sending HTML Mail Using SMTP With Authorization"},{"content":"Redirect port 8080 to 80\nsudo iptables -t nat -A PREROUTING -p tcp --dport 80 -j REDIRECT --to-port 8080 Check iptables setting\nsudo iptables -t nat -L Save configure to iptables.rules\nsudo iptables-save \u0026gt; /etc/iptables.rules Save Solution #1 Configre /etc/network/interfaces\niface eth0 inet dhcp pre-up iptables-restore \u0026lt; /etc/iptables.rules Save Solution #2 Configure /etc/network/if-pre-up.d/iptablesload\n#!/bin/sh iptables-restore \u0026lt; /etc/iptables.rules exit 0 Configure /etc/network/if-post-down.d/iptablessave\n#!/bin/sh iptables-save -c \u0026gt; /etc/iptables.rules if [ -f /etc/iptables.downrules ]; then iptables-restore \u0026lt; /etc/iptables.downrules fi exit 0 Change permissions\nsudo chmod +x /etc/network/if-post-down.d/iptablessave sudo chmod +x /etc/network/if-pre-up.d/iptablesload Reference:\nTomcat: redirecting traffic from port 8080 to 80 using iptables\nIptablesHowTo\n","permalink":"https://oopsmonk.github.io/posts/2013-07-05-savingiptables/","summary":"\u003cp\u003eRedirect port 8080 to 80\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003esudo iptables -t nat -A PREROUTING -p tcp --dport 80 -j REDIRECT --to-port 8080  \n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eCheck iptables setting\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003esudo iptables -t nat -L  \n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eSave configure to \u003ccode\u003eiptables.rules\u003c/code\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003esudo iptables-save \u0026gt; /etc/iptables.rules  \n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"save-solution-1\"\u003eSave Solution #1\u003c/h2\u003e\n\u003cp\u003eConfigre \u003ccode\u003e/etc/network/interfaces\u003c/code\u003e\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eiface eth0 inet dhcp  \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    pre-up iptables-restore \u0026lt; /etc/iptables.rules  \n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch2 id=\"save-solution-2\"\u003eSave Solution #2\u003c/h2\u003e\n\u003cp\u003eConfigure \u003ccode\u003e/etc/network/if-pre-up.d/iptablesload\u003c/code\u003e\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#!/bin/sh\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003eiptables-restore \u0026lt; /etc/iptables.rules\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eexit \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eConfigure \u003ccode\u003e/etc/network/if-post-down.d/iptablessave\u003c/code\u003e\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#!/bin/sh\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003eiptables-save -c \u0026gt; /etc/iptables.rules\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e[\u003c/span\u003e -f /etc/iptables.downrules \u003cspan style=\"color:#f92672\"\u003e]\u003c/span\u003e; \u003cspan style=\"color:#66d9ef\"\u003ethen\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    iptables-restore \u0026lt; /etc/iptables.downrules\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003efi\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eexit \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eChange permissions\u003c/p\u003e","title":"Redirect and Save iptables on Ubuntu 12.04"},{"content":"install jayDeBeApi \u0026amp; jpype\n$ sudo apt-get install python-setuptools $ sudo easy_install JayDeBeApi $ sudo easy_install jpype Download Oracle JDBC Drivers ojdbc6.jar to local.\nimport jpype import jaydebeapi jHome = jpype.getDefaultJVMPath() print jHome jpype.startJVM(jHome, \u0026#39;-Djava.class.path=/path/to/ojdbc6.jar\u0026#39;) conn = jaydebeapi.connect(\u0026#39;oracle.jdbc.driver.OracleDriver\u0026#39;, \u0026#39;jdbc:oracle:thin:user/password@DB_HOST_IP:1521:DB_NAME\u0026#39;) curs = conn.cursor() curs.execute(\u0026#34;select * from ACCOUNT\u0026#34;) acc = curs.fetchall() curs.close() conn.close() jpype.shutdownJVM() print acc Reference:\nhttps://pypi.python.org/pypi/JayDeBeApi\nhttp://wiki.python.org/moin/Oracle\n","permalink":"https://oopsmonk.github.io/posts/2013-06-24-oracle10gpython/","summary":"\u003cp\u003einstall jayDeBeApi \u0026amp; jpype\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ sudo apt-get install python-setuptools  \n$ sudo easy_install JayDeBeApi  \n$ sudo easy_install jpype  \n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eDownload Oracle JDBC Drivers ojdbc6.jar to local.\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-python\" data-lang=\"python\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#f92672\"\u003eimport\u003c/span\u003e jpype\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#f92672\"\u003eimport\u003c/span\u003e jaydebeapi\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ejHome \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e jpype\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003egetDefaultJVMPath()\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eprint jHome\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ejpype\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003estartJVM(jHome, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;-Djava.class.path=/path/to/ojdbc6.jar\u0026#39;\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003econn \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e jaydebeapi\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003econnect(\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;oracle.jdbc.driver.OracleDriver\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;jdbc:oracle:thin:user/password@DB_HOST_IP:1521:DB_NAME\u0026#39;\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecurs \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e conn\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ecursor()\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecurs\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eexecute(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;select * from ACCOUNT\u0026#34;\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eacc \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e curs\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003efetchall()\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecurs\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eclose()\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003econn\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eclose()\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ejpype\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eshutdownJVM()\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eprint acc\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eReference:\u003cbr\u003e\n\u003ca href=\"https://pypi.python.org/pypi/JayDeBeApi\"\u003ehttps://pypi.python.org/pypi/JayDeBeApi\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"http://wiki.python.org/moin/Oracle\"\u003ehttp://wiki.python.org/moin/Oracle\u003c/a\u003e\u003c/p\u003e","title":"Connect Oracle 10g Database use JDBC"},{"content":"Here is an error occurred if installed directly:\ninstall.sfx.XXX: not found\nSolution:\ninstall g++-mltilib and JDK $ sudo apt-get install g++-multilib $ chmod +x j2sdk-1_4_2_19-linux-i586.bin $ ./j2sdk-1_4_2_19-linux-i586.bin ..... Do you agree to the above license terms? [yes or no] yes Unpacking... Checksumming... 0 0 Extracting... UnZipSFX 5.40 of 28 November 1998, by Info-ZIP (Zip-Bugs@lists.wku.edu). creating: j2sdk1.4.2_19/ creating: j2sdk1.4.2_19/jre/ creating: j2sdk1.4.2_19/jre/bin/ inflating: j2sdk1.4.2_19/jre/bin/java inflating: j2sdk1.4.2_19/jre/bin/keytool inflating: j2sdk1.4.2_19/jre/bin/policytool .... Creating j2sdk1.4.2_19/lib/tools.jar Creating j2sdk1.4.2_19/jre/lib/rt.jar Creating j2sdk1.4.2_19/jre/lib/jsse.jar Creating j2sdk1.4.2_19/jre/lib/charsets.jar Creating j2sdk1.4.2_19/jre/lib/ext/localedata.jar Creating j2sdk1.4.2_19/jre/lib/plugin.jar Creating j2sdk1.4.2_19/jre/javaws/javaws.jar Done. $ sudo mkdir -p /usr/lib/jvm $ sudo mv j2sdk1.4.2_19 /usr/lib/jvm/java-1.4.2_19 Java environment configuration. $ wget http://webupd8.googlecode.com/files/update-java-0.5b $ chmod +x update-java-0.5b $ sudo ./update-java-0.5b Select java-1.4.2_19 Check java version $ java -version java version \u0026#34;1.4.2_19\u0026#34; Java(TM) 2 Runtime Environment, Standard Edition (build 1.4.2_19-b04) Java HotSpot(TM) Client VM (build 1.4.2_19-b04, mixed mode) ","permalink":"https://oopsmonk.github.io/posts/2013-06-20-jdk1.4.2/","summary":"\u003cp\u003eHere is an error occurred if installed directly:\u003cbr\u003e\n\u003cstrong\u003einstall.sfx.XXX: not found\u003c/strong\u003e\u003cbr\u003e\nSolution:\u003c/p\u003e\n\u003ch2 id=\"install-g-mltilib-and-jdk\"\u003einstall g++-mltilib and JDK\u003c/h2\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003e$ sudo apt-get install g++-multilib  \n$ chmod +x j2sdk-1_4_2_19-linux-i586.bin  \n$ ./j2sdk-1_4_2_19-linux-i586.bin\n.....\nDo you agree to the above license terms? [yes or no]\nyes\nUnpacking...\nChecksumming...\n0\n0\nExtracting...\nUnZipSFX 5.40 of 28 November 1998, by Info-ZIP (Zip-Bugs@lists.wku.edu).\n   creating: j2sdk1.4.2_19/\n   creating: j2sdk1.4.2_19/jre/\n   creating: j2sdk1.4.2_19/jre/bin/\n  inflating: j2sdk1.4.2_19/jre/bin/java\n  inflating: j2sdk1.4.2_19/jre/bin/keytool\n  inflating: j2sdk1.4.2_19/jre/bin/policytool\n....\nCreating j2sdk1.4.2_19/lib/tools.jar\nCreating j2sdk1.4.2_19/jre/lib/rt.jar\nCreating j2sdk1.4.2_19/jre/lib/jsse.jar\nCreating j2sdk1.4.2_19/jre/lib/charsets.jar\nCreating j2sdk1.4.2_19/jre/lib/ext/localedata.jar\nCreating j2sdk1.4.2_19/jre/lib/plugin.jar\nCreating j2sdk1.4.2_19/jre/javaws/javaws.jar\nDone.  \n$ sudo mkdir -p /usr/lib/jvm  \n$ sudo mv j2sdk1.4.2_19 /usr/lib/jvm/java-1.4.2_19\n\u003c/code\u003e\u003c/pre\u003e\u003ch2 id=\"java-environment-configuration\"\u003eJava environment configuration.\u003c/h2\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003e$ wget http://webupd8.googlecode.com/files/update-java-0.5b  \n$ chmod +x update-java-0.5b\n$ sudo ./update-java-0.5b  \n\u003c/code\u003e\u003c/pre\u003e\u003ch3 id=\"select-java-142_19\"\u003eSelect java-1.4.2_19\u003c/h3\u003e\n\n\u003cimg src=\"https://lh4.googleusercontent.com/-yu8Tt-wDPSk/UcF0cdDphYI/AAAAAAAAAKo/EEGteLUHDfI/s800/java-update-v0.5.png\" \u003e\n\n\u003ch3 id=\"check-java-version\"\u003eCheck java version\u003c/h3\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003e$ java -version\njava version \u0026#34;1.4.2_19\u0026#34;\nJava(TM) 2 Runtime Environment, Standard Edition (build 1.4.2_19-b04)\nJava HotSpot(TM) Client VM (build 1.4.2_19-b04, mixed mode)  \n\u003c/code\u003e\u003c/pre\u003e","title":"Install JDK1.4.2(32bit) on Ubuntu 12.04 LTS(64bit) "},{"content":"æœ‰æ™‚åœ¨æ•´ç†ç…§ç‰‡æˆ–æ–‡ä»¶æ™‚, éœ€è¦æ¯”å°2å€‹è³‡æ–™åŒ£, æŠŠé‡è¦†çš„æª”æ¡ˆæ‹¿æ‰.\nDwonload Source Here\nfunction usage(){ echo \u0026#34;Find the same file in two folders and remove it.\u0026#34; echo \u0026#34;usage : ./comp-rm.sh target-dir source-dir\u0026#34; echo \u0026#34;remove the same files in target-dir.\u0026#34; } if [ $# -ne 2 ]; then usage exit 1 fi target_dir=$1 source_dir=$2 f_list1=$(find \u0026#34;$target_dir\u0026#34; -type f) f_list2=$(find \u0026#34;$source_dir\u0026#34; -type f) for i in $f_list1; do echo $f_list2 | grep $(basename $i) \u0026gt;/dev/null \u0026amp;\u0026amp; hit_str+=$i\u0026#34;;\u0026#34; done if [ -z $hit_str ]; then echo \u0026#34;list is empty..\u0026#34; exit 0 fi export IFS=\u0026#34;;\u0026#34; count=0 for hit_file in $hit_str; do echo \u0026#34;$hit_file\u0026#34; let count++ done echo \u0026#34;Do you want to remove these files ($count)?\u0026#34; read -p \u0026#34;Press \u0026#39;Ctrl+C\u0026#39; stop, \u0026#39;Enter\u0026#39; key to continue...\u0026#34; for hit_file in $hit_str; do echo \u0026#34;removing... $hit_file\u0026#34; rm -f $hit_file done exit 0 ","permalink":"https://oopsmonk.github.io/posts/2013-06-19-comparermfileintwofolder/","summary":"\u003cp\u003eæœ‰æ™‚åœ¨æ•´ç†ç…§ç‰‡æˆ–æ–‡ä»¶æ™‚, éœ€è¦æ¯”å°2å€‹è³‡æ–™åŒ£, æŠŠé‡è¦†çš„æª”æ¡ˆæ‹¿æ‰.\u003cbr\u003e\n\u003ca href=\"/resource/2013-06-19/comp-rm.sh\"\u003e\u003cstrong\u003eDwonload Source Here\u003c/strong\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003efunction\u003c/span\u003e usage\u003cspan style=\"color:#f92672\"\u003e(){\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    echo \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;Find the same file in two folders and remove it.\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    echo \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;usage : ./comp-rm.sh target-dir source-dir\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    echo \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;remove the same files in target-dir.\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#f92672\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e[\u003c/span\u003e $# -ne \u003cspan style=\"color:#ae81ff\"\u003e2\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e]\u003c/span\u003e; \u003cspan style=\"color:#66d9ef\"\u003ethen\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    usage\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    exit \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003efi\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003etarget_dir\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e$1\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003esource_dir\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e$2\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ef_list1\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003e$(\u003c/span\u003efind \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e$target_dir\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e -type f\u003cspan style=\"color:#66d9ef\"\u003e)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ef_list2\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003e$(\u003c/span\u003efind \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e$source_dir\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e -type f\u003cspan style=\"color:#66d9ef\"\u003e)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e i in $f_list1; \u003cspan style=\"color:#66d9ef\"\u003edo\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    echo $f_list2 | grep \u003cspan style=\"color:#66d9ef\"\u003e$(\u003c/span\u003ebasename $i\u003cspan style=\"color:#66d9ef\"\u003e)\u003c/span\u003e \u0026gt;/dev/null \u003cspan style=\"color:#f92672\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e hit_str\u003cspan style=\"color:#f92672\"\u003e+=\u003c/span\u003e$i\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;;\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003edone\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e[\u003c/span\u003e -z $hit_str \u003cspan style=\"color:#f92672\"\u003e]\u003c/span\u003e; \u003cspan style=\"color:#66d9ef\"\u003ethen\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    echo \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;list is empty..\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    exit \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003efi\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eexport IFS\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;;\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecount\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e hit_file in $hit_str; \u003cspan style=\"color:#66d9ef\"\u003edo\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    echo \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e$hit_file\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    let count++\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003edone\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eecho \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;Do you want to remove these files (\u003c/span\u003e$count\u003cspan style=\"color:#e6db74\"\u003e)?\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eread -p \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;Press \u0026#39;Ctrl+C\u0026#39; stop, \u0026#39;Enter\u0026#39; key to continue...\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e hit_file in $hit_str; \u003cspan style=\"color:#66d9ef\"\u003edo\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    echo \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;removing... \u003c/span\u003e$hit_file\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    rm -f $hit_file\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003edone\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eexit \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e","title":"Remove the same files in two folders"},{"content":"Install Raspbian \u0026ldquo;wheezy\u0026rdquo; image Download image from Raspberry Pi offical website\nMount HOME to HDD Copy HOME data to disk $ sudo mkdir /media/new_home $ sudo mount /dev/sda1 /media/new_home $ sudo rsync -aXS /home/. /media/new_home/. $ sudo umount /media/new_home fstab #get disk UUID $ sudo blkid /dev/mmcblk0p1: SEC_TYPE=\u0026#34;msdos\u0026#34; LABEL=\u0026#34;boot\u0026#34; UUID=\u0026#34;936C-7122\u0026#34; TYPE=\u0026#34;vfat\u0026#34; /dev/mmcblk0p2: UUID=\u0026#34;c1198422-7a7c-4863-8a8f-45a1db26b4f2\u0026#34; TYPE=\u0026#34;ext4\u0026#34; /dev/sda1: UUID=\u0026#34;2cd990b5-6c27-4933-95d0-fd00b000fe77\u0026#34; TYPE=\u0026#34;ext4\u0026#34; #modify fstab $ echo \u0026#34;UUID=2cd880b5-6c27-4933-95d0-fd00b000fe77 /home ext4 defaults 0 2\u0026#34; | sudo tee --append /etc/fstab #mount HOMW without reboot. $ sudo mount -a Create a sudo user #create user with HOME directory $ sudo useradd -m oopsmonk #add user to sudo group $ sudo adduser oopsmonk sudo #set password $ sudo passwd oopsmonk Install necessary packages $ sudo aptitude full-upgrade -y $ sudo aptitude install tmux vim git python-setuptools -y $ sudo easy_install pip SAMBA server $ sudo aptitude install samba $ sudo cp /etc/samba/smb.conf /etc/samba/smb.conf.bak $ sudo vi /etc/samba/smb.conf enable sucurity user # security = user [rpi] comment = raspberry-pi path = /home/oopsmonk/ browseable = yes writable = yes read only = no #add smaba user and restart samba server $ sudo pdbedit -a -u oopsmonk $ sudo service samba restart Configre default editor $ echo \u0026#34;export EDITOR=vim\u0026#34; \u0026gt;\u0026gt; ~/.bashrc $ echo \u0026#34;export GIT_EDITOR=vim\u0026#34; \u0026gt;\u0026gt; ~/.bashrc $ echo \u0026#34;export TERM=screen-256color\u0026#34; \u0026gt;\u0026gt; ~/.bashrc $ echo \u0026#34;alias tmux=\u0026#39;tmux -2\u0026#39;\u0026#34; \u0026gt;\u0026gt; ~/.bashrc $ source ~/.bashrc Boot from USB Disk Use dd or Win32DiskImager dump image to both SD card and USB Disk.\nUse gparted to expand root partition to full USB disk.\nChange cmdline.txt on sdcard from root=/dev/mmcblk0p2 to root=/dev/sda2\ndwc_otg.lpm_enable=0 console=ttyAMA0,115200 kgdboc=ttyAMA0,115200 console=tty1 root=/dev/sda2 rootfstype=ext4 elevator=deadline rootwait Plug both sdcard and USB disk into Raspberry Pi, bootup system.\nexFat support Defualt cannot mount exFAT filesystem, why exFAT?\nNTFS performance is so bad. Single file limited to 4GB in FAT32. Install exFat:\nsudo apt-get install exfat-fuse FTP server setup Install vsftpd $ sudo apt-get install vsftpd $ sudo cp /etc/vsftpd.conf /etc/vsftpd.conf.bak Modify vsftpd.conf $ sudo vi /etc/vsftpd.conf anonymous_enable=NO local_enable=YES write_enable=YES force_dot_files=YES #Add at bottom Invoke configuration\nsudo service vsftpd restart References:\nhttp://www.wikihow.com/Make-a-Raspberry-Pi-Web-Server\nhttp://www.vuplus-community.net/board/threads/howto-make-an-ftp-server-with-your-raspberry.7245/\nhttp://www.instructables.com/id/Raspberry-Pi-Web-Server/step9/Install-an-FTP-server/\nBT download server setup Install transmission-daemon\nsudo apt-get install transmission-daemon Modify config file\n$ cd /etc/transmission-daemon $ sudo cp settings.json settings.json.bak $ sudo vi settings.json #Change download folder \u0026#34;download-dir\u0026#34;: \u0026#34;/home/oopsmonk/BT-Download\u0026#34; #Accept connection from all ip address \u0026#34;rpc-whitelist\u0026#34;: \u0026#34;*.*.*.*\u0026#34; #Web GUI login account setting \u0026#34;rpc-username\u0026#34;: \u0026#34;oopsmonk\u0026#34; \u0026#34;rpc-password\u0026#34;: \u0026#34;web-login-pwd\u0026#34; \u0026#34;umask\u0026#34;: 2 umask change from 18 to umask: 2.\nThis will enable all users in the transmission group to also write to the file.\nCreate download folder and change permission for debian-transmission user.\n$ mkdir /home/oopsmonk/BT-Download\n$ chmod 777 /home/oopsmonk/BT-Download\nReload config\nsudo service transmission-daemon reload Login to Web GUI\nhttp://localhost:9091/transmission\nNginx proxy setup for BT server Why should use proxy??\nSome firewall allow connect to internet using 80 port only.\nIn this case, we can use proxy redirect 9091 to 80 port.\n$ sudo install nginx $ sudo service nginx stop $ sudo vi /etc/nginx/sites-available/default server{ #listen 80; ## listen for ipv4; this line is default and implied #listen [::]:80 default_server ipv6only=on; ## listen for ipv6 ... location /bt { proxy_pass http://127.0.0.1:9091/transmission; } ... } $ sudo service nginx start Test connection:\nhttp://localhost/bt/web/\nDo not forget the / in end of URL.\nReferences:\nSetting Up Transmissionâ€™s Web Interface\nLinuxé˜²å¥å¿˜æ—¥èªŒNo.69-Ubuntu 12.04 å®‰è£åŠè¨­å®štransmission-daemon\nUSB Wifi setup Check USB wifi driver $ sudo lsusb Bus 001 Device 002: ID 0424:9512 Standard Microsystems Corp. Bus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub Bus 001 Device 003: ID 0424:ec00 Standard Microsystems Corp. Bus 001 Device 004: ID 0b05:1786 ASUSTek Computer, Inc. USB-N10 802.11n Network Adapter [Realtek RTL8188SU] Bus 001 Device 005: ID 1a40:0101 Terminus Technology Inc. 4-Port HUB Bus 001 Device 006: ID 0bc2:5061 Seagate RSS LLC Here my wifi dongle is ASUS USB-N10.\nSupported wifi dongle list can find at http://elinux.org/RPi_VerifiedPeripherals#USB_Wi-Fi_Adapters\nWifi scan test $ sudo iwlist wlan0 scan | grep ESSID ESSID:\u0026#34;CH_Lee\u0026#34; ESSID:\u0026#34;iHome01\u0026#34; ESSID:\u0026#34;WALL-E\u0026#34; ESSID:\u0026#34;AndyStella\u0026#34; ESSID:\u0026#34;My home wifi\u0026#34; ESSID:\u0026#34;HC-SY\u0026#34; ESSID:\u0026#34;default\u0026#34; Configure /etc/network/interfaces auto wlan0 iface lo inet loopback iface eth0 inet dhcp allow-hotplug wlan0 iface wlan0 inet dhcp wpa-conf /etc/wpa_supplicant/wpa_supplicant.conf wpa-ssid \u0026#34;XXXXXX\u0026#34; wpa-psk \u0026#34;YYYYYY\u0026#34; iface default inet dhcp PPPoE setup Install pppoeconf $ sudo apt-get install pppoeconf $ sudo pppoeconf Input account and password to config PPPoE.\nSatrt DSL connection\n$ sudo pon dsl-provider Terminate connection\n$ sudo poff Connection status\n$ sudo plog or $ ifconfig ppp0 Run MOC issue Update: 2013/08/14\nWhen run moc get an error as bellow:\n$ mocp Running the server... Trying JACK... Trying ALSA... ALSA lib confmisc.c:768:(parse_card) cannot find card \u0026#39;0\u0026#39; ALSA lib conf.c:4241:(_snd_config_evaluate) function snd_func_card_driver returned error: No such file or directory ALSA lib confmisc.c:392:(snd_func_concat) error evaluating strings ALSA lib conf.c:4241:(_snd_config_evaluate) function snd_func_concat returned error: No such file or directory ALSA lib confmisc.c:1251:(snd_func_refer) error evaluating name ALSA lib conf.c:4241:(_snd_config_evaluate) function snd_func_refer returned error: No such file or directory ALSA lib conf.c:4720:(snd_config_expand) Evaluate error: No such file or directory ALSA lib pcm.c:2217:(snd_pcm_open_noupdate) Unknown PCM default Trying OSS... FATAL_ERROR: No valid sound driver! FATAL_ERROR: Server exited! Check if audio driver(snd_bcm2835) is not loaded\n$ lsmod Module Size Used by xt_TCPMSS 3119 1 xt_tcpmss 1301 1 xt_tcpudp 2087 1 iptable_mangle 1467 1 ip_tables 11482 1 iptable_mangle x_tables 16865 5 ip_tables,xt_tcpmss,xt_tcpudp,xt_TCPMSS,iptable_mangle pppoe 11317 2 pppox 2445 1 pppoe ppp_generic 25397 6 pppoe,pppox slhc 5679 1 ppp_generic snd_bcm2835 16304 0 snd_pcm 77560 1 snd_bcm2835 snd_page_alloc 5145 1 snd_pcm snd_seq 53329 0 snd_seq_device 6438 1 snd_seq snd_timer 19998 2 snd_pcm,snd_seq snd 58447 5 snd_bcm2835,snd_timer,snd_pcm,snd_seq,snd_seq_device leds_gpio 2235 0 led_class 3562 1 leds_gpio Check device permission.\n$ sudo ls -al /dev/snd/* crw-rw---T 1 root audio 116, 0 Aug 14 10:49 /dev/snd/controlC0 crw-rw---T 1 root audio 116, 16 Aug 14 10:49 /dev/snd/pcmC0D0p crw-rw---T 1 root audio 116, 1 Aug 14 10:49 /dev/snd/seq crw-rw---T 1 root audio 116, 33 Aug 14 10:49 /dev/snd/timer Ha! it\u0026rsquo;s a permission issue.\nChange permission:\n$ sudo chmod 666 /dev/snd/* Solved!\n","permalink":"https://oopsmonk.github.io/posts/2013-06-15-rpisetup/","summary":"\u003ch2 id=\"install-raspbian-wheezy-image\"\u003eInstall Raspbian \u0026ldquo;wheezy\u0026rdquo; image\u003c/h2\u003e\n\u003cp\u003e\u003ca href=\"http://www.raspberrypi.org/downloads\"\u003eDownload image from Raspberry Pi offical website\u003c/a\u003e\u003c/p\u003e\n\u003ch2 id=\"mount-home-to-hdd\"\u003eMount HOME to HDD\u003c/h2\u003e\n\u003ch3 id=\"copy-home-data-to-disk\"\u003eCopy HOME data to disk\u003c/h3\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003e$ sudo mkdir /media/new_home\n$ sudo mount /dev/sda1 /media/new_home\n$ sudo rsync -aXS /home/. /media/new_home/.\n$ sudo umount /media/new_home \n\u003c/code\u003e\u003c/pre\u003e\u003ch3 id=\"fstab\"\u003efstab\u003c/h3\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003e#get disk UUID\n$ sudo blkid\n/dev/mmcblk0p1: SEC_TYPE=\u0026#34;msdos\u0026#34; LABEL=\u0026#34;boot\u0026#34; UUID=\u0026#34;936C-7122\u0026#34; TYPE=\u0026#34;vfat\u0026#34;\n/dev/mmcblk0p2: UUID=\u0026#34;c1198422-7a7c-4863-8a8f-45a1db26b4f2\u0026#34; TYPE=\u0026#34;ext4\u0026#34;\n/dev/sda1: UUID=\u0026#34;2cd990b5-6c27-4933-95d0-fd00b000fe77\u0026#34; TYPE=\u0026#34;ext4\u0026#34;\n\n#modify fstab\n$ echo \u0026#34;UUID=2cd880b5-6c27-4933-95d0-fd00b000fe77    /home    ext4    defaults    0    2\u0026#34; | sudo tee --append /etc/fstab\n\n#mount HOMW without reboot.\n$ sudo mount -a\n\u003c/code\u003e\u003c/pre\u003e\u003ch2 id=\"create-a-sudo-user\"\u003eCreate a sudo user\u003c/h2\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003e#create user with HOME directory \n$ sudo useradd -m oopsmonk\n#add user to sudo group \n$ sudo adduser oopsmonk sudo \n#set password \n$ sudo passwd oopsmonk \n\u003c/code\u003e\u003c/pre\u003e\u003ch2 id=\"install-necessary-packages\"\u003eInstall necessary packages\u003c/h2\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003e$ sudo aptitude full-upgrade -y\n$ sudo aptitude install tmux vim git python-setuptools -y\n$ sudo easy_install pip\n\u003c/code\u003e\u003c/pre\u003e\u003ch2 id=\"samba-server\"\u003eSAMBA server\u003c/h2\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003e$ sudo aptitude install samba\n$ sudo cp /etc/samba/smb.conf /etc/samba/smb.conf.bak\n$ sudo vi /etc/samba/smb.conf\nenable sucurity user\n#   security = user\n[rpi]\ncomment = raspberry-pi\npath = /home/oopsmonk/\nbrowseable = yes\nwritable = yes\nread only = no\n\n#add smaba user and restart samba server\n$ sudo pdbedit -a -u oopsmonk\n$ sudo service samba restart\n\u003c/code\u003e\u003c/pre\u003e\u003ch2 id=\"configre-default-editor\"\u003eConfigre default editor\u003c/h2\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003e$ echo \u0026#34;export EDITOR=vim\u0026#34; \u0026gt;\u0026gt; ~/.bashrc\n$ echo \u0026#34;export GIT_EDITOR=vim\u0026#34; \u0026gt;\u0026gt; ~/.bashrc\n$ echo \u0026#34;export TERM=screen-256color\u0026#34; \u0026gt;\u0026gt; ~/.bashrc\n$ echo \u0026#34;alias tmux=\u0026#39;tmux -2\u0026#39;\u0026#34; \u0026gt;\u0026gt; ~/.bashrc\n$ source ~/.bashrc\n\u003c/code\u003e\u003c/pre\u003e\u003ch2 id=\"boot-from-usb-disk\"\u003eBoot from USB Disk\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003e\n\u003cp\u003eUse \u003ca href=\"http://en.wikipedia.org/wiki/Dd_(Unix)\"\u003edd\u003c/a\u003e or \u003ca href=\"http://sourceforge.net/projects/win32diskimager/\"\u003eWin32DiskImager\u003c/a\u003e dump image to both SD card and USB Disk.\u003c/p\u003e","title":"Raspberry Pi Setup"},{"content":"Create git.SHA1 property in build.xml file.\n\u0026lt;available file=\u0026#34;.git\u0026#34; type=\u0026#34;dir\u0026#34; property=\u0026#34;git.present\u0026#34;/\u0026gt; \u0026lt;target name=\u0026#34;git.info\u0026#34; description=\u0026#34;Store git info\u0026#34; if=\u0026#34;git.present\u0026#34;\u0026gt; \u0026lt;exec executable=\u0026#34;git\u0026#34; outputproperty=\u0026#34;git.SHA1\u0026#34; failifexecutionfails=\u0026#34;false\u0026#34; errorproperty=\u0026#34;\u0026#34;\u0026gt; \u0026lt;arg value=\u0026#34;log\u0026#34;/\u0026gt; \u0026lt;arg value=\u0026#34;--pretty=oneline\u0026#34;/\u0026gt; \u0026lt;arg value=\u0026#34;-n1\u0026#34;/\u0026gt; \u0026lt;/exec\u0026gt; \u0026lt;condition property=\u0026#34;git.version\u0026#34; value=\u0026#34;${git.SHA1}\u0026#34; else=\u0026#34;unknown\u0026#34;\u0026gt; \u0026lt;and\u0026gt; \u0026lt;isset property=\u0026#34;git.SHA1\u0026#34;/\u0026gt; \u0026lt;length string=\u0026#34;${git.SHA1}\u0026#34; trim=\u0026#34;yes\u0026#34; length=\u0026#34;0\u0026#34; when=\u0026#34;greater\u0026#34;/\u0026gt; \u0026lt;/and\u0026gt; \u0026lt;/condition\u0026gt; \u0026lt;echo message=\u0026#34;print git log : \u0026#34; /\u0026gt; \u0026lt;echo message=\u0026#34;${git.SHA1}\u0026#34; /\u0026gt; \u0026lt;/target\u0026gt; Reference:\nHow to lookup the latest git commit hash from an ant build script\n","permalink":"https://oopsmonk.github.io/posts/2013-06-13-getgitinfoinant/","summary":"\u003cp\u003eCreate \u003ccode\u003egit.SHA1\u003c/code\u003e property in build.xml file.\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-xml\" data-lang=\"xml\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#f92672\"\u003e\u0026lt;available\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003efile=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;.git\u0026#34;\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003etype=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;dir\u0026#34;\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eproperty=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;git.present\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e/\u0026gt;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#f92672\"\u003e\u0026lt;target\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003ename=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;git.info\u0026#34;\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003edescription=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;Store git info\u0026#34;\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eif=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;git.present\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#f92672\"\u003e\u0026lt;exec\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eexecutable=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;git\u0026#34;\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eoutputproperty=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;git.SHA1\u0026#34;\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003efailifexecutionfails=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;false\u0026#34;\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eerrorproperty=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#f92672\"\u003e\u0026lt;arg\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003evalue=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;log\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e/\u0026gt;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#f92672\"\u003e\u0026lt;arg\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003evalue=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;--pretty=oneline\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e/\u0026gt;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#f92672\"\u003e\u0026lt;arg\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003evalue=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;-n1\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e/\u0026gt;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#f92672\"\u003e\u0026lt;/exec\u0026gt;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#f92672\"\u003e\u0026lt;condition\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eproperty=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;git.version\u0026#34;\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003evalue=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;${git.SHA1}\u0026#34;\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eelse=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;unknown\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#f92672\"\u003e\u0026lt;and\u0026gt;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#f92672\"\u003e\u0026lt;isset\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eproperty=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;git.SHA1\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e/\u0026gt;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#f92672\"\u003e\u0026lt;length\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003estring=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;${git.SHA1}\u0026#34;\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003etrim=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;yes\u0026#34;\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003elength=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;0\u0026#34;\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003ewhen=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;greater\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e/\u0026gt;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#f92672\"\u003e\u0026lt;/and\u0026gt;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#f92672\"\u003e\u0026lt;/condition\u0026gt;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#f92672\"\u003e\u0026lt;echo\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003emessage=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;print git log : \u0026#34;\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e/\u0026gt;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#f92672\"\u003e\u0026lt;echo\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003emessage=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;${git.SHA1}\u0026#34;\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e/\u0026gt;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#f92672\"\u003e\u0026lt;/target\u0026gt;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eReference:\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"http://stackoverflow.com/questions/2974106/how-to-lookup-the-latest-git-commit-hash-from-an-ant-build-script\"\u003eHow to lookup the latest git commit hash from an ant build script\u003c/a\u003e\u003c/p\u003e","title":"Add Git SHA1 property in Apache ANT build.xml"},{"content":"nginx version: nginx/1.1.19, OS: Ubuntu12.04\nDefault nginx accepted body size limitation is 1MB.\nYou can add client_max_body_size in nginx.conf.\nThis parameter can put in http, server and location sections of configutation file.\nEnlarge body size to 10MB\nclient_max_body_size 10M Or just disable it\nclient_max_body_size 0 For example enlarge body size to 10MB\nAdd to http section:\n$ sudo vi /etc/nginx/nginx.conf http { ## # Basic Settings ## sendfile on; tcp_nopush on; tcp_nodelay on; keepalive_timeout 65; types_hash_max_size 2048; client_max_body_size 10M; # server_tokens off; # server_names_hash_bucket_size 64; # server_name_in_redirect off; include /etc/nginx/mime.types; default_type application/octet-stream; ... } Or modify server and location section\n$ sudo vi /etc/nginx/sites-available/default server { #listen 80; ## listen for ipv4; this line is default and implied #listen [::]:80 default ipv6only=on; ## listen for ipv6 client_max_body_size 10M; root /usr/share/nginx/www; index index.html index.htm; # Make site accessible from http://localhost/ server_name localhost; location / { # First attempt to serve request as file, then # as directory, then fall back to index.html try_files $uri $uri/ /index.html; # Uncomment to enable naxsi on this location # include /etc/nginx/naxsi.rules client_max_body_size 0; } location /doc/ { alias /usr/share/doc/; autoindex on; allow 127.0.0.1; deny all; } .... } Reload configuration:\n$ sudo service nginx reload Done!\n","permalink":"https://oopsmonk.github.io/posts/2013-06-05-nginxerror413/","summary":"\u003cp\u003e\u003cstrong\u003enginx version: nginx/1.1.19, OS: Ubuntu12.04\u003c/strong\u003e\u003cbr\u003e\nDefault nginx accepted body size limitation is 1MB.\u003cbr\u003e\nYou can add \u003ca href=\"http://wiki.nginx.org/HttpCoreModule#client_max_body_size\"\u003eclient_max_body_size\u003c/a\u003e in \u003ccode\u003enginx.conf\u003c/code\u003e.\u003cbr\u003e\nThis parameter can put in \u003ccode\u003ehttp\u003c/code\u003e, \u003ccode\u003eserver\u003c/code\u003e and \u003ccode\u003elocation\u003c/code\u003e sections of configutation file.\u003cbr\u003e\nEnlarge body size to 10MB\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eclient_max_body_size 10M  \n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eOr just disable it\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eclient_max_body_size 0  \n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eFor example enlarge body size to 10MB\u003cbr\u003e\nAdd to \u003ccode\u003ehttp\u003c/code\u003e section:\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e$ sudo vi /etc/nginx/nginx.conf  \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ehttp \u003cspan style=\"color:#f92672\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#75715e\"\u003e##\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#75715e\"\u003e# Basic Settings\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#75715e\"\u003e##\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        sendfile on;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        tcp_nopush on;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        tcp_nodelay on;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        keepalive_timeout 65;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        types_hash_max_size 2048;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        client_max_body_size 10M;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#75715e\"\u003e# server_tokens off;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#75715e\"\u003e# server_names_hash_bucket_size 64;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#75715e\"\u003e# server_name_in_redirect off;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        include /etc/nginx/mime.types;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        default_type application/octet-stream;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e...\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#f92672\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eOr modify \u003ccode\u003eserver\u003c/code\u003e and \u003ccode\u003elocation\u003c/code\u003e section\u003c/p\u003e","title":"Nginx Error - 413 Request Entity Too Large"},{"content":"Currently, AWS web console not provide folder downloading. We can use s3cmd or s3Browser for this purpose.\ns3Browser is a freeware Windows client for S3 and CloudFront.\ns3cmd download Bucket folder:\ns3cmd sync s3://bucketname/folder /local/folder For download files using s3Browser, here is a tutorial.\nUploading and Downloading Files to and from Amazon S3\n","permalink":"https://oopsmonk.github.io/posts/2013-05-28-aws-s3-folderdownload/","summary":"\u003cp\u003eCurrently, AWS web console not provide folder downloading. We can use \u003ca href=\"http://s3tools.org/s3cmd\"\u003es3cmd\u003c/a\u003e or \u003ca href=\"http://s3browser.com/\"\u003es3Browser\u003c/a\u003e for this purpose.\u003cbr\u003e\n\u003ca href=\"http://s3browser.com/\"\u003es3Browser\u003c/a\u003e is a freeware Windows client for S3 and CloudFront.\u003cbr\u003e\ns3cmd download Bucket folder:\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003es3cmd sync s3://bucketname/folder /local/folder  \n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eFor download files using s3Browser, here is a tutorial.\u003cbr\u003e\n\u003ca href=\"http://s3browser.com/how-to-upload-and-download-files.php\"\u003eUploading and Downloading Files to and from Amazon S3\u003c/a\u003e\u003c/p\u003e","title":"AWS S3 Download Bucket Folder"},{"content":"WSGI Micro Framworks é€™é™£å­ä¸€ç›´åœ¨æ‰¾é©åˆçš„Micro Framworkç©ç¬¬ä¸€æ¬¡çš„Web Application.\næœ€å¾Œé¸æ“‡ç”¨Bottle, åŸå› æ˜¯:\nSingle file module, no dependencies with other library. Document ä½†æ˜¯å¥½ä¸å¥½ç”¨åˆæ˜¯å¦ä¸€å›äº‹, ç”¨äº†å°±çŸ¥é“..XD\nä»¥ä¸‹æ˜¯ç”±WSGI.orgåˆ—å‡ºçš„Micro Framwork:\nbobo\nBobo is a light-weight framework. Its goal is to be easy to use and remember.\nBottle\nBottle is a fast and simple micro-framework for small web-applications. It offers request dispatching (Routes) with url parameter support, Templates, key/value Databases, a build-in HTTP Server and adapters for many third party WSGI/HTTP-server and template engines. All in a single file and with no dependencies other than the Python Standard Library.\nFlask\nFlask is a microframework for Python based on Werkzeug, Jinja 2 and good intentions. It inherits its high WSGI usage and compliance from Werkzeug.\nPyramid\nMerger of the Pylons and repoze.bfg projects, Pyramid is a minimalist web framework aiming at composability and making developers paying only for what they use.\nweb.py\nMakes web apps. A small RESTful library.\nMicro Framworks Battle Rank Framwork Point 1 Bottle 7 2 pesto 6 3 itty 4 4 flask, cgi+wsgiref 3 5 werkzeug 2 6 web.py 1 7 cherrypy 0 8 bobo -7 9 aspen.io -5 Reference :\nWeb Micro Framework Battle 1\nWeb Micro Framework Battle 2\n","permalink":"https://oopsmonk.github.io/posts/2013-05-27-pythonwebmicroframwork/","summary":"\u003ch2 id=\"wsgi-micro-framworks\"\u003eWSGI Micro Framworks\u003c/h2\u003e\n\u003cp\u003eé€™é™£å­ä¸€ç›´åœ¨æ‰¾é©åˆçš„Micro Framworkç©ç¬¬ä¸€æ¬¡çš„Web Application.\u003cbr\u003e\næœ€å¾Œé¸æ“‡ç”¨\u003ca href=\"http://bottle.paws.de/\"\u003eBottle\u003c/a\u003e, åŸå› æ˜¯:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eSingle file module, no dependencies with other library.\u003c/li\u003e\n\u003cli\u003eDocument\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eä½†æ˜¯å¥½ä¸å¥½ç”¨åˆæ˜¯å¦ä¸€å›äº‹, ç”¨äº†å°±çŸ¥é“..XD\u003c/p\u003e\n\u003cp\u003eä»¥ä¸‹æ˜¯ç”±\u003ca href=\"http://wsgi.readthedocs.org/en/latest/index.html\"\u003eWSGI.org\u003c/a\u003eåˆ—å‡ºçš„Micro \u003ca href=\"http://wsgi.readthedocs.org/en/latest/frameworks.html\"\u003eFramwork\u003c/a\u003e:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ca href=\"http://bobo.digicool.com/\"\u003ebobo\u003c/a\u003e\u003cbr\u003e\nBobo is a light-weight framework. Its goal is to be easy to use and remember.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ca href=\"http://bottle.paws.de/\"\u003eBottle\u003c/a\u003e\u003cbr\u003e\nBottle is a fast and simple micro-framework for small web-applications. It offers request dispatching (Routes) with url parameter support, Templates, key/value Databases, a build-in HTTP Server and adapters for many third party WSGI/HTTP-server and template engines. All in a single file and with no dependencies other than the Python Standard Library.\u003c/p\u003e","title":"Web Micro Framework Battle"},{"content":" #### [2015-02-12]This article doesn't render properly since I switched from Google Blogger to Github Pages. I won't fix this problem. Pandocå¯¦ç¾äº†åŸºæœ¬çš„Markdownèªæ³•å¤–, é‚„åŠ äº†ä¸€äº›extention. ç´°ç¯€å¯åƒè€ƒ: [Pandoc's Markdown][pmd] [Markdownèªæ³•][mdsyntax] [Markdown:Syntax][mds] [Pandoc Markdown and ReST Compared][MDcmpReST] Headers (Setext and atx) Setext-styleåªæœ‰å…©éšä¹Ÿå°±æ˜¯HTMLèªæ³•è£¡çš„h1åŠh2 tag,-è·Ÿ=çš„å€‹æ•¸æ²’æœ‰é™åˆ¶.\natx-styleå…±æœ‰6éš, h1~h6.\n# This is H1. ## This is H2. ### This is H3. #### ... ###### This is H6. é™¤äº†éšå±¤è¼ƒå¤šä¹‹å¤–, atx-styleé‚„å¯ä»¥ä½¿ç”¨Markdown syntax.\n###This is *H3* header. Output:\nThis is H3 header. Inline Formatting Basic Emphasis æ–œé«”å­—: *, _ , ç²—é«”å­—: **, __,\n*single asterisks* _single underscores_ **double asterisks** __double underscores__ Output:\nsingle asterisks\nsingle underscores\ndouble asterisks\ndouble underscores\nPandoc Inline strikeout, superscript and subscript ~~~deleted text~~~ H~2~O is a liquid. 2^10^ is 1024. Output:\nH~2~O is a liquid. 2^10^ is 1024. --- #### Math Pandocå¯ä»¥ä½¿ç”¨LaTeXä¾†è¡¨ç¤ºæ•¸å­¸å¼å­, å¯åƒè€ƒ[Getting Started with LaTeX](http://www.maths.tcd.ie/~dwilkins/LaTeXPrimer/) ``` $a^2 = b^2 + c^2$ $x^{17} - 1$ $M^\\bot = \\{ f \\in V\u0026#39; : f(m) = 0 \\mbox{ for all } m \\in M \\}.$ $\\[ \\cos(\\theta + \\phi) = \\cos \\theta \\cos \\phi - \\sin \\theta \\sin \\phi \\]$ $\\[ |y - x| \u0026lt; \\delta \\]$ then $\\[ |f(y) - f(x)| \u0026lt; \\epsilon. \\]$ \\newcommand{\\tuple}[1]{\\langle #1 \\rangle} $\\tuple{a, b, c}$ ``` output: ``` $$a^2 = b^2 + c^2$$ $$x^{17} - 1$$ $$M^\\bot = \\{ f \\in V\u0026#39; : f(m) = 0 \\mbox{ for all } m \\in M \\}.$$ $$\\[ \\cos(\\theta + \\phi) = \\cos \\theta \\cos \\phi - \\sin \\theta \\sin \\phi \\]$$ $$\\[ |y - x| \u0026lt; \\delta \\]$ then $\\[ |f(y) - f(x)| \u0026lt; \\epsilon. \\]$$ $$\\newcommand{\\tuple}[1]{\\langle #1 \\rangle}\\tuple{a, b, c}$$ ``` ## Links ``` This is an automatic link \u0026lt;http://www.google.com\u0026gt;. This is [inline link](http://example.com/ \u0026#34;Title\u0026#34;) inline link with title. This is [inline link](http://example.com/ ) inline link without title attribute. This is [reference link ][ref] with ID. This is [reference link][] without ID. This is [Inline Internal link](#TOC). This is [Internal link]. [ref]: http://example.com/ [reference link]: http://www.google.com [Internal link]: #pandocs-markdown-reference ``` Output: This is an automatic link \u0026lt;http://www.google.com\u0026gt;. This is [inline link](http://example.com/ \u0026#34;Title\u0026#34;) inline link with title. This is [inline link](http://example.com/ ) inline link without title attribute. This is [reference link ][ref] with ID. This is [reference link][] without ID. This is [Inline Internal link](#TOC). This is [Internal link]. [ref]: http://example.com/ [reference link]: http://www.google.com [Internal link]: #pandocs-markdown-reference ## Images Markddown images sytax ``` ![](http://3.bp.bloGspot.com/-BLhmfBdELH0/UBT3uUd7r5I/AAAAAAAAADw/-rnn2kz5vjY/s220/oops_monk01_120.jpg \u0026#34;OopsMonk\u0026#34;) ![Alt text][pic2] [pic2]: http://3.bp.bloGspot.com/-BLhmfBdELH0/UBT3uUd7r5I/AAAAAAAAADw/-rnn2kz5vjY/s220/oops_monk01_120.jpg ``` Output: ![](http://3.bp.bloGspot.com/-BLhmfBdELH0/UBT3uUd7r5I/AAAAAAAAADw/-rnn2kz5vjY/s220/oops_monk01_120.jpg \u0026#34;OopsMonk\u0026#34;) ![Alt text][pic2] [pic2]: http://3.bp.bloGspot.com/-BLhmfBdELH0/UBT3uUd7r5I/AAAAAAAAADw/-rnn2kz5vjY/s220/oops_monk01_120.jpg --- Markdownçš„è²¼åœ–ä¸èƒ½æŒ‡å®šåœ–ç‰‡å¤§å°, å¯ä»¥ç”¨HTMLä¾†æ”¾åœ–ç‰‡. ``` \u0026lt;img src=\u0026#34;http://3.bp.bloGspot.com/-BLhmfBdELH0/UBT3uUd7r5I/AAAAAAAAADw/-rnn2kz5vjY/s220/oops_monk01_120.jpg\u0026#34; width=\u0026#34;50\u0026#34;\u0026gt; ``` Output: ## Embedded Video Markdownæ²’æœ‰åµŒå…¥å½±ç‰‡çš„èªæ³•, éœ€è¦ä½¿ç”¨HTML. ``` \u0026lt;iframe src=\u0026#34;http://embed.ted.com/talks/lang/zh-tw/ken_robinson_how_to_escape_education_s_death_valley.html\u0026#34; width=\u0026#34;560\u0026#34; height=\u0026#34;315\u0026#34; frameborder=\u0026#34;0\u0026#34; scrolling=\u0026#34;no\u0026#34; webkitAllowFullScreen mozallowfullscreen allowFullScreen\u0026gt;\u0026lt;/iframe\u0026gt; ``` Output: ## Code block ### Basic Code block ``` This is one line code block `function()` ``There is a literal backtick (`) here.`` Bellow is a code block: if(x == 0){ printf(\u0026#34;x = 0\u0026#34;); else printf(\u0026#34;x =/= 0\u0026#34;); ``` Output: This is one line code block `function()` ``There is a literal backtick (`) here.`` Bellow is a code block: if(x == 0){ printf(\u0026#34;x = 0\u0026#34;); else printf(\u0026#34;x =/= 0\u0026#34;); --- ### Pandoc Code Block #### Force code block(more then three `~`) if (a \u0026gt; 3) { moveShip(5 * gravity, DOWN); } Output ~~~~~~~ if (a \u0026gt; 3) { moveShip(5 * gravity, DOWN); } ~~~~~~~ --- #### Code Syntax highlight ~~~ ```python import os import sys def application(env, start_response): start_response(\u0026#39;200 OK\u0026#39;, [(\u0026#39;Content-Type\u0026#39;,\u0026#39;text/html\u0026#39;)]) return \u0026#34;Hello WSGI!!\u0026#34; ``` ~~~ Output: ```python import os import sys def application(env, start_response): start_response(\u0026#39;200 OK\u0026#39;, [(\u0026#39;Content-Type\u0026#39;,\u0026#39;text/html\u0026#39;)]) return \u0026#34;Hello WSGI!!\u0026#34; ``` --- #### Line Number ~~~~~~ ~~~~ {#pycode .python .numberLines startFrom=\u0026#34;10\u0026#34;} import os import sys def application(env, start_response): start_response(\u0026#39;200 OK\u0026#39;, [(\u0026#39;Content-Type\u0026#39;,\u0026#39;text/html\u0026#39;)]) return \u0026#34;Hello WSGI!!\u0026#34; ~~~~ ~~~~~~ Output: ~~~~ {#pycode .python .numberLines startFrom=\u0026#34;10\u0026#34;} import os import sys def application(env, start_response): start_response(\u0026#39;200 OK\u0026#39;, [(\u0026#39;Content-Type\u0026#39;,\u0026#39;text/html\u0026#39;)]) return \u0026#34;Hello WSGI!!\u0026#34; ~~~~ ## Blockquotes ``` \u0026gt; This is a block quote. \u0026gt; \u0026gt; \u0026gt; A block quote within a block quote. \u0026gt; \u0026gt; \u0026gt; \u0026gt; \u0026gt; Nets. ``` Output: \u0026gt; This is a block quote. \u0026gt; \u0026gt; \u0026gt; A block quote within a block quote. \u0026gt; \u0026gt; \u0026gt; \u0026gt; \u0026gt; Nets. ## Lists ### Basic list #### Unordered(Bulleted) ``` * fruits + apples - macintosh - red delicious + pears + peaches * vegetables + brocolli + chard ``` Output: * fruits + apples - macintosh - red delicious + pears + peaches * vegetables + brocolli --- #### Ordered (Numbered) ``` 1. list1. 1. list2. 1. list3. 1. list4. ``` Output: 1. list1. 1. list2. 1. list3. 1. list4. ### Pandoc List Extension #### startnum ``` 5) Five i. 5-1 i. 5-2 5) Six iii. 6-1 * 6-1-1 * 6-1-2 iii. 6-2 iii. 6-3 5) Seven a. 7-1 i. 7-2 #. 7-2-1 #. 7-2-2 i. 7-3 \u0026lt;!-- --\u0026gt; 5) Five again. ``` Output: 5) Five i. 5-1 i. 5-2 5) Six iii. 6-1 * 6-1-1 * 6-1-2 iii. 6-2 iii. 6-3 5) Seven a. 7-1 i. 7-2 #. 7-2-1 #. 7-2-2 i. 7-3 \u0026lt;!-- --\u0026gt; 5) Five again. --- #### Definition lists èªæ³•ä¸­ç‚º`:`èˆ‡`Definition`ä¹‹é–“ç‚º `TAB` éµ. ``` Term 1 : Definition 1 Term 2 with *inline markup* : Definition 2 { some code, part of Definition 2 } Third paragraph of definition 2. ``` Output: Term 1 : Definition 1 Term 2 with *inline markup* : Definition 2 { some code, part of Definition 2 } Third paragraph of definition 2. ---- å¦ä¸€ç¨®å¯«æ³•, è£¡é¢ç„¡æ³•æ”¾å…¥code block. ``` Term 1 ~ Definition 1 Term 2 ~ Definition 2a ~ Definition 2b ``` Output: Term 1 ~ Definition 1 Term 2 ~ Definition 2a ~ Definition 2b --- #### Example lists ``` (@) My first example will be numbered (1). (@) My second example will be numbered (2). Explanation of examples. (@) My third example will be numbered (3). (@good) This is a good example. As (@good) illustrates, ... ``` Output: (@) My first example will be numbered (1). (@) My second example will be numbered (2). Explanation of examples. (@) My third example will be numbered (3). (@good) This is a good example. As (@good) illustrates, ... ## Pandoc Footnotes è¨»è§£æœƒå‡ºç¾åœ¨æ–‡ç« çš„æœ€å¾Œé¢. Here is an inline note.^[Inlines notes are easier to write, since you don\u0026#39;t have to pick an identifier and move down to type the note.] Here is a footnote reference,^[^[^1]^]^ and another.[^longnote] [^1]: Here is the footnote. [^longnote]: Here\u0026#39;s one with multiple blocks. Subsequent paragraphs are indented to show that they belong to the previous footnote. { some.code } The whole paragraph can be indented, or just the first line. In this way, multi-paragraph footnotes work like multi-paragraph list items. This paragraph won\u0026#39;t be part of the note, because it isn\u0026#39;t indented. Output: Here is an inline note.^[Inlines notes are easier to write, since you don\u0026#39;t have to pick an identifier and move down to type the note.] Here is a footnote reference,^[^[^1]^]^ and another.[^longnote] [^1]: Here is the footnote. [^longnote]: Here\u0026#39;s one with multiple blocks. Subsequent paragraphs are indented to show that they belong to the previous footnote. { some.code } The whole paragraph can be indented, or just the first line. In this way, multi-paragraph footnotes work like multi-paragraph list items. This paragraph won\u0026#39;t be part of the note, because it isn\u0026#39;t indented. ## Pandoc Table æ¨™æº–çš„Markdownæ²’æœ‰å¯¦ç¾è¡¨æ ¼çš„æ¨™ç¤º. ### Simple tables Right Left Center Default ------- ------ ---------- ------- 12 12 12 12 123 123 123 123 1 1 1 1 Output: Right Left Center Default ------- ------ ---------- ------- 12 12 12 12 123 123 123 123 1 1 1 1 --- ### Multiline tables -------------------------- Centered Default Right Left Header Aligned Aligned Aligned ----------- ------- --------------- ------------------------- First row 12.0 Example of a row that spans multiple lines. Second row 5.0 Here\u0026#39;s another one. Note the blank line between rows. -------------------------- Output: -------------------------- Centered Default Right Left Header Aligned Aligned Aligned ----------- ------- --------------- ------------------------- First row 12.0 Example of a row that spans multiple lines. Second row 5.0 Here\u0026#39;s another one. Note the blank line between rows. -------------------------- --- ----------- ------- --------------- ------------------------- First row 12.0 Example of a row that spans multiple lines. Second row 5.0 Here\u0026#39;s another one. Note the blank line between rows. ----------- ------- --------------- ------------------------- Output: ----------- ------- --------------- ------------------------- First row 12.0 Example of a row that spans multiple lines. Second row 5.0 Here\u0026#39;s another one. Note the blank line between rows. ----------- ------- --------------- ------------------------- --- ### Grid tables Grid table syntax: : Sample grid table. +---------------+---------------+--------------------+ | Fruit | Price | Advantages | +===============+===============+====================+ | Bananas | $1.34 | - built-in wrapper | | | | - bright color | +---------------+---------------+--------------------+ | Oranges | $2.10 | - cures scurvy | | | | - tasty | +---------------+---------------+--------------------+ Output: : Sample grid table. +---------------+---------------+--------------------+ | Fruit | Price | Advantages | +===============+===============+====================+ | Bananas | $1.34 | - built-in wrapper | | | | - bright color | +---------------+---------------+--------------------+ | Oranges | $2.10 | - cures scurvy | | | | - tasty | +---------------+---------------+--------------------+ **This is end of article, show defined footnotes as below:** ","permalink":"https://oopsmonk.github.io/posts/2013-05-23-pandocmarkdownref/","summary":"\u003cfont color=\"red\"\u003e\n#### [2015-02-12]This article doesn't render properly since I switched from Google Blogger to Github Pages. I won't fix this problem.\n\u003c/font\u003e\nPandocå¯¦ç¾äº†åŸºæœ¬çš„Markdownèªæ³•å¤–, é‚„åŠ äº†ä¸€äº›extention.  \nç´°ç¯€å¯åƒè€ƒ:  \n[Pandoc's Markdown][pmd]  \n[Markdownèªæ³•][mdsyntax]  \n[Markdown:Syntax][mds]  \n[Pandoc Markdown and ReST Compared][MDcmpReST]\n\u003ch2 id=\"headers-setext-and-atx\"\u003eHeaders (Setext and atx)\u003c/h2\u003e\n\u003cp\u003eSetext-styleåªæœ‰å…©éšä¹Ÿå°±æ˜¯HTMLèªæ³•è£¡çš„\u003ccode\u003eh1\u003c/code\u003eåŠ\u003ccode\u003eh2\u003c/code\u003e tag,\u003ccode\u003e-\u003c/code\u003eè·Ÿ\u003ccode\u003e=\u003c/code\u003eçš„å€‹æ•¸æ²’æœ‰é™åˆ¶.\u003cbr\u003e\natx-styleå…±æœ‰6éš, \u003ccode\u003eh1\u003c/code\u003e~\u003ccode\u003eh6\u003c/code\u003e.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e# This is H1.\n## This is H2.\n### This is H3.\n#### ...  \n###### This is H6.  \n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eé™¤äº†éšå±¤è¼ƒå¤šä¹‹å¤–, atx-styleé‚„å¯ä»¥ä½¿ç”¨Markdown syntax.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e###This is *H3* header.\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eOutput:\u003c/p\u003e\n\u003ch3 id=\"this-is-h3-header\"\u003eThis is \u003cem\u003eH3\u003c/em\u003e header.\u003c/h3\u003e\n\u003ch2 id=\"inline-formatting\"\u003eInline Formatting\u003c/h2\u003e\n\u003ch3 id=\"basic-emphasis\"\u003eBasic Emphasis\u003c/h3\u003e\n\u003cp\u003eæ–œé«”å­—: \u003ccode\u003e*\u003c/code\u003e, \u003ccode\u003e_\u003c/code\u003e , ç²—é«”å­—: \u003ccode\u003e**\u003c/code\u003e, \u003ccode\u003e__\u003c/code\u003e,\u003c/p\u003e","title":"Pandoc's Markdown Reference"},{"content":"Install uWSGI Configure uWSGI $ sudo apt-get install python-dev python-pip $ sudo pip uwsgi ################# uWSGI configuration ################# pcre = False kernel = Linux malloc = libc execinfo = False ifaddrs = True ssl = True matheval = False zlib = True locking = pthread_mutex plugin_dir = . timer = timerfd yaml = True json = False filemonitor = inotify routing = False debug = False zeromq = False capabilities = False xml = expat event = epoll ############## end of uWSGI configuration ############# *** uWSGI is ready, launch it with /usr/local/bin/uwsgi *** Successfully installed uwsgi Cleaning up... $ Test uWSGI Create test file called hello.py:\ndef application(env, start_response): start_response(\u0026#39;200 OK\u0026#39;, [(\u0026#39;Content-Type\u0026#39;,\u0026#39;text/html\u0026#39;)]) return \u0026#34;Hello WSGI!!\u0026#34; Run uWSGI:\nuwsgi --http :8000 --wsgi-file hello.py Open browser connect on port 8000.\nhttp://localhost:8000 Install Nginx Configure nginx $ sudo apt-get install nginx-full The configure file path : /etc/nginx/sites-enabled/default\nAdd your site in nginx configure file.\nlocation /wsgi/ { uwsgi_pass 127.0.0.1:8001; include uwsgi_params; } We use localhost port 8001 for uwsgi protocol, and 80 port for nginx.\nRun uwsgi and start nginx.\n$ uwsgi --socket :8001 --wsgi-file hello.py $ sudo service nginx start Test your web site:\nhttp://your-ip/wsgi/ or\nhttp://localhost/wsgi/ Ref:\nuWSGI Tutorial - Django and nginx\nWSGI using uWSGI and nginx on Ubuntu 12.04 (Precise Pangolin)\n","permalink":"https://oopsmonk.github.io/posts/2013-05-21-usinguwsgi/","summary":"\u003ch2 id=\"install-uwsgi\"\u003eInstall uWSGI\u003c/h2\u003e\n\u003ch3 id=\"configure-uwsgi\"\u003eConfigure uWSGI\u003c/h3\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003e$ sudo apt-get install python-dev python-pip  \n$ sudo pip uwsgi  \n################# uWSGI configuration #################  \npcre = False  \nkernel = Linux  \nmalloc = libc  \nexecinfo = False  \nifaddrs = True  \nssl = True  \nmatheval = False  \nzlib = True  \nlocking = pthread_mutex  \nplugin_dir = .  \ntimer = timerfd  \nyaml = True  \njson = False  \nfilemonitor = inotify  \nrouting = False  \ndebug = False  \nzeromq = False  \ncapabilities = False  \nxml = expat  \nevent = epoll  \n############## end of uWSGI configuration #############  \n*** uWSGI is ready, launch it with /usr/local/bin/uwsgi ***  \nSuccessfully installed uwsgi  \nCleaning up...  \n$  \n\u003c/code\u003e\u003c/pre\u003e\u003ch3 id=\"test-uwsgi\"\u003eTest uWSGI\u003c/h3\u003e\n\u003cp\u003eCreate test file called \u003ccode\u003ehello.py\u003c/code\u003e:\u003c/p\u003e","title":"uWSGI \u0026 Nginx on Ubuntu"},{"content":"Markup Language å¯«æ–‡ä»¶æˆ–blogæœ€å›°æ“¾çš„å°±æ˜¯æ’ç‰ˆ, å¤§ç•¥çœ‹ä¸€ä¸‹ç›®å‰è¼ƒæµè¡Œçš„Markdown \u0026amp; reStructuredText, æ±ºå®šç”¨Markdownä¾†å¯«, rstçµ¦æˆ‘çš„æ„Ÿè¦ºå°±æ˜¯è¦å†å­¸å¦ä¸€ç¨®èªè¨€, é›–ç„¶å¼·å¤§, ä½†æˆ‘åªè¦å¤ ç”¨å°±å¥½, å¿…ç«Ÿéƒ½æœ‰äººç”¨Markdownå¯«æ›¸äº† XD.\nMarkdown Setup ç›®å‰æ˜¯ç”¨Vim + Pandocä¾†å¯«Markdown, ç¶²è·¯ä¸Šä¹Ÿæœ‰Web editor, æˆ–æ˜¯windowså¹³å°çš„Markdownpad, ä½†Webç”¨èµ·ä¾†ä¸é †æ‰‹, Markdownpadä¸èƒ½è·¨å¹³å°. ç”¨Viméº»ç…©çš„æ˜¯preview, å¯«å®Œè¦æ‰‹å‹•ç”¨Pandocè½‰æˆhtml, ä¹‹å¾Œç›´æ¥å°‡è½‰å‡ºä¾†çš„html, ç›´æ¥è²¼åˆ°blogger.\nä¸€èˆ¬æ²’æœ‰CSSçš„ç”¨æ³•:\n$ pandoc README.md -o out.html åŠ å…¥CSSä¾æ–‡ä»¶çš„æ–¹æ³•æ˜¯:\n$ pandoc -c markdown.css README.md -o out.html ä½†æ˜¯æœƒæœ‰ä¸€å€‹å•é¡Œ, è²¼ä¸Šbloggeræ™‚æœƒç„¡æ³•æ­£å¸¸é¡¯ç¤º, åŸå› åœ¨æ–¼htmlè£¡æ˜¯é€™æ¨£å¯«çš„:\n\u0026lt;link rel=\u0026quot;stylesheet\u0026quot; href=\u0026quot;markdown.css\u0026quot; type=\u0026quot;text/css\u0026quot; /\u0026gt; å¾Œä¾†æƒ³åˆ°äº†ä¸€å€‹workaround, ç”¨-Håƒæ•¸å°‡CSSæ”¾å…¥Header, ä½†ä¹Ÿä¸æ˜¯ç›´æ¥å¸¶å…¥, éœ€è¦å°‡ä¸€èˆ¬çš„CSS fileç”¨style tagåŒ…èµ·ä¾†, å¦‚ä¸‹:\n\u0026lt;style type=\u0026quot;text/css\u0026quot;\u0026gt; Your CSS syntax.... \u0026lt;/style\u0026gt; å¦å­˜æˆpandoc-markdown.css, å¦‚æ­¤æ‰æ˜¯çœŸæ­£çš„__fully standalone__.\n$ pandoc -H pandoc-markdown.css README.md -o out.html Vim Tips ä¿®æ”¹vimrcå°‡*.mdæ¨™ç¤ºç‚ºMarkdownæ ¼å¼, å­˜æª”è‡ªå‹•ç”¢ç”ŸHTMLæª”æ¡ˆ.\n\u0026#34; Markdown extention autocmd BufRead,BufNewFile *.md set filetype=markdown \u0026#34; Auto Pandoc function function! AutoPandoc() \u0026#34;check if pandoc exist if filereadable(\u0026#34;/usr/bin/pandoc\u0026#34;) \u0026#34; get current directory path and append CSS file let l:csspath=expand(\u0026#34;%:p:h\u0026#34;).\u0026#34;/pandoc-markdownpad-github.css\u0026#34; let l:outPut=expand(\u0026#34;%:p:h\u0026#34;).\u0026#34;/out.html\u0026#34; if filereadable(l:csspath) \u0026#34;remove old output if filereadable(l:outPut) let l:rmOut=\u0026#34;!rm -rf \u0026#34;.l:outPut.\u0026#34; \u0026amp;\u0026amp; sync\u0026#34; silent execute l:rmOut endif \u0026#34; run command let l:runCmd=\u0026#34;!pandoc -H \u0026#34;.l:csspath.\u0026#34; -s \u0026#34;.expand(\u0026#34;%:p\u0026#34;).\u0026#34; -o \u0026#34;.l:outPut echo \u0026#34;Auto generated HTML at \u0026#34;.l:outPut silent execute l:runCmd endif endif endfunction \u0026#34;Audo gen html for markdown autocmd BufWritePost *.markdown,*md call AutoPandoc() Conclusion ä¸ç”¨ç…©æƒ±æ’ç‰ˆçš„å•é¡Œ, Bloggerèˆ‡Evernoteæ’ç‰ˆä¸æœƒå·®å¤ªå¤š.\nå¯ä»¥ç”¨Gitä¾†åšversion control åŠ backup.\nç°¡æ½”æœ‰åŠ›, èªæ³•ç°¡å–®.\nVimä¹Ÿæœ‰äººåšrealtime previewçš„plug-in: vim-instant-markdown, ä½†æˆ‘è¦ºå¾—æ²’æœ‰å³æ™‚previewçš„éœ€æ±‚.\nåœ–ç‰‡ä½¿ç”¨Markdownèªæ³•ç„¡æ³•èª¿æ•´å¤§å°, å¯ä»¥ä½¿ç”¨HTMLä¾†æ”¾åœ–ç‰‡.\n\u0026lt;img src=\u0026quot;http://3.bp.bloGspot.com/-BLhmfBdELH0/UBT3uUd7r5I/AAAAAAAAADw/-rnn2kz5vjY/s220/oops_monk01_120.jpg\u0026quot; width=\u0026quot;100\u0026quot;\u0026gt;\nå½±ç‰‡ä¹Ÿæ˜¯ç”¨HTML, ä»¥TEDTalkç‚ºä¾‹:\n\u0026lt;iframe src=\u0026quot;http://embed.ted.com/talks/lang/zh-tw/ken_robinson_how_to_escape_education_s_death_valley.html\u0026quot;\nwidth=\u0026quot;560\u0026quot; height=\u0026quot;315\u0026quot; frameborder=\u0026quot;0\u0026quot; scrolling=\u0026quot;no\u0026quot; webkitAllowFullScreen mozallowfullscreen allowFullScreen\u0026gt;\u0026lt;/iframe\u0026gt;\n","permalink":"https://oopsmonk.github.io/posts/2013-05-21-aboutmarkup/","summary":"\u003ch2 id=\"markup-language\"\u003eMarkup Language\u003c/h2\u003e\n\u003cp\u003eå¯«æ–‡ä»¶æˆ–blogæœ€å›°æ“¾çš„å°±æ˜¯æ’ç‰ˆ, å¤§ç•¥çœ‹ä¸€ä¸‹ç›®å‰è¼ƒæµè¡Œçš„\u003ca href=\"http://daringfireball.net/projects/markdown/\"\u003eMarkdown\u003c/a\u003e \u0026amp; \u003ca href=\"http://docutils.sourceforge.net/rst.html\"\u003ereStructuredText\u003c/a\u003e, æ±ºå®šç”¨Markdownä¾†å¯«, rstçµ¦æˆ‘çš„æ„Ÿè¦ºå°±æ˜¯è¦å†å­¸å¦ä¸€ç¨®èªè¨€, é›–ç„¶å¼·å¤§, ä½†æˆ‘åªè¦å¤ ç”¨å°±å¥½, å¿…ç«Ÿéƒ½æœ‰äººç”¨Markdownå¯«æ›¸äº† XD.\u003c/p\u003e\n\u003ch2 id=\"markdown-setup\"\u003eMarkdown Setup\u003c/h2\u003e\n\u003cp\u003eç›®å‰æ˜¯ç”¨Vim + \u003ca href=\"http://johnmacfarlane.net/pandoc/\"\u003ePandoc\u003c/a\u003eä¾†å¯«Markdown, ç¶²è·¯ä¸Šä¹Ÿæœ‰\u003ca href=\"http://joncom.be/experiments/markdown-editor/edit/\"\u003eWeb editor\u003c/a\u003e, æˆ–æ˜¯windowså¹³å°çš„\u003ca href=\"http://markdownpad.com/\"\u003eMarkdownpad\u003c/a\u003e, ä½†Webç”¨èµ·ä¾†ä¸é †æ‰‹, Markdownpadä¸èƒ½è·¨å¹³å°. ç”¨Viméº»ç…©çš„æ˜¯preview, å¯«å®Œè¦æ‰‹å‹•ç”¨\u003ca href=\"http://johnmacfarlane.net/pandoc/\"\u003ePandoc\u003c/a\u003eè½‰æˆhtml, ä¹‹å¾Œç›´æ¥å°‡è½‰å‡ºä¾†çš„html, ç›´æ¥è²¼åˆ°blogger.\u003cbr\u003e\nä¸€èˆ¬æ²’æœ‰CSSçš„ç”¨æ³•:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ pandoc README.md -o out.html  \n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eåŠ å…¥CSSä¾æ–‡ä»¶çš„æ–¹æ³•æ˜¯:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ pandoc -c markdown.css README.md -o out.html  \n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eä½†æ˜¯æœƒæœ‰ä¸€å€‹å•é¡Œ, è²¼ä¸Šbloggeræ™‚æœƒç„¡æ³•æ­£å¸¸é¡¯ç¤º, åŸå› åœ¨æ–¼htmlè£¡æ˜¯é€™æ¨£å¯«çš„:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u0026lt;link rel=\u0026quot;stylesheet\u0026quot; href=\u0026quot;markdown.css\u0026quot; type=\u0026quot;text/css\u0026quot; /\u0026gt;  \n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eå¾Œä¾†æƒ³åˆ°äº†ä¸€å€‹workaround, ç”¨\u003ccode\u003e-H\u003c/code\u003eåƒæ•¸å°‡CSSæ”¾å…¥Header, ä½†ä¹Ÿä¸æ˜¯ç›´æ¥å¸¶å…¥, éœ€è¦å°‡ä¸€èˆ¬çš„CSS fileç”¨\u003ccode\u003estyle\u003c/code\u003e tagåŒ…èµ·ä¾†, å¦‚ä¸‹:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u0026lt;style type=\u0026quot;text/css\u0026quot;\u0026gt;  \nYour CSS syntax....  \n\u0026lt;/style\u0026gt;  \n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eå¦å­˜æˆ\u003ccode\u003epandoc-markdown.css\u003c/code\u003e, å¦‚æ­¤æ‰æ˜¯çœŸæ­£çš„__fully standalone__.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ pandoc -H pandoc-markdown.css README.md -o out.html  \n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"vim-tips\"\u003eVim Tips\u003c/h2\u003e\n\u003cp\u003eä¿®æ”¹\u003ccode\u003evimrc\u003c/code\u003eå°‡*.mdæ¨™ç¤ºç‚ºMarkdownæ ¼å¼, å­˜æª”è‡ªå‹•ç”¢ç”ŸHTMLæª”æ¡ˆ.\u003c/p\u003e","title":"About Markup"},{"content":"O.S. : Ubuntu12.04 LTS\nOpenNMS Version : 1.10.7\nOpenNMS base on TMN \u0026amp; FCAPS network management models.\nOpenNMS Block Diagram Discovery \u0026amp; Monitor daemons Eventd\nEvent handling daemon\nConfiguration files:\neventconf.xml -\u0026gt; Defines the UEI (Universal Event Identifiers).\neventd-configuration.xml -\u0026gt; Defines operating parameters for eventd such as timeouts, listener threads and listener port.\nevents-archiver-configuation.xml -\u0026gt; Configuration for event archive daemon.\nevents.archiver.properties -\u0026gt; Fine tune events archive subsystem.\netc/events/*.xml -\u0026gt; Vendor UEI define files.\nListening \u0026ldquo;eventsConfigChange\u0026rdquo; event.\nDiscovery (discovery-configuration.xml)\nDiscovery service implement the Singleton pattern.\nListening events:\ndiscPause, interfaceDeleted, discResume, nodeGainedInterface, discoveryConfigChange and reloadDaemonConfig.\nCapsd (Capabilities daemon, capsd-configuration.xml)\nNotified by the discovery process when a new node is discovered, the polls for all the capabilities for this node and loading the data collected into the database.\nListening events:\ndeleteService, changeService, deleteInterface, newSuspect, froceRescan, addInterface, nodeDeleted, addNode, updateServer, nodeAdded, duplicateNodeDeleted, deleteNode and updateService.\nCollectd (collectd-configuration.xml)\nResponsible for gathering and storing data from various sources, including SNMP, JMX, HTTP and NSClient.\nListening events:\nnodeGainedService, primarySnmpInterfaceChanged, reinitializePrimarySnmpInterface, interfaceReparented, nodeDeleted, duplicateNodeDeleted, interfaceDeleted, serviceDeleted, schedOutagesChanged, configureSNMP, thresholdConfigChange, reloadDaemonConfig and nodeCategoryMembershipChanged.\nPoller (poller-configuration.xml)\nPolling services, including ICMP, DNS, FTP, HTTP, HTTPS, SSH, MySQL\u0026hellip;.\nListening events:\nnodeGaineService, serviceDeleted, interfaceReparented, nodeDeleted, nodeLabelChanged, duplicateNodeDeleted, interfaceDeleted, suspendPollingService, resumePollingService, schedOutagesChanged, demandPollService, thresholdConfigChange, assetInfoChanged and nodeCategoryMembershipChanged.\nRTC (Real-Time Collector)\nThe RTC initializes its data from the database when it comes up then subscribes to the events subsystem to receive events of interest to keep the data up-to-date.\nListening events:\nnodeGainedService, nodeLostService, interfaceDown, nodeDown, nodeUp, nodeCategoryMembershipChanged, interfaceUp, nodeRegainedService, serviceDeleted, serviceunmanaged, interfaceReparented, subscribe, unsubscribe and assetInfoChanged.\nNote:\nThere are two major ways that OpenNMS gathers data about the network.\nThe first is through polling. Processes called monitors connect to a network resource and perform a simple test to see if the resource is responding correctly. If not, events are generated.\nThe second is through data collection using collectors. Currently, the only collector is for SNMP data.\nCollectd record SNMP data to RRDTool in /share/rrd/snmp/NodeID/*, Ex: tcpOutSegs.jrb, icmpInEchos.jrb, tcpInSegs.jrb, ifInOctets.jrb, ifoutOctets.jrb\u0026hellip;\nPoller record Service data to RRDTool in /share/rrd/response/IP/*, Ex: icmp.jrb ssh.jrd\u0026hellip;\nOpenNMS configuration files:\nhttp://www.opennms.org/wiki/Configuration_File_Index\nDiscovery \u0026amp; Monitor Flow Here is the event flow when press \u0026ldquo;Save and Restart Discovery\u0026rdquo; button on WebGUI.\nReferences :\nWhite Paper: Project OpenNMS\nThe architecture of OpenNMS\nè«–OpenNMS åœ¨ SUSE linux ä¹‹æ‡‰ç”¨\n","permalink":"https://oopsmonk.github.io/posts/2013-02-03-opennmsarchitectureintroduction/","summary":"\u003cp\u003eO.S. : Ubuntu12.04 LTS\u003cbr\u003e\nOpenNMS Version : 1.10.7\u003c/p\u003e\n\u003cp\u003eOpenNMS base on \u003ca href=\"http://en.wikipedia.org/wiki/Telecommunications_Management_Network\"\u003eTMN\u003c/a\u003e \u0026amp; \u003ca href=\"http://en.wikipedia.org/w/index.php?title=FCAPS\u0026amp;oldid=535214862\"\u003eFCAPS\u003c/a\u003e network management models.\u003c/p\u003e\n\u003ch3 id=\"opennms-block-diagram\"\u003eOpenNMS Block Diagram\u003c/h3\u003e\n\u003cp\u003e\u003cimg loading=\"lazy\" src=\"/images/2013-02-03/OpenNMSBlockArchitecture.png\"\u003e\u003c/p\u003e\n\u003ch3 id=\"discovery--monitor-daemons\"\u003eDiscovery \u0026amp; Monitor daemons\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ca href=\"http://www.opennms.org/wiki/Event_Configuration_How-To\"\u003eEventd\u003c/a\u003e\u003cbr\u003e\nEvent handling daemon\u003cbr\u003e\nConfiguration files:\u003cbr\u003e\neventconf.xml -\u0026gt; Defines the UEI (Universal Event Identifiers).\u003cbr\u003e\neventd-configuration.xml -\u0026gt; Defines operating parameters for eventd such as timeouts, listener threads and listener port.\u003cbr\u003e\nevents-archiver-configuation.xml -\u0026gt; Configuration for event archive daemon.\u003cbr\u003e\nevents.archiver.properties -\u0026gt; Fine tune events archive subsystem.\u003cbr\u003e\netc/events/*.xml -\u0026gt; Vendor UEI define files.\u003cbr\u003e\nListening \u0026ldquo;eventsConfigChange\u0026rdquo; event.\u003c/p\u003e","title":"OpenNMS Architecture Introduction (Discovery \u0026 Monitor)"},{"content":"çµæŸä¸Šä»½å·¥ä½œå¾Œ, ä¸æƒ³é–’è‘—, ä¹Ÿå°±é–‹å§‹æ‰¾æ–°\u0026quot;ç©å…·\u0026quot;, åšéºµåŒ…å¥½åƒæ»¿æœ‰è¶£çš„, åˆä¸ç”¨å‡ºé–€å¯ä»¥åœ¨å®¶é™ªå°æœ‹å‹,æ–¼æ˜¯çˆ¬äº†2~3å¤©çš„æ–‡ç« ,äº†è§£éœ€è¦çš„æ±è¥¿.\nGoogleä»€éº¼æ˜¯yeast(Active dry, Instant dry, Fresh)?\nä»€éº¼æ˜¯éºµç²‰(é«˜ç­‹, ä¸­ç­‹, ä½ç­‹, æ³•åœ‹ç²‰)?\nä»€éº¼æ˜¯éºµç³°(æ“´å±•, å®Œæˆ)?\nä»€éº¼æ˜¯æ‰éºµ?\nå¤©çœŸçš„ä»¥ç‚º\u0026quot;åå¸\u0026quot;å¾ˆç°¡å–®,éºµç³°æ•´å¥½ä¸Ÿé€²çƒ¤æ¨¡..done.\nçµæœçƒ¤åˆ°ç¬¬äº”æ¢åå¸, æ‰__æ¥è¿‘æ»¿æ¨¡__.\nå¤±æ•—å“ä¹‹ä¸€:\næ¥è‘—ç™½åå¸å¤ªç„¡èŠäº†, æ‰€ä»¥åšäº†å…¶å®ƒåšè©¦\nå…¨éº¥é®ªé­šéºµåŒ… é«˜ç²‰ 270g å…¨éº¥ç²‰ 30g Instant dry 3/4t å¥¶æ²¹ 20g å¡© 1/2t ç³– 20g æ°´ 185g æ•´å½¢åƒè€ƒ: è’”è˜¿é®ªé­šéºµåŒ…\næµ·è’‚çš„ç™½éºµåŒ… é…æ–¹è·Ÿåšæ³•åƒè€ƒ ã€è‚‰æ¡‚æ‰“å™´åšã€‘æµ·è’‚çš„ç™½éºµåŒ…\nå…¨éº¥è±†æ¼¿æ¸æè‘¡è„ä¹¾ é«˜ç²‰ 270g å…¨éº¥ç²‰ 30g Instant dry 3/4t å¥¶æ²¹ 20g å¡© 1/2t ç³– 20g è±†æ¼¿ 185g æ¸æ + è‘¡è„ä¹¾ é©é‡. No-Knead Bread åšäº†é€™äº›å¾Œ, æ·±æ·±æ„Ÿåˆ°\u0026hellip;\nè¬èƒ½çš„é›™æ‰‹çœŸçš„ç´¯äººåˆåµ, å°¤å…¶åå¸è¦æ‰åˆ°å®Œæˆéšæ®µ.\nå†ä¸Šé„°å±…ä¾†é—œåˆ‡èªª: \u0026ldquo;ä½ å®¶æ˜¯ä¸æ˜¯æœ€è¿‘åœ¨é‡˜æ±è¥¿?\u0026rdquo;\u0026hellip;XD\næ–¼æ˜¯é–‹å§‹Googleè§£æ±ºè¾¦æ³•..\næ²’æƒ³åˆ°çœŸçš„æœ‰äººç ”ç™¼å‡ºNo-Knead Bread\u0026hellip;OMG\nä¸éç¼ºé»æ˜¯è¦\u0026quot;é•·æ™‚é–“ç™¼é…µ\u0026quot;, å¾Œä¾†åˆæ”¹å–„äº†é•·æ™‚é–“ç™¼é…µçš„ç¼ºé»:\nSpeedy No-Knead Bread\næ–¼æ˜¯No-Knead Breadæˆäº†ç›®å‰ä¸»è¦çš„åšæ³•\nå„ªé»:\nå…æ‰ == ä¸ç´¯æ²’å™ªéŸ³ éºµç³°ä¸åŠ å¥¶æ²¹ and ç³–, æ„Ÿè¦ºè¼ƒå¥åº·. æˆ‘æ„›æ­åŒ…çš„è„†çš®åŠå’¬å‹ ç¼ºé»:\néºµç³°æ°´ä»½é«˜, ä¸æ˜“æ“ä½œ.\nä½¿ç”¨é™¶é‹è©¦äº†é€™å€‹æ–¹æ³•5æ¬¡å¾Œ, è¦ºå¾—ç¼ºé»é‚„å¯ä»¥æ¥å—, åæ­£è‡ªå·±åƒä¸ç”¨åšç¾ç¾çš„..XD\néºµç³°é…æ–¹:\né«˜ç²‰ 200g Instant dry 1/8t å¡© 1/4t æ°´ 170~175g ä»Šå¤©ç‰¹åˆ¥åšäº†ä¸€å€‹å¤§sizeçš„:\nèœ‚èœœä¹¾æœå…¨éº¥æ­åŒ…, ä¹¾æœæ˜¯è‘¡è„ä¹¾+æ ¸æ¡ƒ\næ•´å½¢å†ç™¼é…µ60åˆ†é˜å°±å…¥çƒ¤ç®±äº†, çƒ¤ç®±ä¸­çš„å¤§é™¶é‹, ä¸Šè‰²æ™‚è¡¨çš®çš„ä¹¾æœçƒ¤ç„¦äº†..\nå‡ºçˆå‡ åˆ†é˜å¾Œé‚„é‡äº†ä¸€ä¸‹, æ²’æƒ³åˆ°è£¡é¢é‚„æœ‰90å‡ åº¦çš„é«˜æº«@@..\n","permalink":"https://oopsmonk.github.io/posts/2012-11-30-baking2012/","summary":"\u003cp\u003eçµæŸä¸Šä»½å·¥ä½œå¾Œ, ä¸æƒ³é–’è‘—, ä¹Ÿå°±é–‹å§‹æ‰¾æ–°\u0026quot;ç©å…·\u0026quot;, åšéºµåŒ…å¥½åƒæ»¿æœ‰è¶£çš„, åˆä¸ç”¨å‡ºé–€å¯ä»¥åœ¨å®¶é™ªå°æœ‹å‹,æ–¼æ˜¯çˆ¬äº†2~3å¤©çš„æ–‡ç« ,äº†è§£éœ€è¦çš„æ±è¥¿.\u003cbr\u003e\nGoogleä»€éº¼æ˜¯yeast(Active dry, Instant dry, Fresh)?\u003cbr\u003e\nä»€éº¼æ˜¯éºµç²‰(é«˜ç­‹, ä¸­ç­‹, ä½ç­‹, æ³•åœ‹ç²‰)?\u003cbr\u003e\nä»€éº¼æ˜¯éºµç³°(æ“´å±•, å®Œæˆ)?\u003cbr\u003e\nä»€éº¼æ˜¯æ‰éºµ?\u003cbr\u003e\nå¤©çœŸçš„ä»¥ç‚º\u0026quot;åå¸\u0026quot;å¾ˆç°¡å–®,éºµç³°æ•´å¥½ä¸Ÿé€²çƒ¤æ¨¡..done.\u003cbr\u003e\nçµæœçƒ¤åˆ°ç¬¬äº”æ¢åå¸, æ‰__æ¥è¿‘æ»¿æ¨¡__.\u003cbr\u003e\n\u003cimg loading=\"lazy\" src=\"/images/2012-11-30/PhotoGrid_1354261702870.png\"\u003e\u003c/p\u003e\n\u003cp\u003eå¤±æ•—å“ä¹‹ä¸€:\u003cbr\u003e\n\u003cimg loading=\"lazy\" src=\"/images/2012-11-30/PhotoGrid_1354267157813.png\"\u003e\u003c/p\u003e\n\u003cp\u003eæ¥è‘—ç™½åå¸å¤ªç„¡èŠäº†, æ‰€ä»¥åšäº†å…¶å®ƒåšè©¦\u003c/p\u003e\n\u003ch3 id=\"å…¨éº¥é®ªé­šéºµåŒ…\"\u003eå…¨éº¥é®ªé­šéºµåŒ…\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eé«˜ç²‰ 270g\u003c/li\u003e\n\u003cli\u003eå…¨éº¥ç²‰ 30g\u003c/li\u003e\n\u003cli\u003eInstant dry 3/4t\u003c/li\u003e\n\u003cli\u003eå¥¶æ²¹ 20g\u003c/li\u003e\n\u003cli\u003eå¡© 1/2t\u003c/li\u003e\n\u003cli\u003eç³– 20g\u003c/li\u003e\n\u003cli\u003eæ°´ 185g\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eæ•´å½¢åƒè€ƒ: \u003ca href=\"http://hotchick.pixnet.net/blog/post/31324903-%E8%92%94%E8%98%BF%E9%AE%AA%E9%AD%9A%E9%BA%B5%E5%8C%85\"\u003eè’”è˜¿é®ªé­šéºµåŒ…\u003c/a\u003e\u003cbr\u003e\n\u003cimg loading=\"lazy\" src=\"/images/2012-11-30/PhotoGrid_1354261768051.png\"\u003e\u003c/p\u003e\n\u003ch3 id=\"æµ·è’‚çš„ç™½éºµåŒ…\"\u003eæµ·è’‚çš„ç™½éºµåŒ…\u003c/h3\u003e\n\u003cp\u003eé…æ–¹è·Ÿåšæ³•åƒè€ƒ \u003ca href=\"http://www.dodocook.com/recipe/32189\"\u003eã€è‚‰æ¡‚æ‰“å™´åšã€‘æµ·è’‚çš„ç™½éºµåŒ…\u003c/a\u003e\u003cbr\u003e\n\u003cimg loading=\"lazy\" src=\"/images/2012-11-30/PhotoGrid_1354261831060.png\"\u003e\u003c/p\u003e\n\u003ch3 id=\"å…¨éº¥è±†æ¼¿æ¸æè‘¡è„ä¹¾\"\u003eå…¨éº¥è±†æ¼¿æ¸æè‘¡è„ä¹¾\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eé«˜ç²‰ 270g\u003c/li\u003e\n\u003cli\u003eå…¨éº¥ç²‰ 30g\u003c/li\u003e\n\u003cli\u003eInstant dry 3/4t\u003c/li\u003e\n\u003cli\u003eå¥¶æ²¹ 20g\u003c/li\u003e\n\u003cli\u003eå¡© 1/2t\u003c/li\u003e\n\u003cli\u003eç³– 20g\u003c/li\u003e\n\u003cli\u003eè±†æ¼¿ 185g\u003c/li\u003e\n\u003cli\u003eæ¸æ + è‘¡è„ä¹¾ é©é‡.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003cimg loading=\"lazy\" src=\"/images/2012-11-30/PhotoGrid_1354261875684.png\"\u003e\u003c/p\u003e\n\u003ch3 id=\"no-knead-bread\"\u003eNo-Knead Bread\u003c/h3\u003e\n\u003cp\u003eåšäº†é€™äº›å¾Œ, æ·±æ·±æ„Ÿåˆ°\u0026hellip;\u003cbr\u003e\nè¬èƒ½çš„é›™æ‰‹çœŸçš„ç´¯äººåˆåµ, å°¤å…¶åå¸è¦æ‰åˆ°å®Œæˆéšæ®µ.\u003cbr\u003e\nå†ä¸Šé„°å±…ä¾†é—œåˆ‡èªª: \u0026ldquo;ä½ å®¶æ˜¯ä¸æ˜¯æœ€è¿‘åœ¨é‡˜æ±è¥¿?\u0026rdquo;\u0026hellip;XD\u003cbr\u003e\næ–¼æ˜¯é–‹å§‹Googleè§£æ±ºè¾¦æ³•..\u003cbr\u003e\næ²’æƒ³åˆ°çœŸçš„æœ‰äººç ”ç™¼å‡ºNo-Knead Bread\u0026hellip;OMG\u003c/p\u003e","title":"Baking 2012"},{"content":"boot_cm9.img file from mk802_legacy-compatibility_v1.zip\nDevice: Rikomagic MK802\nScript files : Split_bootimg.pl , extract-ikconfig ( in {kernel_source}/script )\nSplit boot.img Copy boot_cm9.img, Split_bootimg.pl, extract-ikconfig into \u0026lsquo;split_boot\u0026rsquo;\n$ mkdir split_boot $ cd split_boot $ ./split_bootimg.pl boot_cm9.img Page size: 2048 (0x00000800) Kernel size: 8094708 (0x007b83f4) Ramdisk size: 178940 (0x0002bafc) Second size: 0 (0x00000000) Board name: Command line: console=ttyS0,115200 rw init=/init loglevel=8 Writing boot_cm9.img-kernel ... complete. Writing boot_cm9.img-ramdisk.gz ... complete. Get kernel image (boot_cm9.img-kernel) and ramdisk (boot_cm9.img-ramdisk.gz)\nExtract kernel config $ dd if=boot_cm9.img-kernel of=dd_uImage bs=1024 skip=1 7903+1 records in 7903+1 records out 8093684 bytes (8.1 MB) copied, 0.0178518 s, 453 MB/s $./extract-ikconfig dd_uImage \u0026gt; kernel_config Extract ramdisk $ mkdir ramdisk $ cd ramdisk $ gzip -dc ../boot_cm9.img-ramdisk.gz | cpio -i 6677 blocks $ tree . . â”œâ”€â”€ data â”œâ”€â”€ default.prop â”œâ”€â”€ dev â”œâ”€â”€ init â”œâ”€â”€ init.goldfish.rc â”œâ”€â”€ initlogo.rle â”œâ”€â”€ init.rc â”œâ”€â”€ init.sun4i.rc â”œâ”€â”€ init.sun4i.usb.rc â”œâ”€â”€ proc â”œâ”€â”€ sbin â”‚ â”œâ”€â”€ adbd â”‚ â””â”€â”€ ueventd -\u0026gt; ../init â”œâ”€â”€ sys â”œâ”€â”€ system â”œâ”€â”€ ueventd.goldfish.rc â”œâ”€â”€ ueventd.rc â””â”€â”€ ueventd.sun4i.rc Reference:\nHOWTO: Unpack, Edit, and Re-Pack Boot Images\n","permalink":"https://oopsmonk.github.io/posts/2012-09-12-how2splitbootimage/","summary":"\u003cp\u003eboot_cm9.img file from \u003ca href=\"http://www.androidfilehost.com/main/Allwinner_A10_Developers/christiantroy/misc/legacy/mk802_legacy-compatibility_v1.zip\"\u003emk802_legacy-compatibility_v1.zip\u003c/a\u003e\u003cbr\u003e\nDevice: Rikomagic MK802\u003cbr\u003e\nScript files : \u003ca href=\"http://zen-droid.googlecode.com/files/split_bootimg.pl\"\u003eSplit_bootimg.pl\u003c/a\u003e , extract-ikconfig ( in {kernel_source}/script )\u003c/p\u003e\n\u003ch2 id=\"split-bootimg\"\u003eSplit boot.img\u003c/h2\u003e\n\u003cp\u003eCopy boot_cm9.img, Split_bootimg.pl, extract-ikconfig into \u0026lsquo;split_boot\u0026rsquo;\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003e$ mkdir split_boot\n$ cd split_boot\n$ ./split_bootimg.pl boot_cm9.img\nPage size: 2048 (0x00000800)\nKernel size: 8094708 (0x007b83f4)\nRamdisk size: 178940 (0x0002bafc)\nSecond size: 0 (0x00000000)\nBoard name:\nCommand line: console=ttyS0,115200 rw init=/init loglevel=8\nWriting boot_cm9.img-kernel ... complete.\nWriting boot_cm9.img-ramdisk.gz ... complete.\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eGet kernel image (\u003cstrong\u003eboot_cm9.img-kernel\u003c/strong\u003e) and ramdisk (\u003cstrong\u003eboot_cm9.img-ramdisk.gz\u003c/strong\u003e)\u003c/p\u003e\n\u003ch2 id=\"extract-kernel-config\"\u003eExtract kernel config\u003c/h2\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003e$ dd if=boot_cm9.img-kernel of=dd_uImage bs=1024 skip=1\n7903+1 records in\n7903+1 records out\n8093684 bytes (8.1 MB) copied, 0.0178518 s, 453 MB/s\n$./extract-ikconfig dd_uImage \u0026gt; kernel_config\n\u003c/code\u003e\u003c/pre\u003e\u003ch2 id=\"extract-ramdisk\"\u003eExtract ramdisk\u003c/h2\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003e$ mkdir ramdisk\n$ cd ramdisk\n$ gzip -dc ../boot_cm9.img-ramdisk.gz | cpio -i\n6677 blocks\n$ tree .\n.\nâ”œâ”€â”€ data\nâ”œâ”€â”€ default.prop\nâ”œâ”€â”€ dev\nâ”œâ”€â”€ init\nâ”œâ”€â”€ init.goldfish.rc\nâ”œâ”€â”€ initlogo.rle\nâ”œâ”€â”€ init.rc\nâ”œâ”€â”€ init.sun4i.rc\nâ”œâ”€â”€ init.sun4i.usb.rc\nâ”œâ”€â”€ proc\nâ”œâ”€â”€ sbin\nâ”‚   â”œâ”€â”€ adbd\nâ”‚   â””â”€â”€ ueventd -\u0026gt; ../init\nâ”œâ”€â”€ sys\nâ”œâ”€â”€ system\nâ”œâ”€â”€ ueventd.goldfish.rc\nâ”œâ”€â”€ ueventd.rc\nâ””â”€â”€ ueventd.sun4i.rc\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eReference:\u003cbr\u003e\n\u003ca href=\"http://android-dls.com/wiki/index.php?title=HOWTO:_Unpack%2C_Edit%2C_and_Re-Pack_Boot_Images\"\u003eHOWTO: Unpack, Edit, and Re-Pack Boot Images\u003c/a\u003e\u003c/p\u003e","title":"How to split boot.img and get kernel config"},{"content":"Get extract-ikconfig in kernel-source/scripts/ $mkdir extreact-uImage $cd extreact-uImage $cp {kernel-source}/scripts/extract-ikconfig . Dump uImage skip 1024 bytes $cp {uImage/what/you/want} uImage $dd if=uImage of=dd_uImage bs=1024 skip=1 $./extract-ikconfig dd_uImage \u0026gt; config ","permalink":"https://oopsmonk.github.io/posts/2012-08-21-how2extractkernelconfigfromuimage/","summary":"\u003ch3 id=\"get-extract-ikconfig-in-kernel-sourcescripts\"\u003eGet extract-ikconfig in kernel-source/scripts/\u003c/h3\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003e$mkdir extreact-uImage\n$cd extreact-uImage\n$cp {kernel-source}/scripts/extract-ikconfig .\n\u003c/code\u003e\u003c/pre\u003e\u003ch3 id=\"dump-uimage-skip-1024-bytes\"\u003eDump uImage skip 1024 bytes\u003c/h3\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003e$cp {uImage/what/you/want} uImage\n$dd if=uImage of=dd_uImage bs=1024 skip=1\n$./extract-ikconfig dd_uImage \u0026gt; config \n\u003c/code\u003e\u003c/pre\u003e","title":"How to extract kernel config from uImage"},{"content":"XBMC announced XBMC for Android.\nä¸éä¸¦ä¸æ‰“ç®—æ”¾ä¸ŠGoogle Play, éœ€è¦è‡ªè¡ŒcompileåŠæ‰“åŒ…, æ–¹æ³•å¯åƒè€ƒ:\nBuild XBMC for Android on lubuntu 12.04\nåœ¨æ­¤è¨˜éŒ„ä¸€ä¸‹ç›®å‰åœ¨MK802è·‘èµ·ä¾†çš„æƒ…æ³.\nMK802ä»‹ç´¹å¯åƒè€ƒ:\nAndroid 4.0 mini PC æœ€å°çš„ä¸»æ©ŸMK802\nCPU : Allwinner A10 - ARM Cortex A8 SoC\nGPU : ARM Mali 400\nRAM : 1GB\nä»¥å…¬å®šåƒ¹$79USDåŠè®“äººè·Œç ´çœ¼é¡çš„å…¥æ‰‹åƒ¹, æ‹¿ä¾†ç©çœŸæ˜¯å¤ æœ¬äº†.\né€™æ¬¡æ˜¯è¦ç”¨Android æ‰‹æ©Ÿä¾†æ§åˆ¶ XBMC, å› ç‚ºMK802æ²’æœ‰IRåªèƒ½ç”¨æ»‘é¼ æ“ä½œä¸Šæœ‰äº›ä¸ä¾¿.\nGoogle Playä¸Šæœ‰Official XBMC Remoteå¯ç›´æ¥ä¸‹è¼‰ä¾†ç”¨.\nä¸­æ–‡è¨­å®š: åˆ‡æ›åˆ°Appearance -\u0026gt; Setting -\u0026gt; International -\u0026gt; Language\nç‚ºäº†èƒ½é€éHTTPé€£åˆ°MK802çš„XBMC, éœ€è¦å°‡\u0026quot;ç¶²ç«™ä¼ºæœ\u0026quot;çš„åŠŸèƒ½æ‰“é–‹, è¨­å®šport number\næ¥è‘—æŸ¥çœ‹IP, è¨­å®šæ‰‹æ©Ÿä¸Šçš„XBMC Remoteå¦‚ä¸‹:\né€£ç·šæˆåŠŸå°±æœƒå‡ºç¾æ§åˆ¶é¸é …\nç”¨æ‰‹æ©Ÿä¸Š\u0026quot;Remote Control\u0026quot; Navigation, æ¸¬è©¦æ’­æ”¾USBè£¡çš„å½±ç‰‡\nå½±ç‰‡é–‹æ’­å¾Œé¸æ‰‹æ©Ÿä¸Šçš„\u0026quot;Now Playing\u0026quot;, å¯ä»¥åšseek, FF/FBåŠŸèƒ½, éŸ³é‡æ§åˆ¶æ˜¯ä½¿ç”¨æ‰‹æ©Ÿä¸Šçš„éŸ³é‡éµ.\n(ç•¶åˆé‚„å› ç‚ºç„¡æ³•æ§åˆ¶éŸ³é‡ç…©è…¦, æ²’æƒ³åˆ°ç›´æ¥ç”¨å°±å¯ä»¥\u0026hellip;å†)\næ’­æ”¾online radio, ç”¨çš„æ˜¯SKY.FM, å¯ä»¥åˆ°\u0026quot;é™„åŠ å…ƒä»¶\u0026quot;ä¸­ä¸‹è¼‰å®‰è£.\néŸ³æ¨‚Full screenæ’­æ”¾, å¯ä»¥çœ‹åˆ°èƒŒæ™¯çš„GLå‹•ç•«é‚„å¯ä»¥è·‘åˆ°31fps, ä¼¼ä¹é‚„OK.\nå¤©æ°£+éŸ³æ¨‚æ’­æ”¾, å¾Œé¢çš„GLå‹•ç•«é‚„æ˜¯æ­£å¸¸é¡¯ç¤º, ä¸¦ä¸æ˜¯éœæ…‹çš„.\nå¾Œè¨˜:\né€éé™„åŠ å…ƒä»¶ä¸‹è¼‰å®‰è£çš„YouTubeåŠTime.comç„¡æ³•æ­£å¸¸æ’­æ”¾video. å¾ˆåƒè¨˜æ†¶é«”å¤§ç´„è¦åƒæ‰80MB. ç ”ç©¶XBMCåœ¨Android å¦‚ä½•implement, æ‡‰è©²æ˜¯å¾ˆæœ‰è¶£çš„.å¿…ç«ŸXBMCæ˜¯ç”¨è‡ªå·±çš„GUIç³»çµ±, é‚„è¦å…‹æœBionic libcåœ¨dlopençš„ä¸è¶³ä¹‹è™•. ","permalink":"https://oopsmonk.github.io/posts/2012-07-29-xbmc4androidonmk802/","summary":"\u003cp\u003eXBMC announced \u003ca href=\"http://xbmc.org/theuni/2012/07/13/xbmc-for-android/\"\u003eXBMC for Android\u003c/a\u003e.\u003cbr\u003e\nä¸éä¸¦ä¸æ‰“ç®—æ”¾ä¸ŠGoogle Play, éœ€è¦è‡ªè¡ŒcompileåŠæ‰“åŒ…, æ–¹æ³•å¯åƒè€ƒ:\u003cbr\u003e\n\u003ca href=\"/blog/2012/07/28/BuildXBMC\"\u003eBuild XBMC for Android on lubuntu 12.04\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eåœ¨æ­¤è¨˜éŒ„ä¸€ä¸‹ç›®å‰åœ¨MK802è·‘èµ·ä¾†çš„æƒ…æ³.\u003cbr\u003e\nMK802ä»‹ç´¹å¯åƒè€ƒ:\u003cbr\u003e\n\u003ca href=\"http://dacota.pixnet.net/blog/post/30077383\"\u003eAndroid 4.0 mini PC æœ€å°çš„ä¸»æ©ŸMK802\u003c/a\u003e\u003cbr\u003e\nCPU : Allwinner A10 - ARM Cortex A8 SoC\u003cbr\u003e\nGPU : ARM Mali 400\u003cbr\u003e\nRAM : 1GB\u003cbr\u003e\nä»¥å…¬å®šåƒ¹$79USDåŠè®“äººè·Œç ´çœ¼é¡çš„å…¥æ‰‹åƒ¹, æ‹¿ä¾†ç©çœŸæ˜¯å¤ æœ¬äº†.\u003cbr\u003e\né€™æ¬¡æ˜¯è¦ç”¨Android æ‰‹æ©Ÿä¾†æ§åˆ¶ XBMC, å› ç‚ºMK802æ²’æœ‰IRåªèƒ½ç”¨æ»‘é¼ æ“ä½œä¸Šæœ‰äº›ä¸ä¾¿.\u003cbr\u003e\nGoogle Playä¸Šæœ‰\u003ca href=\"https://play.google.com/store/apps/details?id=org.xbmc.android.remote\u0026amp;hl=zh_TW\"\u003eOfficial XBMC Remote\u003c/a\u003eå¯ç›´æ¥ä¸‹è¼‰ä¾†ç”¨.\u003c/p\u003e\n\u003cp\u003e\u003cimg loading=\"lazy\" src=\"/images/2012-07-29/DSCN1987_re_note.jpg\"\u003e\u003c/p\u003e\n\u003cp\u003eä¸­æ–‡è¨­å®š: åˆ‡æ›åˆ°Appearance -\u0026gt; Setting -\u0026gt; International -\u0026gt; Language\u003cbr\u003e\n\u003cimg loading=\"lazy\" src=\"/images/2012-07-29/DSCN1995_re.jpg\"\u003e\u003cbr\u003e\n\u003cimg loading=\"lazy\" src=\"/images/2012-07-29/DSCN2003_re.jpg\"\u003e\u003c/p\u003e\n\u003cp\u003eç‚ºäº†èƒ½é€éHTTPé€£åˆ°MK802çš„XBMC, éœ€è¦å°‡\u0026quot;ç¶²ç«™ä¼ºæœ\u0026quot;çš„åŠŸèƒ½æ‰“é–‹, è¨­å®šport number\u003cbr\u003e\n\u003cimg loading=\"lazy\" src=\"/images/2012-07-29/DSCN2004_re.jpg\"\u003e\u003c/p\u003e\n\u003cp\u003eæ¥è‘—æŸ¥çœ‹IP, è¨­å®šæ‰‹æ©Ÿä¸Šçš„XBMC Remoteå¦‚ä¸‹:\u003cbr\u003e\n\u003cimg loading=\"lazy\" src=\"/images/2012-07-29/DSCN2005_re_note.jpg\"\u003e\u003c/p\u003e\n\u003cp\u003eé€£ç·šæˆåŠŸå°±æœƒå‡ºç¾æ§åˆ¶é¸é …\u003cbr\u003e\n\u003cimg loading=\"lazy\" src=\"/images/2012-07-29/DSCN2006_re.jpg\"\u003e\u003c/p\u003e\n\u003cp\u003eç”¨æ‰‹æ©Ÿä¸Š\u0026quot;Remote Control\u0026quot; Navigation, æ¸¬è©¦æ’­æ”¾USBè£¡çš„å½±ç‰‡\u003cbr\u003e\n\u003cimg loading=\"lazy\" src=\"/images/2012-07-29/DSCN2008_re.jpg\"\u003e\u003c/p\u003e\n\u003cp\u003eå½±ç‰‡é–‹æ’­å¾Œé¸æ‰‹æ©Ÿä¸Šçš„\u0026quot;Now Playing\u0026quot;, å¯ä»¥åšseek, FF/FBåŠŸèƒ½, éŸ³é‡æ§åˆ¶æ˜¯ä½¿ç”¨æ‰‹æ©Ÿä¸Šçš„éŸ³é‡éµ.\u003cbr\u003e\n(ç•¶åˆé‚„å› ç‚ºç„¡æ³•æ§åˆ¶éŸ³é‡ç…©è…¦, æ²’æƒ³åˆ°ç›´æ¥ç”¨å°±å¯ä»¥\u0026hellip;å†)\u003cbr\u003e\n\u003cimg loading=\"lazy\" src=\"/images/2012-07-29/DSCN2011_re.jpg\"\u003e\u003c/p\u003e","title":"XBMC for Android on MK802"},{"content":"Install required packages # sudo apt-get install build-essential default-jdk git curl autoconf \\ unzip zip zlib1g-dev gawk gperf Getting the Android SDK and NDK http://developer.android.com/sdk/index.html\nSDK : android-sdk_r20.0.1-linux.tgz\ncrystax-5 NDK with enabled support of C++ exceptions, RTTI and Standard C++ Library\nhttp://www.crystax.net/en/android/ndk/7#download\nNDK : android-ndk-r7-crystax-5.beta2-linux-x86.tar.bz2\nInstalling Android SDK packages \u0026lt;android-sdk\u0026gt; : $HOME/XBMC_Project/android-sdk-linux\n# cd \u0026lt;android-sdk\u0026gt;/tools # ./android update sdk -u -t platform,platform-tool Setup the Android toolchain \u0026lt;android-ndk\u0026gt; : $HOME/XBMC_Project/android-ndk-r8b \u0026lt;android-toolchain\u0026gt; : $HOME/XBMC_Project/android_toolchain/android-9\n# cd \u0026lt;android-ndk\u0026gt; # ls platforms # cd build/tools # ./make-standalone-toolchain.sh --ndk-dir=../../ \\ --install-dir=\u0026lt;android-toolchain\u0026gt;/android-9 --platform=android-9 Create a (new) debug key to sign debug APKs All packages must be signed. The following command will generate a self-signed debug key. If the result is a cryptic error, it probably just means a debug key already existed, no cause for alarm.\n# keytool -genkey -keystore ~/.android/debug.keystore -v -alias \\ androiddebugkey -dname \u0026#34;CN=Android Debug,O=Android,C=US\u0026#34; -keypass \\ android -storepass android -keyalg RSA -keysize 2048 -validity 10000 Getting the source code # cd $HOME/XBMC_Project # git clone git://github.com/xbmc/android.git xbmc-android-git # cd xbmc-android-git # git submodule update --init addons/skin.touched Building dependencies # cd $HOME/XBMC_Project/xbmc-android-git/tools/android/depends # ./bootstrap # ./configure --help #export XBMC_ANDROID_NDK=~/XBMC_Project/android-ndk-r7-crystax-5.beta2 #export XBMC_ANDROID_SDK=~/XBMC_Project/android-sdk-linux #export XBMC_ANDROID_TARBALLS=~/XBMC_Project/xbmc-tarballs #./configure --with-toolchain=~/XBMC_Project/android-toolchain/android-9 checking for g++... g++ checking whether the C++ compiler works... yes checking for C++ compiler default output file name... a.out checking for suffix of executables... checking whether we are cross compiling... no checking for suffix of object files... o checking whether we are using the GNU C++ compiler... yes checking whether g++ accepts -g... yes checking for gcc... gcc checking whether we are using the GNU C compiler... yes checking whether gcc accepts -g... yes checking for gcc option to accept ISO C89... none needed checking for main in -lz... yes checking for unzip... yes checking for zip... yes checking for curl... /usr/bin/curl checking for tar... /bin/tar checking for -gcc... no configure: WARNING: host was not specified. guessing. checking for gcc... /home/oopsmonk/XBMC_Project/android-toolchain/android-9/arm-linux-androideabi/bin/gcc toolchain: /home/oopsmonk/XBMC_Project/android-toolchain/android-9 cpu: armeabi-v7a host: arm-linux-androideabi sdk-platform: android-10 configure: creating ./config.status config.status: creating Makefile config.status: creating Makefile.include #make -j4 make[1]: Leaving directory `/home/oopsmonk/XBMC_Project/xbmc-android-git/tools/android/depends/libssh\u0026#39; Dependencies built successfully. Building XBMC #cd ~/XBMC_Project/xbmc-android-git/tools/android/depends/xbmc #make -j4 APK location : ~/XBMC_Project/xbmc-android-git/xbmcapp-armeabi-v7a-debug.apk\nEnjoy it !!\nReferences:\nhttps://github.com/xbmc/android/blob/android-rebase-8/docs/README.android\nhttp://xbmc.org/theuni/2012/07/13/xbmc-for-android/\n","permalink":"https://oopsmonk.github.io/posts/2012-07-28-buildxbmc/","summary":"\u003ch3 id=\"install-required-packages\"\u003eInstall required packages\u003c/h3\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003e# sudo apt-get install build-essential default-jdk git curl autoconf \\\n unzip zip zlib1g-dev gawk gperf\n\u003c/code\u003e\u003c/pre\u003e\u003ch3 id=\"getting-the-android-sdk-and-ndk\"\u003eGetting the Android SDK and NDK\u003c/h3\u003e\n\u003cp\u003e\u003ca href=\"http://developer.android.com/sdk/index.html\"\u003ehttp://developer.android.com/sdk/index.html\u003c/a\u003e\u003cbr\u003e\nSDK : \u003ca href=\"http://dl.google.com/android/android-sdk_r20.0.1-linux.tgz\"\u003eandroid-sdk_r20.0.1-linux.tgz\u003c/a\u003e\u003cbr\u003e\ncrystax-5 NDK with enabled support of C++ exceptions, RTTI and Standard C++ Library\u003cbr\u003e\n\u003ca href=\"http://www.crystax.net/en/android/ndk/7#download\"\u003ehttp://www.crystax.net/en/android/ndk/7#download\u003c/a\u003e\u003cbr\u003e\nNDK : \u003ca href=\"http://www.crystax.net/en/download/android-ndk-r7-crystax-5.beta2-linux-x86.tar.bz2\"\u003eandroid-ndk-r7-crystax-5.beta2-linux-x86.tar.bz2\u003c/a\u003e\u003c/p\u003e\n\u003ch3 id=\"installing-android-sdk-packages\"\u003eInstalling Android SDK packages\u003c/h3\u003e\n\u003cp\u003e\u0026lt;android-sdk\u0026gt; : $HOME/XBMC_Project/android-sdk-linux\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003e# cd \u0026lt;android-sdk\u0026gt;/tools\n# ./android update sdk -u -t platform,platform-tool\n\u003c/code\u003e\u003c/pre\u003e\u003ch3 id=\"setup-the-android-toolchain\"\u003eSetup the Android toolchain\u003c/h3\u003e\n\u003cp\u003e\u0026lt;android-ndk\u0026gt; :  $HOME/XBMC_Project/android-ndk-r8b\n\u0026lt;android-toolchain\u0026gt; :  $HOME/XBMC_Project/android_toolchain/android-9\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003e# cd \u0026lt;android-ndk\u0026gt;\n# ls platforms\n# cd build/tools\n# ./make-standalone-toolchain.sh --ndk-dir=../../ \\\n  --install-dir=\u0026lt;android-toolchain\u0026gt;/android-9 --platform=android-9\n\u003c/code\u003e\u003c/pre\u003e\u003ch3 id=\"create-a-new-debug-key-to-sign-debug-apks\"\u003eCreate a (new) debug key to sign debug APKs\u003c/h3\u003e\n\u003cp\u003eAll packages must be signed. The following command will generate a self-signed debug key. If the result is a cryptic error, it probably just means a debug key already existed, no cause for alarm.\u003c/p\u003e","title":"Build XBMC for Android on lubuntu 12.04"},{"content":"å…ˆçœ‹éProcesses and Threadsæœƒæœ‰æ¯”è¼ƒæ¸…æ¥šçš„æ¦‚å¿µ, ç•¶Adnroid Application å•Ÿå‹•å¾Œ, ç³»çµ±æœƒå»ºä¸€å€‹ä¸»è¦çš„thread ç¨± \u0026ldquo;main thread\u0026rdquo; or \u0026ldquo;UI thread\u0026rdquo;, æ‰€æœ‰çš„components çš†è·‘åœ¨é€™å€‹UI thread, system calls ä¹Ÿæ˜¯é€éUI thread dispatchedçµ¦å„å€‹component, ex: onKeyDown, touch event.\nUI thread å¦‚å› å¤§é‡é‹ç®—æˆ–ç­‰å¾…è€Œblocked, é è¨­è¶…é5ç§’ANR(Application Not Responding)å°±æœƒç™¼ç”Ÿ.\nä¸”Android UI components ä¸¦éthread-safe, ä½¿ç”¨ä¸Šè¦ç‰¹åˆ¥å°å¿ƒ.\næ‰€ä»¥:\nlong time computationä½¿ç”¨å¦å¤–çš„thread, ä¸è¦å¯«åœ¨ UI Thread. ä¸è¦åœ¨UI thread ä¹‹å¤–ä½¿ç”¨UI component method. é€éThread, Handler and AsyncTask perform asynchronous processing, é¿å…UI thread block. Threads Android æä¾›ä»¥ä¸‹çš„method, å¯åœ¨å…¶å®ƒçš„thread ä¸‹èª¿ç”¨ UI thread.\nActivity.runOnUiThread(Runnable) View.post(Runnable) \u0026lt;-- used in example code. View.postDelayed(Runnable, long) æˆ–æ˜¯ä½¿ç”¨Handler or AsyncTasks class é”åˆ°åŒæ¨£çš„æ•ˆæœ.\nHandler æœ‰2å€‹ä¸»è¦ç”¨é€”:\nmessage scheduling, post action at specific point. å°‡å…¶å®ƒthreadç™¼å‡ºä¾†çš„action æ”¾å…¥message queueä¸­, é¿å…race condition. è™•ç†message éœ€è¦override handleMessage(), é€ésendMessage() or sendEmptyMessage() method.\nåŸ·è¡ŒRunnanbleå‰‡æ˜¯ä½¿ç”¨post() method.\nä¸€å€‹Activity åªéœ€æœ‰ä¸€å€‹Handler instance.\nAsyncTask ä½¿ç”¨AsyncTaskå¿…éœ€ç¹¼æ‰¿å®ƒ, ä¸”override doInBackground() method.\nç”¨æ³•ï¼š\nå‘¼å«execute() é–‹å§‹åŸ·è¡Œ, ä¹‹å¾ŒonPerExecute()æ¥è‘—è‡ªå‹•è¢«å‘¼å«, é€šå¸¸ç”¨ä¾† initial status of task.\næ¥è‘—doInBackground() è¢«èª¿ç”¨, ä¸€èˆ¬ç‚ºlong time computationæ™‚ä½¿ç”¨.\ncall publishProgress()å¾Œæœƒèª¿ç”¨onProgressUpdate(), onProgressUpdate()èª¿ç”¨æ–¼UI thread, ä¸€èˆ¬ç”¨ä¾†update progress bar, UI animate.\npublishProgress() triggeræ™‚é–“é»æ˜¯ç„¡æ³•é æœŸçš„.\ndoInBackground() çµæŸå¾Œæœƒtrigger onPostExecute()èª¿ç”¨æ–¼UI thread, ç”¨ä¾†è¿”å›çµæœ.\nThread, Handler åœ¨Avtivity çµæŸå¾Œ threadå°±çµæŸ, ä½†AsyncTackå‰‡å¦.\nAns:\nInternally, AsyncTask uses fixed thread pool.\n(See http://developer.android.com/reference/java/util/concurrent/ThreadPoolExecutor.html)\nSo, even if AsyncTask finished, thread does not die. But thread in thread pool can be killed.\nExample:\nres/layout/demothreads.xml\nDemoThreads.java\nDemoHandler.java\nDemoAsyncTask.java\nReferences:\nhttp://www.vogella.com/articles/AndroidPerformance/article.html\nhttp://android-er.blogspot.tw/2010/11/progressbar-running-in-asynctask.html\nhttp://stackoverflow.com/questions/10688878/android-how-to-reconnect-to-asynctask-after-ondestroy-and-relaunch-oncreate\n","permalink":"https://oopsmonk.github.io/posts/2012-06-14-androidthreadshandlersandasynctask/","summary":"\u003cp\u003eå…ˆçœ‹é\u003ca href=\"http://developer.android.com/guide/components/processes-and-threads.html\"\u003eProcesses and Threads\u003c/a\u003eæœƒæœ‰æ¯”è¼ƒæ¸…æ¥šçš„æ¦‚å¿µ, ç•¶Adnroid Application å•Ÿå‹•å¾Œ, ç³»çµ±æœƒå»ºä¸€å€‹ä¸»è¦çš„thread ç¨± \u0026ldquo;main thread\u0026rdquo; or \u0026ldquo;UI thread\u0026rdquo;, æ‰€æœ‰çš„components çš†è·‘åœ¨é€™å€‹UI thread, system calls ä¹Ÿæ˜¯é€éUI thread dispatchedçµ¦å„å€‹component, ex: onKeyDown, touch event.\u003cbr\u003e\nUI thread å¦‚å› å¤§é‡é‹ç®—æˆ–ç­‰å¾…è€Œblocked, é è¨­è¶…é5ç§’ANR(Application Not Responding)å°±æœƒç™¼ç”Ÿ.\u003cbr\u003e\nä¸”Android UI components ä¸¦éthread-safe, ä½¿ç”¨ä¸Šè¦ç‰¹åˆ¥å°å¿ƒ.\u003cbr\u003e\næ‰€ä»¥:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003elong time computationä½¿ç”¨å¦å¤–çš„thread, ä¸è¦å¯«åœ¨ UI Thread.\u003c/li\u003e\n\u003cli\u003eä¸è¦åœ¨UI thread ä¹‹å¤–ä½¿ç”¨UI component method.\u003c/li\u003e\n\u003cli\u003eé€éThread, Handler and AsyncTask perform asynchronous processing, é¿å…UI thread block.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"threadshttpdeveloperandroidcomreferencejavalangthreadhtml\"\u003e\u003ca href=\"http://developer.android.com/reference/java/lang/Thread.html\"\u003eThreads\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eAndroid æä¾›ä»¥ä¸‹çš„method, å¯åœ¨å…¶å®ƒçš„thread ä¸‹èª¿ç”¨ UI thread.\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eActivity.\u003cspan style=\"color:#a6e22e\"\u003erunOnUiThread\u003c/span\u003e(Runnable)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eView.\u003cspan style=\"color:#a6e22e\"\u003epost\u003c/span\u003e(Runnable) \u003cspan style=\"color:#f92672\"\u003e\u0026lt;--\u003c/span\u003e used in example code.\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eView.\u003cspan style=\"color:#a6e22e\"\u003epostDelayed\u003c/span\u003e(Runnable, \u003cspan style=\"color:#66d9ef\"\u003elong\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eæˆ–æ˜¯ä½¿ç”¨Handler or AsyncTasks class é”åˆ°åŒæ¨£çš„æ•ˆæœ.\u003c/p\u003e","title":"Android Threads, Handlers and AsyncTask"},{"content":"é€™æ¬¡çš„Computex show ä¸­Micorsofteä¸»è¦æ˜¯å¼·æ‰“windows 8ç³»çµ±çš„ Ultrabook, Tablet , AIO(All in One) PC, ä¸»è¦å¤§å» ASUS, Acer, Compal, Gigabyte, MSI, Samsung \u0026hellip;ç­‰éƒ½æœ‰å±•å‡º, é™¤äº†é€™äº›ä¾†çœ‹çœ‹å…¶å®ƒæœ‰è¶£çš„æ±è¥¿å§.\näº’å‹•æ„Ÿåè¶³çš„è²©è³£æ©Ÿ, åŸæœ¬ä»¥ç‚ºæ˜¯å–®ç´”çš„transparent panel æ’­æ”¾å‹•ç•«, æ²’æƒ³åˆ°æ˜¯touch panelé‚„å¯ä»¥ç©game, AUOçš„é¢æ¿, ç•¶ç„¶é€™éº¼å¤§çš„é¢æ¿ç”¨çš„æ˜¯å…‰å­¸è§¸æ§(Optical touch).\nLITEMAX(æ™¶é”å…‰é›») çš„ Spanpixel Resizing LCDé€éç¨ç‰¹çš„é¢æ¿åˆ‡å‰²æŠ€è¡“, æä¾›éä¸€èˆ¬æ¨™æº–æ¯”ä¾‹çš„LCDé¡¯ç¤ºå™¨. åšç‚ºç‰¹æ®Šå·¥æ¥­æ‡‰ç”¨, è»Šç«™ã€è³¼ç‰©ä¸­å¿ƒï¼Œå…¬å…±è³‡è¨Š\u0026hellip;ç­‰çš„é¡¯ç¤ºæ‡‰ç”¨. ä»Šå¹´æ›ç‰Œä¸Šå¸‚çš„å…¬å¸, é›»å­å»£å‘Šçœ‹æ¿æ¨¡çµ„ä¼¼ä¹æœ‰ä¸éŒ¯çš„æ½›åŠ›.\nè®“æˆ‘æƒ³åˆ°Always Innovatin çš„ HDMI Dongle, å®¶è£¡çš„èˆŠé›»è¦–åªè¦æœ‰HDMI portå°±å¯ä»¥å‡ç´šæˆSmartTV, å¾Œä¾†å¾—çŸ¥åœ‹å…§æœ‰å‡ å®¶å…¬å¸æœ‰åœ¨åšé¡ä¼¼çš„ç”¢å“, ä¼¼ä¹ä¹Ÿæ˜¯ä¸éŒ¯çš„å•†æ©Ÿ.\nGenius åœ¨2011å¹´æ¨å‡ºå…¨çƒé¦–æ¬¾Ring Mouse, ä»Šå¹´åˆæ¨å‡ºæ–°ä¸€ä»£çš„Ring Presenter. ç”¨çš„æ˜¯2.4GHzç„¡ç·š.\nç²¾å‚‘é›»å­, ä¸»è¦å¼·èª¿3D graphicè™•ç†èƒ½åŠ›, æ‡‰ç”¨åœ¨3D presentations, ç”¨transparent panel. ç¸½è¦ºå¾—èˆ‡ç£å„€ç§‘æŠ€æ¨çš„è¡Œå‹•é†«ç™‚å¹³æ¿å¾ˆåƒ.\nè¦æ ¼å¦‚ä¸‹:\nCPU: AMD G-Series T56N Dual Core GPU: AMD Radeon HD6320 Screen: 10.4\u0026quot; XGA color LCD(1024x768), touch panel Memory: 4GB DDR3 memory Storage: 32GB SSD Drive Wireless: 802.11 b/g/n, Bluetooth interfaces LAN: Gigabit Ethernet Camera: auto-focus CMOS 5.0 megapixels Battery life: 2.5_3 hours (2 batteries) Weight: 1.75kg (with 2 batteries) æ‰‹ä¸Šæ‹¿çš„æ˜¯Google Glass ?!\nè¨˜å¾—CES showä¸­çš„demoæœ‰çœ‹éé€™çœ¼é¡, æš«æ™‚æ‰¾ä¸åˆ°ä¹‹å‰youtbeä¸Šçš„å½±ç‰‡..\u0026quot;\nç©ä½·å¤§, æ¶²æ…‹æ°®éƒ½å‡ºå ´äº†.\nå¦‚æœæ˜¯åœ¨Shopping Mall, Pub..ç­‰åœ°æ–¹, æ‡‰è©²æœƒå¸å¼•ä¸å°‘ç›®å…‰.\nè¬é‡Œç§‘æŠ€çš„è™Ÿç¨±å…¨çƒç¬¬ä¸€å°å…å»èƒŒæ‹ç…§ç³»çµ±, ä¸éä¸Šé¢é€™model çœ‹èµ·ä¾†ç¬‘çš„æœ‰é»åƒµ, é€™å§¿å¼é‚„æœ‰ç¬‘å®¹å¯æ˜¯è¦ç¶­æŒ3åˆ†é˜ä»¥ä¸Šå§, æˆ‘çŒœ!! å› ç‚ºè¦æ‹20å€‹è§’åº¦\u0026hellip;å†\nçœ‹ä¼¼ä¸éŒ¯çš„åŠŸèƒ½, ä½†å¦‚æœæ˜¯æ¡Œæ©Ÿçš„è©±, é›–ç„¶ç°å¡µä¸å¡åœ¨CPUæ•£ç†±ç‰‡ä¸Š, ä¼¼ä¹ä¾èˆŠåœ¨æ©Ÿæ®¼è£¡é¢?!\næ‹¿D3ä¾†å±•ç¤ºgaming performanceè®“æˆ‘å˜´è§’ä¸Šæšäº†ä¸€ä¸‹, ç‚ºä»€éº¼ä¸æ‹¿å€‹3D gameä¾†å±•ç¤º..åªèƒ½èªªD3æ­£å¤¯\u0026hellip;XD\nå¦å¤–Grand Hyatt show room list.\nå…¶å®ƒç…§ç‰‡\n","permalink":"https://oopsmonk.github.io/posts/2012-06-10-computextaipei/","summary":"\u003cp\u003eé€™æ¬¡çš„Computex show ä¸­Micorsofteä¸»è¦æ˜¯å¼·æ‰“windows 8ç³»çµ±çš„ Ultrabook, Tablet , AIO(All in One) PC, ä¸»è¦å¤§å» ASUS, Acer, Compal, Gigabyte, MSI, Samsung \u0026hellip;ç­‰éƒ½æœ‰å±•å‡º, é™¤äº†é€™äº›ä¾†çœ‹çœ‹å…¶å®ƒæœ‰è¶£çš„æ±è¥¿å§.\u003c/p\u003e\n\u003cp\u003e\u003cimg loading=\"lazy\" src=\"/images/2012-06-10/DSCN1581_re.jpg\"\u003e\u003cbr\u003e\näº’å‹•æ„Ÿåè¶³çš„è²©è³£æ©Ÿ, åŸæœ¬ä»¥ç‚ºæ˜¯å–®ç´”çš„transparent panel æ’­æ”¾å‹•ç•«, æ²’æƒ³åˆ°æ˜¯touch panelé‚„å¯ä»¥ç©game, AUOçš„é¢æ¿, ç•¶ç„¶é€™éº¼å¤§çš„é¢æ¿ç”¨çš„æ˜¯å…‰å­¸è§¸æ§(Optical touch).\u003c/p\u003e\n\u003cp\u003e\u003cimg loading=\"lazy\" src=\"/images/2012-06-10/DSCN1583_re.jpg\"\u003e\u003cbr\u003e\nLITEMAX(æ™¶é”å…‰é›») çš„ Spanpixel Resizing LCDé€éç¨ç‰¹çš„é¢æ¿åˆ‡å‰²æŠ€è¡“, æä¾›éä¸€èˆ¬æ¨™æº–æ¯”ä¾‹çš„LCDé¡¯ç¤ºå™¨. åšç‚ºç‰¹æ®Šå·¥æ¥­æ‡‰ç”¨, è»Šç«™ã€è³¼ç‰©ä¸­å¿ƒï¼Œå…¬å…±è³‡è¨Š\u0026hellip;ç­‰çš„é¡¯ç¤ºæ‡‰ç”¨. ä»Šå¹´æ›ç‰Œä¸Šå¸‚çš„å…¬å¸, é›»å­å»£å‘Šçœ‹æ¿æ¨¡çµ„ä¼¼ä¹æœ‰ä¸éŒ¯çš„æ½›åŠ›.\u003c/p\u003e\n\u003cp\u003e\u003cimg loading=\"lazy\" src=\"/images/2012-06-10/DSCN1733_re.jpg\"\u003e\u003cbr\u003e\nè®“æˆ‘æƒ³åˆ°\u003ca href=\"http://www.alwaysinnovating.com/products/hdmidongle.htm\"\u003eAlways Innovatin çš„ HDMI Dongle\u003c/a\u003e, å®¶è£¡çš„èˆŠé›»è¦–åªè¦æœ‰HDMI portå°±å¯ä»¥å‡ç´šæˆSmartTV, å¾Œä¾†å¾—çŸ¥åœ‹å…§æœ‰å‡ å®¶å…¬å¸æœ‰åœ¨åšé¡ä¼¼çš„ç”¢å“, ä¼¼ä¹ä¹Ÿæ˜¯ä¸éŒ¯çš„å•†æ©Ÿ.\u003c/p\u003e\n\u003cp\u003e\u003cimg loading=\"lazy\" src=\"/images/2012-06-10/DSCN1609_re.jpg\"\u003e\u003cbr\u003e\nGenius åœ¨2011å¹´æ¨å‡ºå…¨çƒé¦–æ¬¾Ring Mouse, ä»Šå¹´åˆæ¨å‡ºæ–°ä¸€ä»£çš„Ring Presenter. ç”¨çš„æ˜¯2.4GHzç„¡ç·š.\u003c/p\u003e\n\u003cp\u003e\u003cimg loading=\"lazy\" src=\"/images/2012-06-10/DSCN1641_re.jpg\"\u003e\u003cbr\u003e\nç²¾å‚‘é›»å­, ä¸»è¦å¼·èª¿3D graphicè™•ç†èƒ½åŠ›, æ‡‰ç”¨åœ¨3D presentations, ç”¨transparent panel. ç¸½è¦ºå¾—èˆ‡ç£å„€ç§‘æŠ€æ¨çš„è¡Œå‹•é†«ç™‚å¹³æ¿å¾ˆåƒ.\u003cbr\u003e\nè¦æ ¼å¦‚ä¸‹:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eCPU: AMD G-Series T56N Dual Core\u003c/li\u003e\n\u003cli\u003eGPU: AMD Radeon HD6320\u003c/li\u003e\n\u003cli\u003eScreen: 10.4\u0026quot; XGA color LCD(1024x768), touch panel\u003c/li\u003e\n\u003cli\u003eMemory: 4GB DDR3 memory\u003c/li\u003e\n\u003cli\u003eStorage: 32GB SSD Drive\u003c/li\u003e\n\u003cli\u003eWireless: 802.11 b/g/n, Bluetooth interfaces\u003c/li\u003e\n\u003cli\u003eLAN: Gigabit Ethernet\u003c/li\u003e\n\u003cli\u003eCamera: auto-focus CMOS 5.0 megapixels\u003c/li\u003e\n\u003cli\u003eBattery life: 2.5_3 hours (2 batteries)\u003c/li\u003e\n\u003cli\u003eWeight: 1.75kg (with 2 batteries)\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003cimg loading=\"lazy\" src=\"/images/2012-06-10/DSCN1591_re.jpg\"\u003e\u003cbr\u003e\næ‰‹ä¸Šæ‹¿çš„æ˜¯Google Glass ?!\u003cbr\u003e\nè¨˜å¾—CES showä¸­çš„demoæœ‰çœ‹éé€™çœ¼é¡, æš«æ™‚æ‰¾ä¸åˆ°ä¹‹å‰youtbeä¸Šçš„å½±ç‰‡..\u003cdel\u003e\u0026quot;\u003c/del\u003e\u003c/p\u003e","title":"COMPUTEX TAIPEI 2012"}]